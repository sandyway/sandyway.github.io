import{d as s}from"./index.Bn_1hBZy.js";import{a as l}from"./index.BczdeOwI.js";import{a as i}from"./apiInterceptor.ovEtsaVg.js";const p=async a=>{let e=null;const n=await i(`${s}/users/default/permissions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),e=t.detail,null));if(e)throw e;return n},w=async(a,e)=>{let n=null;const t=await i(`${s}/users/default/permissions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...e})}).then(async o=>{if(!o.ok)throw await o.json();return o.json()}).catch(o=>(console.log(o),n=o.detail,null));if(n)throw n;return t},y=async(a,e,n)=>{let t=null;const o=await i(`${s}/users/update/role`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({id:e,role:n})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(console.log(r),t=r.detail,null));if(t)throw t;return o},f=async a=>{let e=null;const n=await i(`${s}/users/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),e=t.detail,null));if(e)throw e;return n||[]},g=async a=>{let e=null;const n=await i(`${s}/users/user/settings`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),e=t.detail,null));if(e)throw e;return n},j=async(a,e)=>{let n=null;const t=await i(`${s}/users/user/settings/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...e})}).then(async o=>{if(!o.ok)throw await o.json();return o.json()}).catch(o=>(console.log(o),n=o.detail,null));if(n)throw n;return t},m=async(a,e)=>{let n=null;const t=await i(`${s}/users/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async o=>{if(!o.ok)throw await o.json();return o.json()}).catch(o=>(console.log(o),n=o.detail,null));if(n)throw n;return t},c=async(a,e)=>{let n=null;const t=await i(`${s}/users/user/info/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...e})}).then(async o=>{if(!o.ok)throw await o.json();return o.json()}).catch(o=>(console.log(o),n=o.detail,null));if(n)throw n;return t},$=async a=>{const e=await l().catch(n=>(console.log(n),null));return e?(await c(a,{location:e}),e):(console.log("Failed to get user location"),null)},T=async(a,e)=>{let n=null;const t=await i(`${s}/users/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async o=>{if(!o.ok)throw await o.json();return o.json()}).catch(o=>(console.log(o),n=o.detail,null));if(n)throw n;return t},B=async(a,e,n)=>{let t=null;const o=await i(`${s}/users/${e}/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({profile_image_url:n.profile_image_url,email:n.email,name:n.name,password:n.password!==""?n.password:void 0})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(console.log(r),t=r.detail,null));if(t)throw t;return o};export{y as a,f as b,p as c,T as d,w as e,c as f,m as g,j as h,g as i,$ as j,B as u};
//# sourceMappingURL=index.xrDpore3.js.map
