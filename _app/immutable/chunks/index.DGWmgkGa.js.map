{"version":3,"file":"index.DGWmgkGa.js","sources":["../../../../../../src/lib/components/icons/Link.svelte","../../../../../../src/lib/components/chat/ShareChatModal.svelte","../../../../../../src/lib/components/icons/PencilSquare.svelte","../../../../../../src/lib/apis/memories/index.ts"],"sourcesContent":["<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class={className}>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { getContext, onMount } from 'svelte';\n\timport { models, config } from '$lib/stores';\n\n\timport { toast } from 'svelte-sonner';\n\timport { deleteSharedChatById, getChatById, shareChatById } from '$lib/apis/chats';\n\timport { copyToClipboard } from '$lib/utils';\n\n\timport Modal from '../common/Modal.svelte';\n\timport Link from '../icons/Link.svelte';\n\n\texport let chatId;\n\n\tlet chat = null;\n\tlet shareUrl = null;\n\tconst i18n = getContext('i18n');\n\n\tconst shareLocalChat = async () => {\n\t\tconst _chat = chat;\n\n\t\tconst sharedChat = await shareChatById(localStorage.token, chatId);\n\t\tshareUrl = `${window.location.origin}/s/${sharedChat.id}`;\n\t\tconsole.log(shareUrl);\n\t\tchat = await getChatById(localStorage.token, chatId);\n\n\t\treturn shareUrl;\n\t};\n\n\tconst shareChat = async () => {\n\t\tconst _chat = chat.chat;\n\t\tconsole.log('share', _chat);\n\n\t\ttoast.success($i18n.t('Redirecting you to Open WebUI Community'));\n\t\tconst url = 'https://openwebui.com';\n\t\t// const url = 'http://localhost:5173';\n\n\t\tconst tab = await window.open(`${url}/chats/upload`, '_blank');\n\t\twindow.addEventListener(\n\t\t\t'message',\n\t\t\t(event) => {\n\t\t\t\tif (event.origin !== url) return;\n\t\t\t\tif (event.data === 'loaded') {\n\t\t\t\t\ttab.postMessage(\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\tchat: _chat,\n\t\t\t\t\t\t\tmodels: $models.filter((m) => _chat.models.includes(m.id))\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t'*'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t};\n\n\texport let show = false;\n\n\tconst isDifferentChat = (_chat) => {\n\t\tif (!chat) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!_chat) {\n\t\t\treturn false;\n\t\t}\n\t\treturn chat.id !== _chat.id || chat.share_id !== _chat.share_id;\n\t};\n\n\t$: if (show) {\n\t\t(async () => {\n\t\t\tif (chatId) {\n\t\t\t\tconst _chat = await getChatById(localStorage.token, chatId);\n\t\t\t\tif (isDifferentChat(_chat)) {\n\t\t\t\t\tchat = _chat;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tchat = null;\n\t\t\t\tconsole.log(chat);\n\t\t\t}\n\t\t})();\n\t}\n</script>\n\n<Modal bind:show size=\"md\">\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-0.5\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Share Chat')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t{#if chat}\n\t\t\t<div class=\"px-5 pt-4 pb-5 w-full flex flex-col justify-center\">\n\t\t\t\t<div class=\" text-sm dark:text-gray-300 mb-1\">\n\t\t\t\t\t{#if chat.share_id}\n\t\t\t\t\t\t<a href=\"/s/{chat.share_id}\" target=\"_blank\"\n\t\t\t\t\t\t\t>{$i18n.t('You have shared this chat')}\n\t\t\t\t\t\t\t<span class=\" underline\">{$i18n.t('before')}</span>.</a\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Click here to')}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"underline\"\n\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\tconst res = await deleteSharedChatById(localStorage.token, chatId);\n\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tchat = await getChatById(localStorage.token, chatId);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>{$i18n.t('delete this link')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{$i18n.t('and create a new shared link.')}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\"Messages you send after creating your link won't be shared. Users with the URL will be able to view the shared chat.\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex justify-end\">\n\t\t\t\t\t<div class=\"flex flex-col items-end space-x-1 mt-3\">\n\t\t\t\t\t\t<div class=\"flex gap-1\">\n\t\t\t\t\t\t\t{#if $config?.features.enable_community_sharing}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"self-center flex items-center gap-1 px-3.5 py-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:text-white dark:hover:bg-gray-800 transition rounded-full\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tshareChat();\n\t\t\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Share to Open WebUI Community')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"self-center flex items-center gap-1 px-3.5 py-2 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tid=\"copy-and-share-chat-button\"\n\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\tconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n\t\t\t\t\t\t\t\t\tif (isSafari) {\n\t\t\t\t\t\t\t\t\t\t// Oh, Safari, you're so special, let's give you some extra love and attention\n\t\t\t\t\t\t\t\t\t\tconsole.log('isSafari');\n\n\t\t\t\t\t\t\t\t\t\tconst getUrlPromise = async () => {\n\t\t\t\t\t\t\t\t\t\t\tconst url = await shareLocalChat();\n\t\t\t\t\t\t\t\t\t\t\treturn new Blob([url], { type: 'text/plain' });\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tnavigator.clipboard\n\t\t\t\t\t\t\t\t\t\t\t.write([\n\t\t\t\t\t\t\t\t\t\t\t\tnew ClipboardItem({\n\t\t\t\t\t\t\t\t\t\t\t\t\t'text/plain': getUrlPromise()\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('Async: Copying to clipboard was successful!');\n\t\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.error('Async: Could not copy text: ', error);\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcopyToClipboard(await shareLocalChat());\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Copied shared chat URL to clipboard!'));\n\t\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Link />\n\n\t\t\t\t\t\t\t\t{#if chat.share_id}\n\t\t\t\t\t\t\t\t\t{$i18n.t('Update and Copy Link')}\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t{$i18n.t('Copy Link')}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"\n\t/>\n</svg>\n","import { WEBUI_API_BASE_URL } from '$lib/constants';\nimport { apiFetch } from '$lib/apis/interceptor/apiInterceptor';\n\nexport const getMemories = async (token: string) => {\n\tlet error = null;\n\n\tconst res = await apiFetch(`${WEBUI_API_BASE_URL}/memories/`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const addNewMemory = async (token: string, content: string) => {\n\tlet error = null;\n\n\tconst res = await apiFetch(`${WEBUI_API_BASE_URL}/memories/add`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tcontent: content\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateMemoryById = async (token: string, id: string, content: string) => {\n\tlet error = null;\n\n\tconst res = await apiFetch(`${WEBUI_API_BASE_URL}/memories/${id}/update`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tcontent: content\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const queryMemory = async (token: string, content: string) => {\n\tlet error = null;\n\n\tconst res = await apiFetch(`${WEBUI_API_BASE_URL}/memories/query`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tcontent: content\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const deleteMemoryById = async (token: string, id: string) => {\n\tlet error = null;\n\n\tconst res = await apiFetch(`${WEBUI_API_BASE_URL}/memories/${id}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const deleteMemoriesByUserId = async (token: string) => {\n\tlet error = null;\n\n\tconst res = await apiFetch(`${WEBUI_API_BASE_URL}/memories/delete/user`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n"],"names":["ctx","insert_hydration","target","svg","anchor","append_hydration","path0","path1","className","$$props","create_if_block_3","_a","create_if_block_2","create_if_block_1","div4","div0","div3","div2","div1","button","set_data","t_value","attr","a","a_href_value","span","t0","t0_value","t2","t2_value","dirty","t5","t5_value","t7","t7_value","t9","t9_value","t","create_if_block","chatId","chat","shareUrl","i18n","getContext","shareLocalChat","sharedChat","shareChatById","getChatById","shareChat","_chat","toast","$i18n","url","tab","event","$models","m","show","isDifferentChat","$$invalidate","deleteSharedChatById","getUrlPromise","error","copyToClipboard","path","strokeWidth","getMemories","token","res","apiFetch","WEBUI_API_BASE_URL","err","addNewMemory","content","updateMemoryById","id","queryMemory","deleteMemoryById","json","deleteMemoriesByUserId"],"mappings":"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"}