import{d as Y}from"./index.Bn_1hBZy.js";import{a as Q,t as Re}from"./apiInterceptor.ovEtsaVg.js";import{s as gt,e as m,k as D,c as _,a as g,o as C,d as u,f as a,i as j,g as i,B as me,u as J,n as Ie,H as Wt,D as _e,E as ge,y as vt,A as wt,p as Ft,j as Yt,q as Qt,t as G,N as bt,b as K,h as F,Q as Xt}from"./scheduler.u6_2Foza.js";import{S as yt,i as kt,f as It,b as fe,d as de,m as he,t as M,a as R,e as pe,g as Jt,c as Gt}from"./index.TaJ1J9Bt.js";import{e as zt}from"./each.CpR_wfW1.js";import{v as $t}from"./index.xnbdEWk_.js";import{v as el}from"./index.Dm7MFL02.js";import{M as tl}from"./Modal.BE09wbh8.js";import{P as ll}from"./Plus.Dn1-aCIO.js";import{T as _t}from"./Tooltip.3kB_H6zI.js";import{S as nl}from"./Switch.pLAWisIs.js";const Ll=async(s,e)=>{let t=null;const l=await Q(`${Y}/configs/import`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({config:e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},Ol=async s=>{let e=null;const t=await Q(`${Y}/configs/export`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Ml=async s=>{let e=null;const t=await Q(`${Y}/configs/direct_connections`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Pl=async(s,e)=>{let t=null;const l=await Q(`${Y}/configs/direct_connections`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},Ul=async s=>{let e=null;const t=await Q(`${Y}/configs/code_execution`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},zl=async(s,e)=>{let t=null;const l=await Q(`${Y}/configs/code_execution`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},Rl=async s=>{let e=null;const t=await Q(`${Y}/configs/models`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Hl=async(s,e)=>{let t=null;const l=await Q(`${Y}/configs/models`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},ql=async(s,e)=>{let t=null;const l=await Q(`${Y}/configs/suggestions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({suggestions:e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},Zl=async s=>{let e=null;const t=await Q(`${Y}/configs/banners`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Wl=async(s,e)=>{let t=null;const l=await Q(`${Y}/configs/banners`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({banners:e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l};function sl(s){let e,t,l;return{c(){e=_e("svg"),t=_e("path"),l=_e("path"),this.h()},l(n){e=ge(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=ge(r,"path",{d:!0}),g(t).forEach(u),l=ge(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(l).forEach(u),r.forEach(u),this.h()},h(){a(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),a(l,"fill-rule","evenodd"),a(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),a(l,"clip-rule","evenodd"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox","0 0 16 16"),a(e,"fill","currentColor"),a(e,"class","size-4")},m(n,r){j(n,e,r),i(e,t),i(e,l)},d(n){n&&u(e)}}}function ol(s){let e,t,l;return{c(){e=_e("svg"),t=_e("path"),l=_e("path"),this.h()},l(n){e=ge(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=ge(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(u),l=ge(r,"path",{d:!0}),g(l).forEach(u),r.forEach(u),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),a(t,"clip-rule","evenodd"),a(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox","0 0 16 16"),a(e,"fill","currentColor"),a(e,"class","size-4")},m(n,r){j(n,e,r),i(e,t),i(e,l)},d(n){n&&u(e)}}}function al(s){let e,t,l,n,r,o,c,d;function I(p,h){return p[7]?ol:sl}let y=I(s),v=y(s);return{c(){e=m("div"),t=m("input"),r=D(),o=m("button"),v.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var h=g(e);t=_(h,"INPUT",{class:!0,placeholder:!0,autocomplete:!0,type:!0}),r=C(h),o=_(h,"BUTTON",{class:!0,type:!0});var k=g(o);v.l(k),k.forEach(u),h.forEach(u),this.h()},h(){a(t,"class",l=`${s[5]} ${s[7]?"":"password"}`),a(t,"placeholder",s[1]),t.required=n=s[2]&&!s[3],t.disabled=s[3],a(t,"autocomplete","off"),a(t,"type","text"),a(o,"class",s[6]),a(o,"type","button"),a(e,"class",s[4])},m(p,h){j(p,e,h),i(e,t),me(t,s[0]),i(e,r),i(e,o),v.m(o,null),c||(d=[J(t,"input",s[8]),J(o,"click",s[9])],c=!0)},p(p,[h]){h&160&&l!==(l=`${p[5]} ${p[7]?"":"password"}`)&&a(t,"class",l),h&2&&a(t,"placeholder",p[1]),h&12&&n!==(n=p[2]&&!p[3])&&(t.required=n),h&8&&(t.disabled=p[3]),h&1&&t.value!==p[0]&&me(t,p[0]),y!==(y=I(p))&&(v.d(1),v=y(p),v&&(v.c(),v.m(o,null))),h&64&&a(o,"class",p[6]),h&16&&a(e,"class",p[4])},i:Ie,o:Ie,d(p){p&&u(e),v.d(),c=!1,Wt(d)}}}function rl(s,e,t){let{value:l=""}=e,{placeholder:n=""}=e,{required:r=!0}=e,{readOnly:o=!1}=e,{outerClassName:c="flex flex-1 bg-transparent"}=e,{inputClassName:d="w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"}=e,{showButtonClassName:I="pl-1.5  transition bg-transparent"}=e,y=!1;function v(){l=this.value,t(0,l)}const p=h=>{h.preventDefault(),t(7,y=!y)};return s.$$set=h=>{"value"in h&&t(0,l=h.value),"placeholder"in h&&t(1,n=h.placeholder),"required"in h&&t(2,r=h.required),"readOnly"in h&&t(3,o=h.readOnly),"outerClassName"in h&&t(4,c=h.outerClassName),"inputClassName"in h&&t(5,d=h.inputClassName),"showButtonClassName"in h&&t(6,I=h.showButtonClassName)},[l,n,r,o,c,d,I,y,v,p]}class il extends yt{constructor(e){super(),kt(this,e,rl,al,gt,{value:0,placeholder:1,required:2,readOnly:3,outerClassName:4,inputClassName:5,showButtonClassName:6})}}function cl(s){let e,t;return{c(){e=_e("svg"),t=_e("path"),this.h()},l(l){e=ge(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=g(e);t=ge(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(u),n.forEach(u),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"d","M5 12h14"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width",s[1]),a(e,"stroke","currentColor"),a(e,"class",s[0])},m(l,n){j(l,e,n),i(e,t)},p(l,[n]){n&2&&a(e,"stroke-width",l[1]),n&1&&a(e,"class",l[0])},i:Ie,o:Ie,d(l){l&&u(e)}}}function ul(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:n="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class fl extends yt{constructor(e){super(),kt(this,e,ul,cl,gt,{className:0,strokeWidth:1})}}function Rt(s,e,t){const l=s.slice();return l[11]=e[t],l[35]=t,l}function dl(s){let e=s[10].t("Add Connection")+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1024&&e!==(e=l[10].t("Add Connection")+"")&&F(t,e)},d(l){l&&u(t)}}}function hl(s){let e=s[10].t("Edit Connection")+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1024&&e!==(e=l[10].t("Edit Connection")+"")&&F(t,e)},d(l){l&&u(t)}}}function pl(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,n;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),bt(e)!=="svelte-kma1qx"&&(e.innerHTML=t),this.h()},h(){a(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),a(e,"type","button")},m(r,o){j(r,e,o),l||(n=J(e,"click",s[21]),l=!0)},p:Ie,d(r){r&&u(e),l=!1,n()}}}function ml(s){let e,t,l;function n(o){s[22](o)}let r={};return s[7]!==void 0&&(r.state=s[7]),e=new nl({props:r}),vt.push(()=>It(e,"state",n)),{c(){fe(e.$$.fragment)},l(o){de(e.$$.fragment,o)},m(o,c){he(e,o,c),l=!0},p(o,c){const d={};!t&&c[0]&128&&(t=!0,d.state=o[7],wt(()=>t=!1)),e.$set(d)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){R(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function _l(s){let e,t,l,n;return{c(){e=m("input"),this.h()},l(r){e=_(r,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){a(e,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),a(e,"type","text"),a(e,"placeholder",t=s[10].t("Prefix ID")),a(e,"autocomplete","off")},m(r,o){j(r,e,o),me(e,s[6]),l||(n=J(e,"input",s[24]),l=!0)},p(r,o){o[0]&1024&&t!==(t=r[10].t("Prefix ID"))&&a(e,"placeholder",t),o[0]&64&&e.value!==r[6]&&me(e,r[6])},d(r){r&&u(e),l=!1,n()}}}function gl(s){let e;function t(r,o){return r[3]?bl:wl}let l=t(s),n=l(s);return{c(){e=m("div"),n.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var o=g(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(r,o){j(r,e,o),n.m(e,null)},p(r,o){l===(l=t(r))&&n?n.p(r,o):(n.d(1),n=l(r),n&&(n.c(),n.m(e,null)))},i:Ie,o:Ie,d(r){r&&u(e),n.d()}}}function vl(s){let e,t,l=zt(s[8]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Ht(Rt(s,l,o));const r=o=>R(n[o],1,1,()=>{n[o]=null});return{c(){e=m("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var c=g(e);for(let d=0;d<n.length;d+=1)n[d].l(c);c.forEach(u),this.h()},h(){a(e,"class","flex flex-col")},m(o,c){j(o,e,c);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);t=!0},p(o,c){if(c[0]&256){l=zt(o[8]);let d;for(d=0;d<l.length;d+=1){const I=Rt(o,l,d);n[d]?(n[d].p(I,c),M(n[d],1)):(n[d]=Ht(I),n[d].c(),M(n[d],1),n[d].m(e,null))}for(Jt(),d=l.length;d<n.length;d+=1)r(d);Gt()}},i(o){if(!t){for(let c=0;c<l.length;c+=1)M(n[c]);t=!0}},o(o){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)R(n[c]);t=!1},d(o){o&&u(e),Xt(n,o)}}}function wl(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:s[4]})+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:l[4]})+"")&&F(t,e)},d(l){l&&u(t)}}}function bl(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:s[4]})+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:l[4]})+"")&&F(t,e)},d(l){l&&u(t)}}}function Ht(s){let e,t,l=s[11]+"",n,r,o,c,d,I,y,v,p;d=new fl({props:{strokeWidth:"2",className:"size-3.5"}});function h(){return s[25](s[35])}return{c(){e=m("div"),t=m("div"),n=G(l),r=D(),o=m("div"),c=m("button"),fe(d.$$.fragment),I=D(),this.h()},l(k){e=_(k,"DIV",{class:!0});var E=g(e);t=_(E,"DIV",{class:!0});var N=g(t);n=K(N,l),N.forEach(u),r=C(E),o=_(E,"DIV",{class:!0});var x=g(o);c=_(x,"BUTTON",{type:!0});var V=g(c);de(d.$$.fragment,V),V.forEach(u),x.forEach(u),I=C(E),E.forEach(u),this.h()},h(){a(t,"class","text-sm flex-1 py-1 rounded-lg"),a(c,"type","button"),a(o,"class","shrink-0"),a(e,"class","flex gap-2 w-full justify-between items-center")},m(k,E){j(k,e,E),i(e,t),i(t,n),i(e,r),i(e,o),i(o,c),he(d,c,null),i(e,I),y=!0,v||(p=J(c,"click",h),v=!0)},p(k,E){s=k,(!y||E[0]&256)&&l!==(l=s[11]+"")&&F(n,l)},i(k){y||(M(d.$$.fragment,k),y=!0)},o(k){R(d.$$.fragment,k),y=!1},d(k){k&&u(e),pe(d),v=!1,p()}}}function qt(s){let e,t=s[10].t("Delete")+"",l,n,r;return{c(){e=m("button"),l=G(t),this.h()},l(o){e=_(o,"BUTTON",{class:!0,type:!0});var c=g(e);l=K(c,t),c.forEach(u),this.h()},h(){a(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),a(e,"type","button")},m(o,c){j(o,e,c),i(e,l),n||(r=J(e,"click",s[28]),n=!0)},p(o,c){c[0]&1024&&t!==(t=o[10].t("Delete")+"")&&F(l,t)},d(o){o&&u(e),n=!1,r()}}}function Zt(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){a(e,"class","ml-2 self-center")},m(l,n){j(l,e,n)},d(l){l&&u(e)}}}function yl(s){let e,t,l,n,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,d,I,y,v,p,h,k,E=s[10].t("URL")+"",N,x,V,B,Ee,De,H,Ce,le,X,Se,$,ee,oe,ve=s[10].t("Key")+"",Te,Le,ae,q,Oe,Me,w,S,te=s[10].t("Prefix ID")+"",He,at,je,re,rt,qe,it,ne,xe,Be,Pe=s[10].t("Model IDs")+"",Ze,ct,P,U,ut,We,ft,ie,Z,Je,Ge,dt,Ue,we,be,ht,se,Ke,O,ze=s[10].t("Save")+"",Fe,pt,Ye,L,mt,Et;function Dt(f,b){return f[2]?hl:dl}let Qe=Dt(s),W=Qe(s);H=new _t({props:{content:"Verify Connection",className:"self-end -mb-1",$$slots:{default:[pl]},$$scope:{ctx:s}}}),X=new _t({props:{content:s[7]?s[10].t("Enabled"):s[10].t("Disabled"),$$slots:{default:[ml]},$$scope:{ctx:s}}});function Kt(f){s[23](f)}let Ct={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden",placeholder:s[10].t("API Key"),required:!s[3]};s[5]!==void 0&&(Ct.value=s[5]),q=new il({props:Ct}),vt.push(()=>It(q,"value",Kt)),re=new _t({props:{content:s[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable"),$$slots:{default:[_l]},$$scope:{ctx:s}}});const Tt=[vl,gl],ce=[];function jt(f,b){return f[8].length>0?0:1}P=jt(s),U=ce[P]=Tt[P](s),be=new ll({props:{className:"size-3.5",strokeWidth:"2"}});let T=s[2]&&qt(s),A=s[9]&&Zt();return{c(){e=m("div"),t=m("div"),l=m("div"),W.c(),n=D(),r=m("button"),r.innerHTML=o,c=D(),d=m("div"),I=m("div"),y=m("form"),v=m("div"),p=m("div"),h=m("div"),k=m("div"),N=G(E),x=D(),V=m("div"),B=m("input"),De=D(),fe(H.$$.fragment),Ce=D(),le=m("div"),fe(X.$$.fragment),Se=D(),$=m("div"),ee=m("div"),oe=m("div"),Te=G(ve),Le=D(),ae=m("div"),fe(q.$$.fragment),Me=D(),w=m("div"),S=m("div"),He=G(te),at=D(),je=m("div"),fe(re.$$.fragment),rt=D(),qe=m("hr"),it=D(),ne=m("div"),xe=m("div"),Be=m("div"),Ze=G(Pe),ct=D(),U.c(),ut=D(),We=m("hr"),ft=D(),ie=m("div"),Z=m("input"),dt=D(),Ue=m("div"),we=m("button"),fe(be.$$.fragment),ht=D(),se=m("div"),T&&T.c(),Ke=D(),O=m("button"),Fe=G(ze),pt=D(),A&&A.c(),this.h()},l(f){e=_(f,"DIV",{});var b=g(e);t=_(b,"DIV",{class:!0});var ye=g(t);l=_(ye,"DIV",{class:!0});var Ae=g(l);W.l(Ae),Ae.forEach(u),n=C(ye),r=_(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),bt(r)!=="svelte-745w2y"&&(r.innerHTML=o),ye.forEach(u),c=C(b),d=_(b,"DIV",{class:!0});var ke=g(d);I=_(ke,"DIV",{class:!0});var Ne=g(I);y=_(Ne,"FORM",{class:!0});var ue=g(y);v=_(ue,"DIV",{class:!0});var z=g(v);p=_(z,"DIV",{class:!0});var Ve=g(p);h=_(Ve,"DIV",{class:!0});var Xe=g(h);k=_(Xe,"DIV",{class:!0});var xt=g(k);N=K(xt,E),xt.forEach(u),x=C(Xe),V=_(Xe,"DIV",{class:!0});var Bt=g(V);B=_(Bt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Bt.forEach(u),Xe.forEach(u),De=C(Ve),de(H.$$.fragment,Ve),Ce=C(Ve),le=_(Ve,"DIV",{class:!0});var At=g(le);de(X.$$.fragment,At),At.forEach(u),Ve.forEach(u),Se=C(z),$=_(z,"DIV",{class:!0});var $e=g($);ee=_($e,"DIV",{class:!0});var et=g(ee);oe=_(et,"DIV",{class:!0});var Nt=g(oe);Te=K(Nt,ve),Nt.forEach(u),Le=C(et),ae=_(et,"DIV",{class:!0});var Vt=g(ae);de(q.$$.fragment,Vt),Vt.forEach(u),et.forEach(u),Me=C($e),w=_($e,"DIV",{class:!0});var tt=g(w);S=_(tt,"DIV",{class:!0});var St=g(S);He=K(St,te),St.forEach(u),at=C(tt),je=_(tt,"DIV",{class:!0});var Lt=g(je);de(re.$$.fragment,Lt),Lt.forEach(u),tt.forEach(u),$e.forEach(u),rt=C(z),qe=_(z,"HR",{class:!0}),it=C(z),ne=_(z,"DIV",{class:!0});var lt=g(ne);xe=_(lt,"DIV",{class:!0});var Ot=g(xe);Be=_(Ot,"DIV",{class:!0});var Mt=g(Be);Ze=K(Mt,Pe),Mt.forEach(u),Ot.forEach(u),ct=C(lt),U.l(lt),lt.forEach(u),ut=C(z),We=_(z,"HR",{class:!0}),ft=C(z),ie=_(z,"DIV",{class:!0});var nt=g(ie);Z=_(nt,"INPUT",{class:!0,placeholder:!0}),dt=C(nt),Ue=_(nt,"DIV",{});var Pt=g(Ue);we=_(Pt,"BUTTON",{type:!0});var Ut=g(we);de(be.$$.fragment,Ut),Ut.forEach(u),Pt.forEach(u),nt.forEach(u),z.forEach(u),ht=C(ue),se=_(ue,"DIV",{class:!0});var st=g(se);T&&T.l(st),Ke=C(st),O=_(st,"BUTTON",{class:!0,type:!0});var ot=g(O);Fe=K(ot,ze),pt=C(ot),A&&A.l(ot),ot.forEach(u),st.forEach(u),ue.forEach(u),Ne.forEach(u),ke.forEach(u),b.forEach(u),this.h()},h(){a(l,"class","text-lg font-medium self-center font-primary"),a(r,"class","self-center"),a(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),a(k,"class","mb-0.5 text-xs text-gray-500"),a(B,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),a(B,"type","text"),a(B,"placeholder",Ee=s[10].t("API Base URL")),a(B,"autocomplete","off"),B.required=!0,a(V,"class","flex-1"),a(h,"class","flex flex-col w-full"),a(le,"class","flex flex-col shrink-0 self-end"),a(p,"class","flex gap-2"),a(oe,"class","mb-0.5 text-xs text-gray-500"),a(ae,"class","flex-1"),a(ee,"class","flex flex-col w-full"),a(S,"class","mb-1 text-xs text-gray-500"),a(je,"class","flex-1"),a(w,"class","flex flex-col w-full"),a($,"class","flex gap-2 mt-2"),a(qe,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),a(Be,"class","text-xs text-gray-500"),a(xe,"class","mb-1 flex justify-between"),a(ne,"class","flex flex-col w-full"),a(We,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),a(Z,"class",Je="w-full py-1 text-sm rounded-lg bg-transparent "+(s[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),a(Z,"placeholder",Ge=s[10].t("Add a model ID")),a(we,"type","button"),a(ie,"class","flex items-center"),a(v,"class","px-1"),a(O,"class",Ye="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[9]?" cursor-not-allowed":"")),a(O,"type","submit"),O.disabled=s[9],a(se,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),a(y,"class","flex flex-col w-full"),a(I,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),a(d,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(f,b){j(f,e,b),i(e,t),i(t,l),W.m(l,null),i(t,n),i(t,r),i(e,c),i(e,d),i(d,I),i(I,y),i(y,v),i(v,p),i(p,h),i(h,k),i(k,N),i(h,x),i(h,V),i(V,B),me(B,s[4]),i(p,De),he(H,p,null),i(p,Ce),i(p,le),he(X,le,null),i(v,Se),i(v,$),i($,ee),i(ee,oe),i(oe,Te),i(ee,Le),i(ee,ae),he(q,ae,null),i($,Me),i($,w),i(w,S),i(S,He),i(w,at),i(w,je),he(re,je,null),i(v,rt),i(v,qe),i(v,it),i(v,ne),i(ne,xe),i(xe,Be),i(Be,Ze),i(ne,ct),ce[P].m(ne,null),i(v,ut),i(v,We),i(v,ft),i(v,ie),i(ie,Z),me(Z,s[11]),i(ie,dt),i(ie,Ue),i(Ue,we),he(be,we,null),i(y,ht),i(y,se),T&&T.m(se,null),i(se,Ke),i(se,O),i(O,Fe),i(O,pt),A&&A.m(O,null),L=!0,mt||(Et=[J(r,"click",s[19]),J(B,"input",s[20]),J(Z,"input",s[26]),J(we,"click",s[27]),J(y,"submit",s[29])],mt=!0)},p(f,b){Qe===(Qe=Dt(f))&&W?W.p(f,b):(W.d(1),W=Qe(f),W&&(W.c(),W.m(l,null))),(!L||b[0]&1024)&&E!==(E=f[10].t("URL")+"")&&F(N,E),(!L||b[0]&1024&&Ee!==(Ee=f[10].t("API Base URL")))&&a(B,"placeholder",Ee),b[0]&16&&B.value!==f[4]&&me(B,f[4]);const ye={};b[1]&32&&(ye.$$scope={dirty:b,ctx:f}),H.$set(ye);const Ae={};b[0]&1152&&(Ae.content=f[7]?f[10].t("Enabled"):f[10].t("Disabled")),b[0]&128|b[1]&32&&(Ae.$$scope={dirty:b,ctx:f}),X.$set(Ae),(!L||b[0]&1024)&&ve!==(ve=f[10].t("Key")+"")&&F(Te,ve);const ke={};b[0]&1024&&(ke.placeholder=f[10].t("API Key")),b[0]&8&&(ke.required=!f[3]),!Oe&&b[0]&32&&(Oe=!0,ke.value=f[5],wt(()=>Oe=!1)),q.$set(ke),(!L||b[0]&1024)&&te!==(te=f[10].t("Prefix ID")+"")&&F(He,te);const Ne={};b[0]&1024&&(Ne.content=f[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable")),b[0]&1088|b[1]&32&&(Ne.$$scope={dirty:b,ctx:f}),re.$set(Ne),(!L||b[0]&1024)&&Pe!==(Pe=f[10].t("Model IDs")+"")&&F(Ze,Pe);let ue=P;P=jt(f),P===ue?ce[P].p(f,b):(Jt(),R(ce[ue],1,1,()=>{ce[ue]=null}),Gt(),U=ce[P],U?U.p(f,b):(U=ce[P]=Tt[P](f),U.c()),M(U,1),U.m(ne,null)),(!L||b[0]&2048&&Je!==(Je="w-full py-1 text-sm rounded-lg bg-transparent "+(f[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&a(Z,"class",Je),(!L||b[0]&1024&&Ge!==(Ge=f[10].t("Add a model ID")))&&a(Z,"placeholder",Ge),b[0]&2048&&Z.value!==f[11]&&me(Z,f[11]),f[2]?T?T.p(f,b):(T=qt(f),T.c(),T.m(se,Ke)):T&&(T.d(1),T=null),(!L||b[0]&1024)&&ze!==(ze=f[10].t("Save")+"")&&F(Fe,ze),f[9]?A||(A=Zt(),A.c(),A.m(O,null)):A&&(A.d(1),A=null),(!L||b[0]&512&&Ye!==(Ye="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(f[9]?" cursor-not-allowed":"")))&&a(O,"class",Ye),(!L||b[0]&512)&&(O.disabled=f[9])},i(f){L||(M(H.$$.fragment,f),M(X.$$.fragment,f),M(q.$$.fragment,f),M(re.$$.fragment,f),M(U),M(be.$$.fragment,f),L=!0)},o(f){R(H.$$.fragment,f),R(X.$$.fragment,f),R(q.$$.fragment,f),R(re.$$.fragment,f),R(U),R(be.$$.fragment,f),L=!1},d(f){f&&u(e),W.d(),pe(H),pe(X),pe(q),pe(re),ce[P].d(),pe(be),T&&T.d(),A&&A.d(),mt=!1,Wt(Et)}}}function kl(s){let e,t,l;function n(o){s[30](o)}let r={size:"sm",$$slots:{default:[yl]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new tl({props:r}),vt.push(()=>It(e,"show",n)),{c(){fe(e.$$.fragment)},l(o){de(e.$$.fragment,o)},m(o,c){he(e,o,c),l=!0},p(o,c){const d={};c[0]&4095|c[1]&32&&(d.$$scope={dirty:c,ctx:o}),!t&&c[0]&1&&(t=!0,d.show=o[0],wt(()=>t=!1)),e.$set(d)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){R(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function Il(s,e,t){let l;const n=Ft("i18n");Yt(s,n,w=>t(10,l=w));let{onSubmit:r=()=>{}}=e,{onDelete:o=()=>{}}=e,{show:c=!1}=e,{edit:d=!1}=e,{ollama:I=!1}=e,{direct:y=!1}=e,{connection:v=null}=e,p="",h="",k="",E=!0,N="",x=[],V=!1;const B=async()=>{await el(localStorage.token,p,h).catch(S=>{Re.error(`${S}`)})&&Re.success(l.t("Server connection verified"))},Ee=async()=>{await $t(localStorage.token,p,h,y).catch(S=>{Re.error(`${S}`)})&&Re.success(l.t("Server connection verified"))},De=()=>{I?B():Ee()},H=()=>{N&&(t(8,x=[...x,N]),t(11,N=""))},Ce=async()=>{if(t(9,V=!0),!I&&(!p||!h)){t(9,V=!1),Re.error("URL and Key are required");return}await r({url:p,key:h,config:{enable:E,prefix_id:k,model_ids:x}}),t(9,V=!1),t(0,c=!1),t(4,p=""),t(5,h=""),t(6,k=""),t(8,x=[])},le=()=>{var w,S,te;v&&(t(4,p=v.url),t(5,h=v.key),t(7,E=((w=v.config)==null?void 0:w.enable)??!0),t(6,k=((S=v.config)==null?void 0:S.prefix_id)??""),t(8,x=((te=v.config)==null?void 0:te.model_ids)??[]))};Qt(()=>{le()});const X=()=>{t(0,c=!1)};function Se(){p=this.value,t(4,p)}const $=()=>{De()};function ee(w){E=w,t(7,E)}function oe(w){h=w,t(5,h)}function ve(){k=this.value,t(6,k)}const Te=w=>{t(8,x=x.filter((S,te)=>te!==w))};function Le(){N=this.value,t(11,N)}const ae=()=>{H()},q=()=>{o(),t(0,c=!1)},Oe=w=>{w.preventDefault(),Ce()};function Me(w){c=w,t(0,c)}return s.$$set=w=>{"onSubmit"in w&&t(16,r=w.onSubmit),"onDelete"in w&&t(1,o=w.onDelete),"show"in w&&t(0,c=w.show),"edit"in w&&t(2,d=w.edit),"ollama"in w&&t(3,I=w.ollama),"direct"in w&&t(17,y=w.direct),"connection"in w&&t(18,v=w.connection)},s.$$.update=()=>{s.$$.dirty[0]&1&&c&&le()},[c,o,d,I,p,h,k,E,x,V,l,N,n,De,H,Ce,r,y,v,X,Se,$,ee,oe,ve,Te,Le,ae,q,Oe,Me]}class Jl extends yt{constructor(e){super(),kt(this,e,Il,kl,gt,{onSubmit:16,onDelete:1,show:0,edit:2,ollama:3,direct:17,connection:18},null,[-1,-1])}}export{Jl as A,fl as M,il as S,Wl as a,Rl as b,Hl as c,Ml as d,Ol as e,Pl as f,Zl as g,Ul as h,Ll as i,zl as j,ql as s};
//# sourceMappingURL=AddConnectionModal.DZUr9mRz.js.map
