import{s as yl,D as vl,E as ml,a as p,d as c,f as o,i as H,g as r,n as gt,e as d,t as R,k as A,c as _,b as C,o as y,N as Qt,u as fe,z as vs,h as K,H as gl,j as el,p as Ml,q as as,y as Xe,B as se,P as Sl,O as xt,A as tt,l as rl,G as Kl,R as Pl,T as wo,U as ko,C as Zs,Q as wl,F as Ms,S as Ps,a0 as zs}from"../chunks/scheduler.u6_2Foza.js";import{S as $l,i as Vl,t as G,g as wt,a as W,c as kt,f as lt,b as _e,d as he,m as pe,e as ve}from"../chunks/index.TaJ1J9Bt.js";import{t as et}from"../chunks/apiInterceptor.ovEtsaVg.js";import{c as ss,K as To,b as wa,L as Do,a as Js,m as Ll,u as Xs,N as Ao,M as Fs}from"../chunks/index.Bn_1hBZy.js";import{c as yo,d as $o,u as Vo,e as No,f as Oo,g as Xl,h as Po,i as So,j as Mo,k as Lo,l as Ro,m as Co,a as js,n as Uo,o as Bo}from"../chunks/index.NocVRDio.js";import{f as so}from"../chunks/FileSaver.min.BTeeVBjQ.js";import{d as Ho}from"../chunks/index.DS8mY2zh.js";import{i as Go}from"../chunks/index.BrR5MzCy.js";import{i as jo,e as Ko,S as kl,g as Yo,s as qo,a as Wo,b as Fo,c as Zo,M as ao,A as ka,d as zo,f as Jo,h as Xo,j as Qo}from"../chunks/AddConnectionModal.DZUr9mRz.js";import{p as wr,m as kr}from"../chunks/marked.esm._0_gBwjO.js";import{d as xo,e as eu,f as tu,h as lu,i as su,j as au}from"../chunks/index.CGXFqHuT.js";import{S as pl}from"../chunks/Switch.pLAWisIs.js";import{T as Yt}from"../chunks/Tooltip.3kB_H6zI.js";import{c as ru,T as Ta,v as nu,s as sa}from"../chunks/index.BczdeOwI.js";import{e as Vt,u as ro,o as no}from"../chunks/each.CpR_wfW1.js";import{S as Cs}from"../chunks/Spinner.BfJDCPnB.js";import{g as iu,a as ou,b as uu,u as fu}from"../chunks/index.CxblQe6a.js";import{g as cu,a as du,b as _u,u as Tr,c as hu,v as Dr}from"../chunks/index.dikIXV-E.js";import{T as Ks}from"../chunks/Textarea.3q9HwrW8.js";import{b as pu,e as vu,u as mu,c as Ar,t as gu}from"../chunks/index.ClIKFBo5.js";import{S as Eu}from"../chunks/Search.DyzposVs.js";import{M as bu}from"../chunks/ModelEditor.CaT-V59P.js";import{C as Da}from"../chunks/ConfirmDialog.k0xjQhtS.js";import{C as Aa}from"../chunks/Cog6.Cmh4JfhX.js";import{M as ya}from"../chunks/Modal.BE09wbh8.js";import{S as Iu}from"../chunks/sortable.esm.C0-Qcoum.js";import{E as wu}from"../chunks/EllipsisVertical.Cm68ont1.js";import{C as io}from"../chunks/ChevronUp.DidByfOj.js";import{C as ku}from"../chunks/ChevronDown.BdfXPb0q.js";import{A as oo}from"../chunks/ArrowDownTray.DoFEXd3D.js";import{p as yr,d as $r,c as Vr,a as Tu,u as Du,b as Au,e as uo,f as yu}from"../chunks/index.Dm7MFL02.js";import{a as $u,b as Vu,u as Nu}from"../chunks/index.xnbdEWk_.js";import{P as $a}from"../chunks/Plus.Dn1-aCIO.js";import"../chunks/index.oblaEVvC.js";import{g as Ou,a as fo,u as Pu,b as co,c as Nr,d as Su,e as Mu,r as Lu,f as Ru}from"../chunks/index.D6eJ2TOq.js";import{d as Cu}from"../chunks/index.YS3dnScz.js";import{a as Uu,b as Bu}from"../chunks/index.Cvj2vX8f.js";import{A as Hu}from"../chunks/AccessControl.C42B2v1D.js";function Gu(l){let e,t;return{c(){e=vl("svg"),t=vl("path"),this.h()},l(s){e=ml(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=p(e);t=ml(a,"path",{d:!0}),p(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",l[0])},m(s,a){H(s,e,a),r(e,t)},p(s,[a]){a&1&&o(e,"class",s[0])},i:gt,o:gt,d(s){s&&c(e)}}}function ju(l,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=i=>{"className"in i&&t(0,s=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[s,a]}class Ku extends $l{constructor(e){super(),Vl(this,e,ju,Gu,yl,{className:0,strokeWidth:1})}}function Or(l){let e,t,s,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',i,n,u=l[1].t("Download Database")+"",f,h,E,g,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',m,b,I=l[1].t("Export All Chats (All Users)")+"",T,w,k;return{c(){e=d("div"),t=d("button"),s=d("div"),s.innerHTML=a,i=A(),n=d("div"),f=R(u),h=A(),E=d("button"),g=d("div"),g.innerHTML=v,m=A(),b=d("div"),T=R(I),this.h()},l(D){e=_(D,"DIV",{class:!0});var $=p(e);t=_($,"BUTTON",{class:!0,type:!0});var O=p(t);s=_(O,"DIV",{class:!0,"data-svelte-h":!0}),Qt(s)!=="svelte-1n29mwa"&&(s.innerHTML=a),i=y(O),n=_(O,"DIV",{class:!0});var P=p(n);f=C(P,u),P.forEach(c),O.forEach(c),$.forEach(c),h=y(D),E=_(D,"BUTTON",{class:!0});var M=p(E);g=_(M,"DIV",{class:!0,"data-svelte-h":!0}),Qt(g)!=="svelte-1l0oz0g"&&(g.innerHTML=v),m=y(M),b=_(M,"DIV",{class:!0});var N=p(b);T=C(N,I),N.forEach(c),M.forEach(c),this.h()},h(){o(s,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(t,"type","button"),o(e,"class","flex w-full justify-between"),o(g,"class","self-center mr-3"),o(b,"class","self-center text-sm font-medium"),o(E,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(D,$){H(D,e,$),r(e,t),r(t,s),r(t,i),r(t,n),r(n,f),H(D,h,$),H(D,E,$),r(E,g),r(E,m),r(E,b),r(b,T),w||(k=[fe(t,"click",l[9]),fe(E,"click",l[10])],w=!0)},p(D,$){$&2&&u!==(u=D[1].t("Download Database")+"")&&K(f,u),$&2&&I!==(I=D[1].t("Export All Chats (All Users)")+"")&&K(T,I)},d(D){D&&(c(e),c(h),c(E)),w=!1,gl(k)}}}function Yu(l){var B;let e,t,s,a,i=l[1].t("Database")+"",n,u,f,h,E,g,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',m,b,I=l[1].t("Import Config from JSON File")+"",T,w,k,D,$='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',O,P,M=l[1].t("Export Config to JSON File")+"",N,V,S,q,Y,L,U=(((B=l[2])==null?void 0:B.features.enable_admin_export)??!0)&&Or(l);return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),n=R(i),u=A(),f=d("input"),h=A(),E=d("button"),g=d("div"),g.innerHTML=v,m=A(),b=d("div"),T=R(I),w=A(),k=d("button"),D=d("div"),D.innerHTML=$,O=A(),P=d("div"),N=R(M),V=A(),S=d("hr"),q=A(),U&&U.c(),this.h()},l(j){e=_(j,"FORM",{class:!0});var F=p(e);t=_(F,"DIV",{class:!0});var J=p(t);s=_(J,"DIV",{});var X=p(s);a=_(X,"DIV",{class:!0});var ne=p(a);n=C(ne,i),ne.forEach(c),u=y(X),f=_(X,"INPUT",{id:!0,type:!0,accept:!0}),h=y(X),E=_(X,"BUTTON",{type:!0,class:!0});var ie=p(E);g=_(ie,"DIV",{class:!0,"data-svelte-h":!0}),Qt(g)!=="svelte-uk5zsu"&&(g.innerHTML=v),m=y(ie),b=_(ie,"DIV",{class:!0});var ae=p(b);T=C(ae,I),ae.forEach(c),ie.forEach(c),w=y(X),k=_(X,"BUTTON",{type:!0,class:!0});var Q=p(k);D=_(Q,"DIV",{class:!0,"data-svelte-h":!0}),Qt(D)!=="svelte-uk5zsu"&&(D.innerHTML=$),O=y(Q),P=_(Q,"DIV",{class:!0});var Z=p(P);N=C(Z,M),Z.forEach(c),Q.forEach(c),V=y(X),S=_(X,"HR",{class:!0}),q=y(X),U&&U.l(X),X.forEach(c),J.forEach(c),F.forEach(c),this.h()},h(){o(a,"class","mb-2 text-sm font-medium"),o(f,"id","config-json-input"),f.hidden=!0,o(f,"type","file"),o(f,"accept",".json"),o(g,"class","self-center mr-3"),o(b,"class","self-center text-sm font-medium"),o(E,"type","button"),o(E,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(D,"class","self-center mr-3"),o(P,"class","self-center text-sm font-medium"),o(k,"type","button"),o(k,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(S,"class","border-gray-100 dark:border-gray-850 my-1"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(j,F){H(j,e,F),r(e,t),r(t,s),r(s,a),r(a,n),r(s,u),r(s,f),r(s,h),r(s,E),r(E,g),r(E,m),r(E,b),r(b,T),r(s,w),r(s,k),r(k,D),r(k,O),r(k,P),r(P,N),r(s,V),r(s,S),r(s,q),U&&U.m(s,null),Y||(L=[fe(f,"change",l[6]),fe(E,"click",l[7]),fe(k,"click",l[8]),fe(e,"submit",vs(l[11]))],Y=!0)},p(j,[F]){var J;F&2&&i!==(i=j[1].t("Database")+"")&&K(n,i),F&2&&I!==(I=j[1].t("Import Config from JSON File")+"")&&K(T,I),F&2&&M!==(M=j[1].t("Export Config to JSON File")+"")&&K(N,M),((J=j[2])==null?void 0:J.features.enable_admin_export)??!0?U?U.p(j,F):(U=Or(j),U.c(),U.m(s,null)):U&&(U.d(1),U=null)},i:gt,o:gt,d(j){j&&c(e),U&&U.d(),Y=!1,gl(L)}}}function qu(l,e,t){let s,a;el(l,ss,I=>t(2,a=I));const{saveAs:i}=so,n=Ml("i18n");el(l,n,I=>t(1,s=I));let{saveHandler:u}=e;const f=async()=>{let I=new Blob([JSON.stringify(await Go(localStorage.token))],{type:"application/json"});i(I,`all-chats-export-${Date.now()}.json`)};as(async()=>{});const h=I=>{const T=I.target.files[0],w=new FileReader;w.onload=async k=>{await jo(localStorage.token,JSON.parse(k.target.result)).catch($=>{et.error(`${$}`)})&&et.success("Config imported successfully"),k.target.value=null},w.readAsText(T)},E=async()=>{document.getElementById("config-json-input").click()},g=async()=>{const I=await Ko(localStorage.token),T=new Blob([JSON.stringify(I)],{type:"application/json"});i(T,`config-${Date.now()}.json`)},v=()=>{Ho(localStorage.token).catch(I=>{et.error(`${I}`)})},m=()=>{f()},b=async()=>{u()};return l.$$set=I=>{"saveHandler"in I&&t(0,u=I.saveHandler)},[u,s,a,i,n,f,h,E,g,v,m,b]}class Wu extends $l{constructor(e){super(),Vl(this,e,qu,Yu,yl,{saveHandler:0})}}function Pr(l){var Ha;let e,t,s,a=l[6].t("General")+"",i,n,u,f,h,E,g,v=l[6].t("Version")+"",m,b,I,T,w,k,D,$,O=(l[0]===null?l[6].t("Checking for updates..."):l[0]?`(v${l[1].latest} ${l[6].t("available!")})`:l[6].t("(latest)"))+"",P,M,N,V,S,q=l[6].t("See what's new")+"",Y,L,U,B=l[6].t("Check for updates")+"",j,F,J,X,ne,ie,ae=l[6].t("Help")+"",Q,Z,te,ee=l[6].t("Discover how to use Open WebUI and seek support from the community.")+"",z,be,re,ue=l[6].t("Documentation")+"",oe,Te,ge,me='<div class="flex space-x-1"><a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a></div>',De,Se,ke,we,Ae,x=l[6].t("License")+"",ce,Be,Ce,le,de,$e=l[6].t("Authentication")+"",Ne,Oe,He,We,Ze,je,Ie=l[6].t("Default User Role")+"",ye,ht,Je,pt,ze,ot=l[6].t("pending")+"",bt,Ve,dt=l[6].t("user")+"",Et,ut,mt=l[6].t("admin")+"",Tt,yt,_t,ct,vt=l[6].t("Enable New Sign Ups")+"",Me,Ke,Nt,It,Re,Ge,ft,jt=l[6].t("Show Admin Details in Account Pending Overlay")+"",Rt,Gt,Le,Fe,Ut,Dt,Ue,Ee=l[6].t("Enable API Key")+"",rt,Pt,Ct,$t,Mt,Lt,At,Ye,nt,Ot=l[6].t("JWT Expiration")+"",Kt,st,sl,Wt,Xt,zt,al=l[6].t("Valid time units:")+"",it,St,Bt,il=l[6].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",El,dl,Il,qt,tl,Tl,Dl=l[6].t("LDAP")+"",ol,Al,hl,Nl,zl,nl,fs,Jt,Ft,fl=l[6].t("Features")+"",rs,Ql,ns,cl,qe,xe,xl=l[6].t("Enable Community Sharing")+"",ul,Pe,at,_l,ll,Rl,Bl,Yl=l[6].t("Enable Message Rating")+"",Jl,is,ql,es,Zt,Ol,Cl,gs=l[6].t("Channels")+"",Es,Ds,As=l[6].t("Beta")+"",cs,Ls,ys,Ul,$s,Vs,Wl,bs,ts,Ns=l[6].t("WebUI URL")+"",Is,os,ds,Fl,us,ws,ms=l[6].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"",_s,Rs,hs,ks,Ts,Hl=l[6].t("Webhook URL")+"",aa,Va,Ys,Ss,bl,Na,Oa;k=new Yt({props:{content:To,$$slots:{default:[Fu]},$$scope:{ctx:l}}});function Pa(Qe,Ht){var ls;return(ls=Qe[7])!=null&&ls.license_metadata?zu:Zu}let ra=Pa(l),Os=ra(l);function po(Qe){l[15](Qe)}let Sa={};l[2].ENABLE_SIGNUP!==void 0&&(Sa.state=l[2].ENABLE_SIGNUP),Nt=new pl({props:Sa}),Xe.push(()=>lt(Nt,"state",po));function vo(Qe){l[16](Qe)}let Ma={};l[2].SHOW_ADMIN_DETAILS!==void 0&&(Ma.state=l[2].SHOW_ADMIN_DETAILS),Le=new pl({props:Ma}),Xe.push(()=>lt(Le,"state",vo));function mo(Qe){l[17](Qe)}let La={};l[2].ENABLE_API_KEY!==void 0&&(La.state=l[2].ENABLE_API_KEY),Ct=new pl({props:La}),Xe.push(()=>lt(Ct,"state",mo));let Gl=((Ha=l[2])==null?void 0:Ha.ENABLE_API_KEY)&&Mr(l);function go(Qe){l[21](Qe)}let Ra={};l[4]!==void 0&&(Ra.state=l[4]),Nl=new pl({props:Ra}),Xe.push(()=>lt(Nl,"state",go)),Nl.$on("change",l[22]);let jl=l[4]&&Rr(l);function Eo(Qe){l[35](Qe)}let Ca={};l[2].ENABLE_COMMUNITY_SHARING!==void 0&&(Ca.state=l[2].ENABLE_COMMUNITY_SHARING),at=new pl({props:Ca}),Xe.push(()=>lt(at,"state",Eo));function bo(Qe){l[36](Qe)}let Ua={};l[2].ENABLE_MESSAGE_RATING!==void 0&&(Ua.state=l[2].ENABLE_MESSAGE_RATING),ql=new pl({props:Ua}),Xe.push(()=>lt(ql,"state",bo));function Io(Qe){l[37](Qe)}let Ba={};return l[2].ENABLE_CHANNELS!==void 0&&(Ba.state=l[2].ENABLE_CHANNELS),Ul=new pl({props:Ba}),Xe.push(()=>lt(Ul,"state",Io)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("hr"),f=A(),h=d("div"),E=d("div"),g=d("div"),m=R(v),b=A(),I=d("div"),T=d("div"),w=d("div"),_e(k.$$.fragment),D=A(),$=d("a"),P=R(O),N=A(),V=d("button"),S=d("div"),Y=R(q),L=A(),U=d("button"),j=R(B),F=A(),J=d("div"),X=d("div"),ne=d("div"),ie=d("div"),Q=R(ae),Z=A(),te=d("div"),z=R(ee),be=A(),re=d("a"),oe=R(ue),Te=A(),ge=d("div"),ge.innerHTML=me,De=A(),Se=d("div"),ke=d("div"),we=d("div"),Ae=d("div"),ce=R(x),Be=A(),Os.c(),Ce=A(),le=d("div"),de=d("div"),Ne=R($e),Oe=A(),He=d("hr"),We=A(),Ze=d("div"),je=d("div"),ye=R(Ie),ht=A(),Je=d("div"),pt=d("select"),ze=d("option"),bt=R(ot),Ve=d("option"),Et=R(dt),ut=d("option"),Tt=R(mt),yt=A(),_t=d("div"),ct=d("div"),Me=R(vt),Ke=A(),_e(Nt.$$.fragment),Re=A(),Ge=d("div"),ft=d("div"),Rt=R(jt),Gt=A(),_e(Le.$$.fragment),Ut=A(),Dt=d("div"),Ue=d("div"),rt=R(Ee),Pt=A(),_e(Ct.$$.fragment),Mt=A(),Gl&&Gl.c(),Lt=A(),At=d("div"),Ye=d("div"),nt=d("div"),Kt=R(Ot),st=A(),sl=d("div"),Wt=d("input"),Xt=A(),zt=d("div"),it=R(al),St=A(),Bt=d("span"),El=R(il),dl=A(),Il=d("div"),qt=d("div"),tl=d("div"),Tl=d("div"),ol=R(Dl),Al=A(),hl=d("div"),_e(Nl.$$.fragment),nl=A(),jl&&jl.c(),fs=A(),Jt=d("div"),Ft=d("div"),rs=R(fl),Ql=A(),ns=d("hr"),cl=A(),qe=d("div"),xe=d("div"),ul=R(xl),Pe=A(),_e(at.$$.fragment),ll=A(),Rl=d("div"),Bl=d("div"),Jl=R(Yl),is=A(),_e(ql.$$.fragment),Zt=A(),Ol=d("div"),Cl=d("div"),Es=R(gs),Ds=R(" ("),cs=R(As),Ls=R(")"),ys=A(),_e(Ul.$$.fragment),Vs=A(),Wl=d("div"),bs=d("div"),ts=d("div"),Is=R(Ns),os=A(),ds=d("div"),Fl=d("input"),us=A(),ws=d("div"),_s=R(ms),Rs=A(),hs=d("div"),ks=d("div"),Ts=d("div"),aa=R(Hl),Va=A(),Ys=d("div"),Ss=d("input"),this.h()},l(Qe){e=_(Qe,"DIV",{class:!0});var Ht=p(e);t=_(Ht,"DIV",{class:!0});var ls=p(t);s=_(ls,"DIV",{class:!0});var Qs=p(s);i=C(Qs,a),Qs.forEach(c),n=y(ls),u=_(ls,"HR",{class:!0}),f=y(ls),h=_(ls,"DIV",{class:!0});var Us=p(h);E=_(Us,"DIV",{class:!0});var xs=p(E);g=_(xs,"DIV",{});var ea=p(g);m=C(ea,v),ea.forEach(c),xs.forEach(c),b=y(Us),I=_(Us,"DIV",{class:!0});var Bs=p(I);T=_(Bs,"DIV",{class:!0});var Hs=p(T);w=_(Hs,"DIV",{class:!0});var Gs=p(w);he(k.$$.fragment,Gs),D=y(Gs),$=_(Gs,"A",{href:!0,target:!0});var ta=p($);P=C(ta,O),ta.forEach(c),Gs.forEach(c),N=y(Hs),V=_(Hs,"BUTTON",{class:!0,type:!0});var Ga=p(V);S=_(Ga,"DIV",{});var ja=p(S);Y=C(ja,q),ja.forEach(c),Ga.forEach(c),Hs.forEach(c),L=y(Bs),U=_(Bs,"BUTTON",{class:!0,type:!0});var Ka=p(U);j=C(Ka,B),Ka.forEach(c),Bs.forEach(c),Us.forEach(c),F=y(ls),J=_(ls,"DIV",{class:!0});var na=p(J);X=_(na,"DIV",{class:!0});var ia=p(X);ne=_(ia,"DIV",{class:!0});var oa=p(ne);ie=_(oa,"DIV",{class:!0});var Ya=p(ie);Q=C(Ya,ae),Ya.forEach(c),Z=y(oa),te=_(oa,"DIV",{class:!0});var qa=p(te);z=C(qa,ee),qa.forEach(c),oa.forEach(c),be=y(ia),re=_(ia,"A",{class:!0,href:!0,target:!0});var Wa=p(re);oe=C(Wa,ue),Wa.forEach(c),ia.forEach(c),Te=y(na),ge=_(na,"DIV",{class:!0,"data-svelte-h":!0}),Qt(ge)!=="svelte-e1ltkf"&&(ge.innerHTML=me),na.forEach(c),De=y(ls),Se=_(ls,"DIV",{class:!0});var Fa=p(Se);ke=_(Fa,"DIV",{class:!0});var Za=p(ke);we=_(Za,"DIV",{class:!0});var ua=p(we);Ae=_(ua,"DIV",{class:!0});var za=p(Ae);ce=C(za,x),za.forEach(c),Be=y(ua),Os.l(ua),ua.forEach(c),Za.forEach(c),Fa.forEach(c),ls.forEach(c),Ce=y(Ht),le=_(Ht,"DIV",{class:!0});var Zl=p(le);de=_(Zl,"DIV",{class:!0});var Ja=p(de);Ne=C(Ja,$e),Ja.forEach(c),Oe=y(Zl),He=_(Zl,"HR",{class:!0}),We=y(Zl),Ze=_(Zl,"DIV",{class:!0});var fa=p(Ze);je=_(fa,"DIV",{class:!0});var Xa=p(je);ye=C(Xa,Ie),Xa.forEach(c),ht=y(fa),Je=_(fa,"DIV",{class:!0});var Qa=p(Je);pt=_(Qa,"SELECT",{class:!0,placeholder:!0});var ca=p(pt);ze=_(ca,"OPTION",{});var xa=p(ze);bt=C(xa,ot),xa.forEach(c),Ve=_(ca,"OPTION",{});var er=p(Ve);Et=C(er,dt),er.forEach(c),ut=_(ca,"OPTION",{});var tr=p(ut);Tt=C(tr,mt),tr.forEach(c),ca.forEach(c),Qa.forEach(c),fa.forEach(c),yt=y(Zl),_t=_(Zl,"DIV",{class:!0});var da=p(_t);ct=_(da,"DIV",{class:!0});var lr=p(ct);Me=C(lr,vt),lr.forEach(c),Ke=y(da),he(Nt.$$.fragment,da),da.forEach(c),Re=y(Zl),Ge=_(Zl,"DIV",{class:!0});var _a=p(Ge);ft=_(_a,"DIV",{class:!0});var sr=p(ft);Rt=C(sr,jt),sr.forEach(c),Gt=y(_a),he(Le.$$.fragment,_a),_a.forEach(c),Ut=y(Zl),Dt=_(Zl,"DIV",{class:!0});var ha=p(Dt);Ue=_(ha,"DIV",{class:!0});var ar=p(Ue);rt=C(ar,Ee),ar.forEach(c),Pt=y(ha),he(Ct.$$.fragment,ha),ha.forEach(c),Mt=y(Zl),Gl&&Gl.l(Zl),Lt=y(Zl),At=_(Zl,"DIV",{class:!0});var qs=p(At);Ye=_(qs,"DIV",{class:!0});var rr=p(Ye);nt=_(rr,"DIV",{class:!0});var nr=p(nt);Kt=C(nr,Ot),nr.forEach(c),rr.forEach(c),st=y(qs),sl=_(qs,"DIV",{class:!0});var ir=p(sl);Wt=_(ir,"INPUT",{class:!0,type:!0,placeholder:!0}),ir.forEach(c),Xt=y(qs),zt=_(qs,"DIV",{class:!0});var pa=p(zt);it=C(pa,al),St=y(pa),Bt=_(pa,"SPAN",{class:!0});var or=p(Bt);El=C(or,il),or.forEach(c),pa.forEach(c),qs.forEach(c),dl=y(Zl),Il=_(Zl,"DIV",{class:!0});var ur=p(Il);qt=_(ur,"DIV",{class:!0});var va=p(qt);tl=_(va,"DIV",{class:!0});var ma=p(tl);Tl=_(ma,"DIV",{class:!0});var fr=p(Tl);ol=C(fr,Dl),fr.forEach(c),Al=y(ma),hl=_(ma,"DIV",{class:!0});var cr=p(hl);he(Nl.$$.fragment,cr),cr.forEach(c),ma.forEach(c),nl=y(va),jl&&jl.l(va),va.forEach(c),ur.forEach(c),Zl.forEach(c),fs=y(Ht),Jt=_(Ht,"DIV",{class:!0});var ps=p(Jt);Ft=_(ps,"DIV",{class:!0});var dr=p(Ft);rs=C(dr,fl),dr.forEach(c),Ql=y(ps),ns=_(ps,"HR",{class:!0}),cl=y(ps),qe=_(ps,"DIV",{class:!0});var ga=p(qe);xe=_(ga,"DIV",{class:!0});var _r=p(xe);ul=C(_r,xl),_r.forEach(c),Pe=y(ga),he(at.$$.fragment,ga),ga.forEach(c),ll=y(ps),Rl=_(ps,"DIV",{class:!0});var Ea=p(Rl);Bl=_(Ea,"DIV",{class:!0});var hr=p(Bl);Jl=C(hr,Yl),hr.forEach(c),is=y(Ea),he(ql.$$.fragment,Ea),Ea.forEach(c),Zt=y(ps),Ol=_(ps,"DIV",{class:!0});var ba=p(Ol);Cl=_(ba,"DIV",{class:!0});var la=p(Cl);Es=C(la,gs),Ds=C(la," ("),cs=C(la,As),Ls=C(la,")"),la.forEach(c),ys=y(ba),he(Ul.$$.fragment,ba),ba.forEach(c),Vs=y(ps),Wl=_(ps,"DIV",{class:!0});var Ws=p(Wl);bs=_(Ws,"DIV",{class:!0});var pr=p(bs);ts=_(pr,"DIV",{class:!0});var vr=p(ts);Is=C(vr,Ns),vr.forEach(c),pr.forEach(c),os=y(Ws),ds=_(Ws,"DIV",{class:!0});var mr=p(ds);Fl=_(mr,"INPUT",{class:!0,type:!0,placeholder:!0}),mr.forEach(c),us=y(Ws),ws=_(Ws,"DIV",{class:!0});var gr=p(ws);_s=C(gr,ms),gr.forEach(c),Ws.forEach(c),Rs=y(ps),hs=_(ps,"DIV",{class:!0});var Ia=p(hs);ks=_(Ia,"DIV",{class:!0});var Er=p(ks);Ts=_(Er,"DIV",{class:!0});var br=p(Ts);aa=C(br,Hl),br.forEach(c),Er.forEach(c),Va=y(Ia),Ys=_(Ia,"DIV",{class:!0});var Ir=p(Ys);Ss=_(Ir,"INPUT",{class:!0,type:!0,placeholder:!0}),Ir.forEach(c),Ia.forEach(c),ps.forEach(c),Ht.forEach(c),this.h()},h(){o(s,"class","mb-2.5 text-base font-medium"),o(u,"class","border-gray-100 dark:border-gray-850 my-2"),o(E,"class","mb-1 text-xs font-medium flex space-x-2 items-center"),o($,"href",M="https://github.com/open-webui/open-webui/releases/tag/v"+l[1].latest),o($,"target","_blank"),o(w,"class","flex gap-1"),o(V,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),o(V,"type","button"),o(T,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(U,"class","text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),o(U,"type","button"),o(I,"class","flex w-full justify-between items-center"),o(h,"class","mb-2.5"),o(ie,"class",""),o(te,"class","text-xs text-gray-500"),o(ne,"class","text-xs pr-2"),o(re,"class","flex-shrink-0 text-xs font-medium underline"),o(re,"href","https://docs.openwebui.com/"),o(re,"target","_blank"),o(X,"class","flex w-full justify-between items-center"),o(ge,"class","mt-1"),o(J,"class","mb-2.5"),o(Ae,"class",""),o(we,"class","text-xs pr-2"),o(ke,"class","flex w-full justify-between items-center"),o(Se,"class","mb-2.5"),o(t,"class","mb-3.5"),o(de,"class","mb-2.5 text-base font-medium"),o(He,"class","border-gray-100 dark:border-gray-850 my-2"),o(je,"class","self-center text-xs font-medium"),ze.__value="pending",se(ze,ze.__value),Ve.__value="user",se(Ve,Ve.__value),ut.__value="admin",se(ut,ut.__value),o(pt,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),o(pt,"placeholder","Select a role"),l[2].DEFAULT_USER_ROLE===void 0&&Sl(()=>l[14].call(pt)),o(Je,"class","flex items-center relative"),o(Ze,"class","mb-2.5 flex w-full justify-between"),o(ct,"class","self-center text-xs font-medium"),o(_t,"class","mb-2.5 flex w-full justify-between pr-2"),o(ft,"class","self-center text-xs font-medium"),o(Ge,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(Ue,"class","self-center text-xs font-medium"),o(Dt,"class","mb-2.5 flex w-full justify-between pr-2"),o(nt,"class","self-center text-xs font-medium"),o(Ye,"class","flex w-full justify-between"),o(Wt,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Wt,"type","text"),o(Wt,"placeholder",'e.g.) "30m","1h", "10d". '),o(sl,"class","flex mt-2 space-x-2"),o(Bt,"class","text-gray-300 font-medium"),o(zt,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(At,"class","mb-2.5 w-full justify-between"),o(Tl,"class","font-medium"),o(hl,"class","mt-1"),o(tl,"class","flex justify-between items-center text-sm"),o(qt,"class","mt-2 space-y-2 pr-1.5"),o(Il,"class","space-y-3"),o(le,"class","mb-3"),o(Ft,"class","mb-2.5 text-base font-medium"),o(ns,"class","border-gray-100 dark:border-gray-850 my-2"),o(xe,"class","self-center text-xs font-medium"),o(qe,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(Bl,"class","self-center text-xs font-medium"),o(Rl,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(Cl,"class","self-center text-xs font-medium"),o(Ol,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(ts,"class","self-center text-xs font-medium"),o(bs,"class","flex w-full justify-between"),o(Fl,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Fl,"type","text"),o(Fl,"placeholder",'e.g.) "http://localhost:3000"'),o(ds,"class","flex mt-2 space-x-2"),o(ws,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(Wl,"class","mb-2.5 w-full justify-between"),o(Ts,"class","self-center text-xs font-medium"),o(ks,"class","flex w-full justify-between"),o(Ss,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Ss,"type","text"),o(Ss,"placeholder","https://example.com/webhook"),o(Ys,"class","flex mt-2 space-x-2"),o(hs,"class","w-full justify-between"),o(Jt,"class","mb-3"),o(e,"class","")},m(Qe,Ht){H(Qe,e,Ht),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(t,f),r(t,h),r(h,E),r(E,g),r(g,m),r(h,b),r(h,I),r(I,T),r(T,w),pe(k,w,null),r(w,D),r(w,$),r($,P),r(T,N),r(T,V),r(V,S),r(S,Y),r(I,L),r(I,U),r(U,j),r(t,F),r(t,J),r(J,X),r(X,ne),r(ne,ie),r(ie,Q),r(ne,Z),r(ne,te),r(te,z),r(X,be),r(X,re),r(re,oe),r(J,Te),r(J,ge),r(t,De),r(t,Se),r(Se,ke),r(ke,we),r(we,Ae),r(Ae,ce),r(we,Be),Os.m(we,null),r(e,Ce),r(e,le),r(le,de),r(de,Ne),r(le,Oe),r(le,He),r(le,We),r(le,Ze),r(Ze,je),r(je,ye),r(Ze,ht),r(Ze,Je),r(Je,pt),r(pt,ze),r(ze,bt),r(pt,Ve),r(Ve,Et),r(pt,ut),r(ut,Tt),xt(pt,l[2].DEFAULT_USER_ROLE,!0),r(le,yt),r(le,_t),r(_t,ct),r(ct,Me),r(_t,Ke),pe(Nt,_t,null),r(le,Re),r(le,Ge),r(Ge,ft),r(ft,Rt),r(Ge,Gt),pe(Le,Ge,null),r(le,Ut),r(le,Dt),r(Dt,Ue),r(Ue,rt),r(Dt,Pt),pe(Ct,Dt,null),r(le,Mt),Gl&&Gl.m(le,null),r(le,Lt),r(le,At),r(At,Ye),r(Ye,nt),r(nt,Kt),r(At,st),r(At,sl),r(sl,Wt),se(Wt,l[2].JWT_EXPIRES_IN),r(At,Xt),r(At,zt),r(zt,it),r(zt,St),r(zt,Bt),r(Bt,El),r(le,dl),r(le,Il),r(Il,qt),r(qt,tl),r(tl,Tl),r(Tl,ol),r(tl,Al),r(tl,hl),pe(Nl,hl,null),r(qt,nl),jl&&jl.m(qt,null),r(e,fs),r(e,Jt),r(Jt,Ft),r(Ft,rs),r(Jt,Ql),r(Jt,ns),r(Jt,cl),r(Jt,qe),r(qe,xe),r(xe,ul),r(qe,Pe),pe(at,qe,null),r(Jt,ll),r(Jt,Rl),r(Rl,Bl),r(Bl,Jl),r(Rl,is),pe(ql,Rl,null),r(Jt,Zt),r(Jt,Ol),r(Ol,Cl),r(Cl,Es),r(Cl,Ds),r(Cl,cs),r(Cl,Ls),r(Ol,ys),pe(Ul,Ol,null),r(Jt,Vs),r(Jt,Wl),r(Wl,bs),r(bs,ts),r(ts,Is),r(Wl,os),r(Wl,ds),r(ds,Fl),se(Fl,l[2].WEBUI_URL),r(Wl,us),r(Wl,ws),r(ws,_s),r(Jt,Rs),r(Jt,hs),r(hs,ks),r(ks,Ts),r(Ts,aa),r(hs,Va),r(hs,Ys),r(Ys,Ss),se(Ss,l[3]),bl=!0,Na||(Oa=[fe(V,"click",l[12]),fe(U,"click",l[13]),fe(pt,"change",l[14]),fe(Wt,"input",l[20]),fe(Fl,"input",l[38]),fe(Ss,"input",l[39])],Na=!0)},p(Qe,Ht){var ta;(!bl||Ht[0]&64)&&a!==(a=Qe[6].t("General")+"")&&K(i,a),(!bl||Ht[0]&64)&&v!==(v=Qe[6].t("Version")+"")&&K(m,v);const ls={};Ht[1]&2048&&(ls.$$scope={dirty:Ht,ctx:Qe}),k.$set(ls),(!bl||Ht[0]&67)&&O!==(O=(Qe[0]===null?Qe[6].t("Checking for updates..."):Qe[0]?`(v${Qe[1].latest} ${Qe[6].t("available!")})`:Qe[6].t("(latest)"))+"")&&K(P,O),(!bl||Ht[0]&2&&M!==(M="https://github.com/open-webui/open-webui/releases/tag/v"+Qe[1].latest))&&o($,"href",M),(!bl||Ht[0]&64)&&q!==(q=Qe[6].t("See what's new")+"")&&K(Y,q),(!bl||Ht[0]&64)&&B!==(B=Qe[6].t("Check for updates")+"")&&K(j,B),(!bl||Ht[0]&64)&&ae!==(ae=Qe[6].t("Help")+"")&&K(Q,ae),(!bl||Ht[0]&64)&&ee!==(ee=Qe[6].t("Discover how to use Open WebUI and seek support from the community.")+"")&&K(z,ee),(!bl||Ht[0]&64)&&ue!==(ue=Qe[6].t("Documentation")+"")&&K(oe,ue),(!bl||Ht[0]&64)&&x!==(x=Qe[6].t("License")+"")&&K(ce,x),ra===(ra=Pa(Qe))&&Os?Os.p(Qe,Ht):(Os.d(1),Os=ra(Qe),Os&&(Os.c(),Os.m(we,null))),(!bl||Ht[0]&64)&&$e!==($e=Qe[6].t("Authentication")+"")&&K(Ne,$e),(!bl||Ht[0]&64)&&Ie!==(Ie=Qe[6].t("Default User Role")+"")&&K(ye,Ie),(!bl||Ht[0]&64)&&ot!==(ot=Qe[6].t("pending")+"")&&K(bt,ot),(!bl||Ht[0]&64)&&dt!==(dt=Qe[6].t("user")+"")&&K(Et,dt),(!bl||Ht[0]&64)&&mt!==(mt=Qe[6].t("admin")+"")&&K(Tt,mt),Ht[0]&4&&xt(pt,Qe[2].DEFAULT_USER_ROLE),(!bl||Ht[0]&64)&&vt!==(vt=Qe[6].t("Enable New Sign Ups")+"")&&K(Me,vt);const Qs={};!It&&Ht[0]&4&&(It=!0,Qs.state=Qe[2].ENABLE_SIGNUP,tt(()=>It=!1)),Nt.$set(Qs),(!bl||Ht[0]&64)&&jt!==(jt=Qe[6].t("Show Admin Details in Account Pending Overlay")+"")&&K(Rt,jt);const Us={};!Fe&&Ht[0]&4&&(Fe=!0,Us.state=Qe[2].SHOW_ADMIN_DETAILS,tt(()=>Fe=!1)),Le.$set(Us),(!bl||Ht[0]&64)&&Ee!==(Ee=Qe[6].t("Enable API Key")+"")&&K(rt,Ee);const xs={};!$t&&Ht[0]&4&&($t=!0,xs.state=Qe[2].ENABLE_API_KEY,tt(()=>$t=!1)),Ct.$set(xs),(ta=Qe[2])!=null&&ta.ENABLE_API_KEY?Gl?(Gl.p(Qe,Ht),Ht[0]&4&&G(Gl,1)):(Gl=Mr(Qe),Gl.c(),G(Gl,1),Gl.m(le,Lt)):Gl&&(wt(),W(Gl,1,1,()=>{Gl=null}),kt()),(!bl||Ht[0]&64)&&Ot!==(Ot=Qe[6].t("JWT Expiration")+"")&&K(Kt,Ot),Ht[0]&4&&Wt.value!==Qe[2].JWT_EXPIRES_IN&&se(Wt,Qe[2].JWT_EXPIRES_IN),(!bl||Ht[0]&64)&&al!==(al=Qe[6].t("Valid time units:")+"")&&K(it,al),(!bl||Ht[0]&64)&&il!==(il=Qe[6].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&K(El,il),(!bl||Ht[0]&64)&&Dl!==(Dl=Qe[6].t("LDAP")+"")&&K(ol,Dl);const ea={};!zl&&Ht[0]&16&&(zl=!0,ea.state=Qe[4],tt(()=>zl=!1)),Nl.$set(ea),Qe[4]?jl?(jl.p(Qe,Ht),Ht[0]&16&&G(jl,1)):(jl=Rr(Qe),jl.c(),G(jl,1),jl.m(qt,null)):jl&&(wt(),W(jl,1,1,()=>{jl=null}),kt()),(!bl||Ht[0]&64)&&fl!==(fl=Qe[6].t("Features")+"")&&K(rs,fl),(!bl||Ht[0]&64)&&xl!==(xl=Qe[6].t("Enable Community Sharing")+"")&&K(ul,xl);const Bs={};!_l&&Ht[0]&4&&(_l=!0,Bs.state=Qe[2].ENABLE_COMMUNITY_SHARING,tt(()=>_l=!1)),at.$set(Bs),(!bl||Ht[0]&64)&&Yl!==(Yl=Qe[6].t("Enable Message Rating")+"")&&K(Jl,Yl);const Hs={};!es&&Ht[0]&4&&(es=!0,Hs.state=Qe[2].ENABLE_MESSAGE_RATING,tt(()=>es=!1)),ql.$set(Hs),(!bl||Ht[0]&64)&&gs!==(gs=Qe[6].t("Channels")+"")&&K(Es,gs),(!bl||Ht[0]&64)&&As!==(As=Qe[6].t("Beta")+"")&&K(cs,As);const Gs={};!$s&&Ht[0]&4&&($s=!0,Gs.state=Qe[2].ENABLE_CHANNELS,tt(()=>$s=!1)),Ul.$set(Gs),(!bl||Ht[0]&64)&&Ns!==(Ns=Qe[6].t("WebUI URL")+"")&&K(Is,Ns),Ht[0]&4&&Fl.value!==Qe[2].WEBUI_URL&&se(Fl,Qe[2].WEBUI_URL),(!bl||Ht[0]&64)&&ms!==(ms=Qe[6].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"")&&K(_s,ms),(!bl||Ht[0]&64)&&Hl!==(Hl=Qe[6].t("Webhook URL")+"")&&K(aa,Hl),Ht[0]&8&&Ss.value!==Qe[3]&&se(Ss,Qe[3])},i(Qe){bl||(G(k.$$.fragment,Qe),G(Nt.$$.fragment,Qe),G(Le.$$.fragment,Qe),G(Ct.$$.fragment,Qe),G(Gl),G(Nl.$$.fragment,Qe),G(jl),G(at.$$.fragment,Qe),G(ql.$$.fragment,Qe),G(Ul.$$.fragment,Qe),bl=!0)},o(Qe){W(k.$$.fragment,Qe),W(Nt.$$.fragment,Qe),W(Le.$$.fragment,Qe),W(Ct.$$.fragment,Qe),W(Gl),W(Nl.$$.fragment,Qe),W(jl),W(at.$$.fragment,Qe),W(ql.$$.fragment,Qe),W(Ul.$$.fragment,Qe),bl=!1},d(Qe){Qe&&c(e),ve(k),Os.d(),ve(Nt),ve(Le),ve(Ct),Gl&&Gl.d(),ve(Nl),jl&&jl.d(),ve(at),ve(ql),ve(Ul),Na=!1,gl(Oa)}}}function Fu(l){let e,t;return{c(){e=R("v"),t=R(wa)},l(s){e=C(s,"v"),t=C(s,wa)},m(s,a){H(s,e,a),H(s,t,a)},p:gt,d(s){s&&(c(e),c(t))}}}function Zu(l){let e,t,s=l[6].t("Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.")+"",a;return{c(){e=d("a"),t=d("span"),a=R(s),this.h()},l(i){e=_(i,"A",{class:!0,href:!0,target:!0});var n=p(e);t=_(n,"SPAN",{class:!0});var u=p(t);a=C(u,s),u.forEach(c),n.forEach(c),this.h()},h(){o(t,"class","text-gray-500"),o(e,"class","text-xs hover:underline"),o(e,"href","https://docs.openwebui.com/enterprise"),o(e,"target","_blank")},m(i,n){H(i,e,n),r(e,t),r(t,a)},p(i,n){n[0]&64&&s!==(s=i[6].t("Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.")+"")&&K(a,s)},d(i){i&&c(e)}}}function zu(l){var k,D,$,O,P,M,N,V;let e,t,s=((D=(k=l[7])==null?void 0:k.license_metadata)==null?void 0:D.type)+"",a,i,n,u,f=((O=($=l[7])==null?void 0:$.license_metadata)==null?void 0:O.organization_name)+"",h,E,g,v=(((M=(P=l[7])==null?void 0:P.license_metadata)==null?void 0:M.seats)??"Unlimited")+"",m,b,I,T,w=((V=(N=l[7])==null?void 0:N.license_metadata)==null?void 0:V.html)&&Sr(l);return{c(){e=d("a"),t=d("span"),a=R(s),i=R(`
											license`),n=R(`
										registered to
										`),u=d("span"),h=R(f),E=R(`
										for
										`),g=d("span"),m=R(v),b=R(" users."),I=A(),w&&w.c(),T=rl(),this.h()},l(S){e=_(S,"A",{href:!0,target:!0,class:!0});var q=p(e);t=_(q,"SPAN",{class:!0});var Y=p(t);a=C(Y,s),i=C(Y,`
											license`),Y.forEach(c),n=C(q,`
										registered to
										`),u=_(q,"SPAN",{class:!0});var L=p(u);h=C(L,f),L.forEach(c),E=C(q,`
										for
										`),g=_(q,"SPAN",{class:!0});var U=p(g);m=C(U,v),b=C(U," users."),U.forEach(c),q.forEach(c),I=y(S),w&&w.l(S),T=rl(),this.h()},h(){o(t,"class","capitalize text-black dark:text-white"),o(u,"class","capitalize text-black dark:text-white"),o(g,"class","font-medium text-black dark:text-white"),o(e,"href","https://docs.openwebui.com/enterprise"),o(e,"target","_blank"),o(e,"class","text-gray-500 mt-0.5")},m(S,q){H(S,e,q),r(e,t),r(t,a),r(t,i),r(e,n),r(e,u),r(u,h),r(e,E),r(e,g),r(g,m),r(g,b),H(S,I,q),w&&w.m(S,q),H(S,T,q)},p(S,q){var Y,L,U,B,j,F,J,X;q[0]&128&&s!==(s=((L=(Y=S[7])==null?void 0:Y.license_metadata)==null?void 0:L.type)+"")&&K(a,s),q[0]&128&&f!==(f=((B=(U=S[7])==null?void 0:U.license_metadata)==null?void 0:B.organization_name)+"")&&K(h,f),q[0]&128&&v!==(v=(((F=(j=S[7])==null?void 0:j.license_metadata)==null?void 0:F.seats)??"Unlimited")+"")&&K(m,v),(X=(J=S[7])==null?void 0:J.license_metadata)!=null&&X.html?w?w.p(S,q):(w=Sr(S),w.c(),w.m(T.parentNode,T)):w&&(w.d(1),w=null)},d(S){S&&(c(e),c(I),c(T)),w&&w.d(S)}}}function Sr(l){var a,i;let e,t,s=wr.sanitize((i=(a=l[7])==null?void 0:a.license_metadata)==null?void 0:i.html)+"";return{c(){e=d("div"),t=new wo(!1),this.h()},l(n){e=_(n,"DIV",{class:!0});var u=p(e);t=ko(u,!1),u.forEach(c),this.h()},h(){t.a=null,o(e,"class","mt-0.5")},m(n,u){H(n,e,u),t.m(s,e)},p(n,u){var f,h;u[0]&128&&s!==(s=wr.sanitize((h=(f=n[7])==null?void 0:f.license_metadata)==null?void 0:h.html)+"")&&t.p(s)},d(n){n&&c(e)}}}function Mr(l){var b;let e,t,s=l[6].t("API Key Endpoint Restrictions")+"",a,i,n,u,f,h,E;function g(I){l[18](I)}let v={};l[2].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS!==void 0&&(v.state=l[2].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS),n=new pl({props:v}),Xe.push(()=>lt(n,"state",g));let m=((b=l[2])==null?void 0:b.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS)&&Lr(l);return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),_e(n.$$.fragment),f=A(),m&&m.c(),h=rl(),this.h()},l(I){e=_(I,"DIV",{class:!0});var T=p(e);t=_(T,"DIV",{class:!0});var w=p(t);a=C(w,s),w.forEach(c),i=y(T),he(n.$$.fragment,T),T.forEach(c),f=y(I),m&&m.l(I),h=rl(),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(e,"class","mb-2.5 flex w-full justify-between pr-2")},m(I,T){H(I,e,T),r(e,t),r(t,a),r(e,i),pe(n,e,null),H(I,f,T),m&&m.m(I,T),H(I,h,T),E=!0},p(I,T){var k;(!E||T[0]&64)&&s!==(s=I[6].t("API Key Endpoint Restrictions")+"")&&K(a,s);const w={};!u&&T[0]&4&&(u=!0,w.state=I[2].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,tt(()=>u=!1)),n.$set(w),(k=I[2])!=null&&k.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS?m?m.p(I,T):(m=Lr(I),m.c(),m.m(h.parentNode,h)):m&&(m.d(1),m=null)},i(I){E||(G(n.$$.fragment,I),E=!0)},o(I){W(n.$$.fragment,I),E=!1},d(I){I&&(c(e),c(f),c(h)),ve(n),m&&m.d(I)}}}function Lr(l){let e,t,s=l[6].t("Allowed Endpoints")+"",a,i,n,u,f,h,E=l[6].t("To learn more about available endpoints, visit our documentation.")+"",g,v,m;return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("input"),u=A(),f=d("div"),h=d("a"),g=R(E),this.h()},l(b){e=_(b,"DIV",{class:!0});var I=p(e);t=_(I,"DIV",{class:!0});var T=p(t);a=C(T,s),T.forEach(c),i=y(I),n=_(I,"INPUT",{class:!0,type:!0,placeholder:!0}),u=y(I),f=_(I,"DIV",{class:!0});var w=p(f);h=_(w,"A",{href:!0,target:!0,class:!0});var k=p(h);g=C(k,E),k.forEach(c),w.forEach(c),I.forEach(c),this.h()},h(){o(t,"class","text-xs font-medium"),o(n,"class","w-full mt-1 rounded-lg text-sm dark:text-gray-300 bg-transparent outline-hidden"),o(n,"type","text"),o(n,"placeholder","e.g.) /api/v1/messages, /api/v1/channels"),o(h,"href","https://docs.openwebui.com/getting-started/api-endpoints"),o(h,"target","_blank"),o(h,"class","text-gray-300 font-medium underline"),o(f,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(e,"class","flex w-full flex-col pr-2")},m(b,I){H(b,e,I),r(e,t),r(t,a),r(e,i),r(e,n),se(n,l[2].API_KEY_ALLOWED_ENDPOINTS),r(e,u),r(e,f),r(f,h),r(h,g),v||(m=fe(n,"input",l[19]),v=!0)},p(b,I){I[0]&64&&s!==(s=b[6].t("Allowed Endpoints")+"")&&K(a,s),I[0]&4&&n.value!==b[2].API_KEY_ALLOWED_ENDPOINTS&&se(n,b[2].API_KEY_ALLOWED_ENDPOINTS),I[0]&64&&E!==(E=b[6].t("To learn more about available endpoints, visit our documentation.")+"")&&K(g,E)},d(b){b&&c(e),v=!1,m()}}}function Rr(l){let e,t,s,a,i=l[6].t("Label")+"",n,u,f,h,E,g,v,m,b,I,T=l[6].t("Host")+"",w,k,D,$,O,P,M,N=l[6].t("Port")+"",V,S,q,Y,L,U,B,j=l[6].t("Application DN")+"",F,J,X,ne,ie,ae,Q=l[6].t("Application DN Password")+"",Z,te,ee,z,be,re,ue,oe,Te=l[6].t("Attribute for Mail")+"",ge,me,De,Se,ke,we,Ae,x=l[6].t("Attribute for Username")+"",ce,Be,Ce,le,de,$e,Ne,Oe=l[6].t("Search Base")+"",He,We,Ze,je,Ie,ye,ht,Je=l[6].t("Search Filters")+"",pt,ze,ot,bt,Ve,dt,Et,ut=l[6].t("Click here for filter guides.")+"",mt,Tt,yt,_t,ct,vt=l[6].t("TLS")+"",Me,Ke,Nt,It,Re,Ge,ft,jt,Rt;q=new Yt({props:{placement:"top-start",content:l[6].t("Default to 389 or 636 if TLS is enabled"),className:"w-full",$$slots:{default:[Ju]},$$scope:{ctx:l}}}),X=new Yt({props:{content:l[6].t("The Application Account DN you bind with for search"),placement:"top-start",$$slots:{default:[Xu]},$$scope:{ctx:l}}});function Gt(Ue){l[27](Ue)}let Le={placeholder:l[6].t("Enter Application DN Password")};l[5].app_dn_password!==void 0&&(Le.value=l[5].app_dn_password),ee=new kl({props:Le}),Xe.push(()=>lt(ee,"value",Gt)),De=new Yt({props:{content:l[6].t("The LDAP attribute that maps to the mail that users use to sign in."),placement:"top-start",$$slots:{default:[Qu]},$$scope:{ctx:l}}}),Ce=new Yt({props:{content:l[6].t("The LDAP attribute that maps to the username that users use to sign in."),placement:"top-start",$$slots:{default:[xu]},$$scope:{ctx:l}}}),Ze=new Yt({props:{content:l[6].t("The base to search for users"),placement:"top-start",$$slots:{default:[ef]},$$scope:{ctx:l}}});function Fe(Ue){l[32](Ue)}let Ut={};l[5].use_tls!==void 0&&(Ut.state=l[5].use_tls),It=new pl({props:Ut}),Xe.push(()=>lt(It,"state",Fe));let Dt=l[5].use_tls&&Cr(l);return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),n=R(i),u=A(),f=d("input"),E=A(),g=d("div"),v=A(),m=d("div"),b=d("div"),I=d("div"),w=R(T),k=A(),D=d("input"),O=A(),P=d("div"),M=d("div"),V=R(N),S=A(),_e(q.$$.fragment),Y=A(),L=d("div"),U=d("div"),B=d("div"),F=R(j),J=A(),_e(X.$$.fragment),ne=A(),ie=d("div"),ae=d("div"),Z=R(Q),te=A(),_e(ee.$$.fragment),be=A(),re=d("div"),ue=d("div"),oe=d("div"),ge=R(Te),me=A(),_e(De.$$.fragment),Se=A(),ke=d("div"),we=d("div"),Ae=d("div"),ce=R(x),Be=A(),_e(Ce.$$.fragment),le=A(),de=d("div"),$e=d("div"),Ne=d("div"),He=R(Oe),We=A(),_e(Ze.$$.fragment),je=A(),Ie=d("div"),ye=d("div"),ht=d("div"),pt=R(Je),ze=A(),ot=d("input"),Ve=A(),dt=d("div"),Et=d("a"),mt=R(ut),Tt=A(),yt=d("div"),_t=d("div"),ct=d("div"),Me=R(vt),Ke=A(),Nt=d("div"),_e(It.$$.fragment),Ge=A(),Dt&&Dt.c(),this.h()},l(Ue){e=_(Ue,"DIV",{class:!0});var Ee=p(e);t=_(Ee,"DIV",{class:!0});var rt=p(t);s=_(rt,"DIV",{class:!0});var Pt=p(s);a=_(Pt,"DIV",{class:!0});var Ct=p(a);n=C(Ct,i),Ct.forEach(c),u=y(Pt),f=_(Pt,"INPUT",{class:!0,placeholder:!0}),Pt.forEach(c),E=y(rt),g=_(rt,"DIV",{class:!0}),p(g).forEach(c),rt.forEach(c),v=y(Ee),m=_(Ee,"DIV",{class:!0});var $t=p(m);b=_($t,"DIV",{class:!0});var Mt=p(b);I=_(Mt,"DIV",{class:!0});var Lt=p(I);w=C(Lt,T),Lt.forEach(c),k=y(Mt),D=_(Mt,"INPUT",{class:!0,placeholder:!0}),Mt.forEach(c),O=y($t),P=_($t,"DIV",{class:!0});var At=p(P);M=_(At,"DIV",{class:!0});var Ye=p(M);V=C(Ye,N),Ye.forEach(c),S=y(At),he(q.$$.fragment,At),At.forEach(c),$t.forEach(c),Y=y(Ee),L=_(Ee,"DIV",{class:!0});var nt=p(L);U=_(nt,"DIV",{class:!0});var Ot=p(U);B=_(Ot,"DIV",{class:!0});var Kt=p(B);F=C(Kt,j),Kt.forEach(c),J=y(Ot),he(X.$$.fragment,Ot),Ot.forEach(c),ne=y(nt),ie=_(nt,"DIV",{class:!0});var st=p(ie);ae=_(st,"DIV",{class:!0});var sl=p(ae);Z=C(sl,Q),sl.forEach(c),te=y(st),he(ee.$$.fragment,st),st.forEach(c),nt.forEach(c),be=y(Ee),re=_(Ee,"DIV",{class:!0});var Wt=p(re);ue=_(Wt,"DIV",{class:!0});var Xt=p(ue);oe=_(Xt,"DIV",{class:!0});var zt=p(oe);ge=C(zt,Te),zt.forEach(c),me=y(Xt),he(De.$$.fragment,Xt),Xt.forEach(c),Wt.forEach(c),Se=y(Ee),ke=_(Ee,"DIV",{class:!0});var al=p(ke);we=_(al,"DIV",{class:!0});var it=p(we);Ae=_(it,"DIV",{class:!0});var St=p(Ae);ce=C(St,x),St.forEach(c),Be=y(it),he(Ce.$$.fragment,it),it.forEach(c),al.forEach(c),le=y(Ee),de=_(Ee,"DIV",{class:!0});var Bt=p(de);$e=_(Bt,"DIV",{class:!0});var il=p($e);Ne=_(il,"DIV",{class:!0});var El=p(Ne);He=C(El,Oe),El.forEach(c),We=y(il),he(Ze.$$.fragment,il),il.forEach(c),Bt.forEach(c),je=y(Ee),Ie=_(Ee,"DIV",{class:!0});var dl=p(Ie);ye=_(dl,"DIV",{class:!0});var Il=p(ye);ht=_(Il,"DIV",{class:!0});var qt=p(ht);pt=C(qt,Je),qt.forEach(c),ze=y(Il),ot=_(Il,"INPUT",{class:!0,placeholder:!0}),Il.forEach(c),dl.forEach(c),Ve=y(Ee),dt=_(Ee,"DIV",{class:!0});var tl=p(dt);Et=_(tl,"A",{class:!0,href:!0,target:!0});var Tl=p(Et);mt=C(Tl,ut),Tl.forEach(c),tl.forEach(c),Tt=y(Ee),yt=_(Ee,"DIV",{});var Dl=p(yt);_t=_(Dl,"DIV",{class:!0});var ol=p(_t);ct=_(ol,"DIV",{class:!0});var Al=p(ct);Me=C(Al,vt),Al.forEach(c),Ke=y(ol),Nt=_(ol,"DIV",{class:!0});var hl=p(Nt);he(It.$$.fragment,hl),hl.forEach(c),ol.forEach(c),Ge=y(Dl),Dt&&Dt.l(Dl),Dl.forEach(c),Ee.forEach(c),this.h()},h(){o(a,"class","self-center text-xs font-medium min-w-fit mb-1"),o(f,"class","w-full bg-transparent outline-hidden py-0.5"),f.required=!0,o(f,"placeholder",h=l[6].t("Enter server label")),o(s,"class","w-full"),o(g,"class","w-full"),o(t,"class","flex w-full gap-2"),o(I,"class","self-center text-xs font-medium min-w-fit mb-1"),o(D,"class","w-full bg-transparent outline-hidden py-0.5"),D.required=!0,o(D,"placeholder",$=l[6].t("Enter server host")),o(b,"class","w-full"),o(M,"class","self-center text-xs font-medium min-w-fit mb-1"),o(P,"class","w-full"),o(m,"class","flex w-full gap-2"),o(B,"class","self-center text-xs font-medium min-w-fit mb-1"),o(U,"class","w-full"),o(ae,"class","self-center text-xs font-medium min-w-fit mb-1"),o(ie,"class","w-full"),o(L,"class","flex w-full gap-2"),o(oe,"class","self-center text-xs font-medium min-w-fit mb-1"),o(ue,"class","w-full"),o(re,"class","flex w-full gap-2"),o(Ae,"class","self-center text-xs font-medium min-w-fit mb-1"),o(we,"class","w-full"),o(ke,"class","flex w-full gap-2"),o(Ne,"class","self-center text-xs font-medium min-w-fit mb-1"),o($e,"class","w-full"),o(de,"class","flex w-full gap-2"),o(ht,"class","self-center text-xs font-medium min-w-fit mb-1"),o(ot,"class","w-full bg-transparent outline-hidden py-0.5"),o(ot,"placeholder",bt=l[6].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")),o(ye,"class","w-full"),o(Ie,"class","flex w-full gap-2"),o(Et,"class","text-gray-300 font-medium underline"),o(Et,"href","https://ldap.com/ldap-filters/"),o(Et,"target","_blank"),o(dt,"class","text-xs text-gray-400 dark:text-gray-500"),o(ct,"class","font-medium"),o(Nt,"class","mt-1"),o(_t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col gap-1")},m(Ue,Ee){H(Ue,e,Ee),r(e,t),r(t,s),r(s,a),r(a,n),r(s,u),r(s,f),se(f,l[5].label),r(t,E),r(t,g),r(e,v),r(e,m),r(m,b),r(b,I),r(I,w),r(b,k),r(b,D),se(D,l[5].host),r(m,O),r(m,P),r(P,M),r(M,V),r(P,S),pe(q,P,null),r(e,Y),r(e,L),r(L,U),r(U,B),r(B,F),r(U,J),pe(X,U,null),r(L,ne),r(L,ie),r(ie,ae),r(ae,Z),r(ie,te),pe(ee,ie,null),r(e,be),r(e,re),r(re,ue),r(ue,oe),r(oe,ge),r(ue,me),pe(De,ue,null),r(e,Se),r(e,ke),r(ke,we),r(we,Ae),r(Ae,ce),r(we,Be),pe(Ce,we,null),r(e,le),r(e,de),r(de,$e),r($e,Ne),r(Ne,He),r($e,We),pe(Ze,$e,null),r(e,je),r(e,Ie),r(Ie,ye),r(ye,ht),r(ht,pt),r(ye,ze),r(ye,ot),se(ot,l[5].search_filters),r(e,Ve),r(e,dt),r(dt,Et),r(Et,mt),r(e,Tt),r(e,yt),r(yt,_t),r(_t,ct),r(ct,Me),r(_t,Ke),r(_t,Nt),pe(It,Nt,null),r(yt,Ge),Dt&&Dt.m(yt,null),ft=!0,jt||(Rt=[fe(f,"input",l[23]),fe(D,"input",l[24]),fe(ot,"input",l[31])],jt=!0)},p(Ue,Ee){(!ft||Ee[0]&64)&&i!==(i=Ue[6].t("Label")+"")&&K(n,i),(!ft||Ee[0]&64&&h!==(h=Ue[6].t("Enter server label")))&&o(f,"placeholder",h),Ee[0]&32&&f.value!==Ue[5].label&&se(f,Ue[5].label),(!ft||Ee[0]&64)&&T!==(T=Ue[6].t("Host")+"")&&K(w,T),(!ft||Ee[0]&64&&$!==($=Ue[6].t("Enter server host")))&&o(D,"placeholder",$),Ee[0]&32&&D.value!==Ue[5].host&&se(D,Ue[5].host),(!ft||Ee[0]&64)&&N!==(N=Ue[6].t("Port")+"")&&K(V,N);const rt={};Ee[0]&64&&(rt.content=Ue[6].t("Default to 389 or 636 if TLS is enabled")),Ee[0]&96|Ee[1]&2048&&(rt.$$scope={dirty:Ee,ctx:Ue}),q.$set(rt),(!ft||Ee[0]&64)&&j!==(j=Ue[6].t("Application DN")+"")&&K(F,j);const Pt={};Ee[0]&64&&(Pt.content=Ue[6].t("The Application Account DN you bind with for search")),Ee[0]&96|Ee[1]&2048&&(Pt.$$scope={dirty:Ee,ctx:Ue}),X.$set(Pt),(!ft||Ee[0]&64)&&Q!==(Q=Ue[6].t("Application DN Password")+"")&&K(Z,Q);const Ct={};Ee[0]&64&&(Ct.placeholder=Ue[6].t("Enter Application DN Password")),!z&&Ee[0]&32&&(z=!0,Ct.value=Ue[5].app_dn_password,tt(()=>z=!1)),ee.$set(Ct),(!ft||Ee[0]&64)&&Te!==(Te=Ue[6].t("Attribute for Mail")+"")&&K(ge,Te);const $t={};Ee[0]&64&&($t.content=Ue[6].t("The LDAP attribute that maps to the mail that users use to sign in.")),Ee[0]&96|Ee[1]&2048&&($t.$$scope={dirty:Ee,ctx:Ue}),De.$set($t),(!ft||Ee[0]&64)&&x!==(x=Ue[6].t("Attribute for Username")+"")&&K(ce,x);const Mt={};Ee[0]&64&&(Mt.content=Ue[6].t("The LDAP attribute that maps to the username that users use to sign in.")),Ee[0]&96|Ee[1]&2048&&(Mt.$$scope={dirty:Ee,ctx:Ue}),Ce.$set(Mt),(!ft||Ee[0]&64)&&Oe!==(Oe=Ue[6].t("Search Base")+"")&&K(He,Oe);const Lt={};Ee[0]&64&&(Lt.content=Ue[6].t("The base to search for users")),Ee[0]&96|Ee[1]&2048&&(Lt.$$scope={dirty:Ee,ctx:Ue}),Ze.$set(Lt),(!ft||Ee[0]&64)&&Je!==(Je=Ue[6].t("Search Filters")+"")&&K(pt,Je),(!ft||Ee[0]&64&&bt!==(bt=Ue[6].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")))&&o(ot,"placeholder",bt),Ee[0]&32&&ot.value!==Ue[5].search_filters&&se(ot,Ue[5].search_filters),(!ft||Ee[0]&64)&&ut!==(ut=Ue[6].t("Click here for filter guides.")+"")&&K(mt,ut),(!ft||Ee[0]&64)&&vt!==(vt=Ue[6].t("TLS")+"")&&K(Me,vt);const At={};!Re&&Ee[0]&32&&(Re=!0,At.state=Ue[5].use_tls,tt(()=>Re=!1)),It.$set(At),Ue[5].use_tls?Dt?(Dt.p(Ue,Ee),Ee[0]&32&&G(Dt,1)):(Dt=Cr(Ue),Dt.c(),G(Dt,1),Dt.m(yt,null)):Dt&&(wt(),W(Dt,1,1,()=>{Dt=null}),kt())},i(Ue){ft||(G(q.$$.fragment,Ue),G(X.$$.fragment,Ue),G(ee.$$.fragment,Ue),G(De.$$.fragment,Ue),G(Ce.$$.fragment,Ue),G(Ze.$$.fragment,Ue),G(It.$$.fragment,Ue),G(Dt),ft=!0)},o(Ue){W(q.$$.fragment,Ue),W(X.$$.fragment,Ue),W(ee.$$.fragment,Ue),W(De.$$.fragment,Ue),W(Ce.$$.fragment,Ue),W(Ze.$$.fragment,Ue),W(It.$$.fragment,Ue),W(Dt),ft=!1},d(Ue){Ue&&c(e),ve(q),ve(X),ve(ee),ve(De),ve(Ce),ve(Ze),ve(It),Dt&&Dt.d(),jt=!1,gl(Rt)}}}function Ju(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),o(e,"type","number"),o(e,"placeholder",t=l[6].t("Enter server port"))},m(i,n){H(i,e,n),se(e,l[5].port),s||(a=fe(e,"input",l[25]),s=!0)},p(i,n){n[0]&64&&t!==(t=i[6].t("Enter server port"))&&o(e,"placeholder",t),n[0]&32&&Kl(e.value)!==i[5].port&&se(e,i[5].port)},d(i){i&&c(e),s=!1,a()}}}function Xu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Enter Application DN"))},m(i,n){H(i,e,n),se(e,l[5].app_dn),s||(a=fe(e,"input",l[26]),s=!0)},p(i,n){n[0]&64&&t!==(t=i[6].t("Enter Application DN"))&&o(e,"placeholder",t),n[0]&32&&e.value!==i[5].app_dn&&se(e,i[5].app_dn)},d(i){i&&c(e),s=!1,a()}}}function Qu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Example: mail"))},m(i,n){H(i,e,n),se(e,l[5].attribute_for_mail),s||(a=fe(e,"input",l[28]),s=!0)},p(i,n){n[0]&64&&t!==(t=i[6].t("Example: mail"))&&o(e,"placeholder",t),n[0]&32&&e.value!==i[5].attribute_for_mail&&se(e,i[5].attribute_for_mail)},d(i){i&&c(e),s=!1,a()}}}function xu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Example: sAMAccountName or uid or userPrincipalName"))},m(i,n){H(i,e,n),se(e,l[5].attribute_for_username),s||(a=fe(e,"input",l[29]),s=!0)},p(i,n){n[0]&64&&t!==(t=i[6].t("Example: sAMAccountName or uid or userPrincipalName"))&&o(e,"placeholder",t),n[0]&32&&e.value!==i[5].attribute_for_username&&se(e,i[5].attribute_for_username)},d(i){i&&c(e),s=!1,a()}}}function ef(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Example: ou=users,dc=foo,dc=example"))},m(i,n){H(i,e,n),se(e,l[5].search_base),s||(a=fe(e,"input",l[30]),s=!0)},p(i,n){n[0]&64&&t!==(t=i[6].t("Example: ou=users,dc=foo,dc=example"))&&o(e,"placeholder",t),n[0]&32&&e.value!==i[5].search_base&&se(e,i[5].search_base)},d(i){i&&c(e),s=!1,a()}}}function Cr(l){let e,t,s,a=l[6].t("Certificate Path")+"",i,n,u,f,h,E,g,v,m=l[6].t("Ciphers")+"",b,I,T,w,k,D,$,O;return T=new Yt({props:{content:l[6].t("Default to ALL"),placement:"top-start",$$slots:{default:[tf]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("input"),h=A(),E=d("div"),g=d("div"),v=d("div"),b=R(m),I=A(),_e(T.$$.fragment),w=A(),k=d("div"),this.h()},l(P){e=_(P,"DIV",{class:!0});var M=p(e);t=_(M,"DIV",{class:!0});var N=p(t);s=_(N,"DIV",{class:!0});var V=p(s);i=C(V,a),V.forEach(c),n=y(N),u=_(N,"INPUT",{class:!0,placeholder:!0}),N.forEach(c),M.forEach(c),h=y(P),E=_(P,"DIV",{class:!0});var S=p(E);g=_(S,"DIV",{class:!0});var q=p(g);v=_(q,"DIV",{class:!0});var Y=p(v);b=C(Y,m),Y.forEach(c),I=y(q),he(T.$$.fragment,q),q.forEach(c),w=y(S),k=_(S,"DIV",{class:!0}),p(k).forEach(c),S.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium min-w-fit mb-1 mt-1"),o(u,"class","w-full bg-transparent outline-hidden py-0.5"),u.required=!0,o(u,"placeholder",f=l[6].t("Enter certificate path")),o(t,"class","w-full"),o(e,"class","flex w-full gap-2"),o(v,"class","self-center text-xs font-medium min-w-fit mb-1"),o(g,"class","w-full"),o(k,"class","w-full"),o(E,"class","flex w-full gap-2")},m(P,M){H(P,e,M),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),se(u,l[5].certificate_path),H(P,h,M),H(P,E,M),r(E,g),r(g,v),r(v,b),r(g,I),pe(T,g,null),r(E,w),r(E,k),D=!0,$||(O=fe(u,"input",l[33]),$=!0)},p(P,M){(!D||M[0]&64)&&a!==(a=P[6].t("Certificate Path")+"")&&K(i,a),(!D||M[0]&64&&f!==(f=P[6].t("Enter certificate path")))&&o(u,"placeholder",f),M[0]&32&&u.value!==P[5].certificate_path&&se(u,P[5].certificate_path),(!D||M[0]&64)&&m!==(m=P[6].t("Ciphers")+"")&&K(b,m);const N={};M[0]&64&&(N.content=P[6].t("Default to ALL")),M[0]&96|M[1]&2048&&(N.$$scope={dirty:M,ctx:P}),T.$set(N)},i(P){D||(G(T.$$.fragment,P),D=!0)},o(P){W(T.$$.fragment,P),D=!1},d(P){P&&(c(e),c(h),c(E)),ve(T),$=!1,O()}}}function tf(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),o(e,"placeholder",t=l[6].t("Example: ALL"))},m(i,n){H(i,e,n),se(e,l[5].ciphers),s||(a=fe(e,"input",l[34]),s=!0)},p(i,n){n[0]&64&&t!==(t=i[6].t("Example: ALL"))&&o(e,"placeholder",t),n[0]&32&&e.value!==i[5].ciphers&&se(e,i[5].ciphers)},d(i){i&&c(e),s=!1,a()}}}function lf(l){let e,t,s,a,i,n=l[6].t("Save")+"",u,f,h,E,g=l[2]!==null&&Pr(l);return{c(){e=d("form"),t=d("div"),g&&g.c(),s=A(),a=d("div"),i=d("button"),u=R(n),this.h()},l(v){e=_(v,"FORM",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);g&&g.l(b),b.forEach(c),s=y(m),a=_(m,"DIV",{class:!0});var I=p(a);i=_(I,"BUTTON",{class:!0,type:!0});var T=p(i);u=C(T,n),T.forEach(c),I.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","mt-0.5 space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(v,m){H(v,e,m),r(e,t),g&&g.m(t,null),r(e,s),r(e,a),r(a,i),r(i,u),f=!0,h||(E=fe(e,"submit",vs(l[40])),h=!0)},p(v,m){v[2]!==null?g?(g.p(v,m),m[0]&4&&G(g,1)):(g=Pr(v),g.c(),G(g,1),g.m(t,null)):g&&(wt(),W(g,1,1,()=>{g=null}),kt()),(!f||m[0]&64)&&n!==(n=v[6].t("Save")+"")&&K(u,n)},i(v){f||(G(g),f=!0)},o(v){W(g),f=!1},d(v){v&&c(e),g&&g.d(),h=!1,E()}}}function sf(l,e,t){let s,a;el(l,ss,re=>t(7,a=re));const i=Ml("i18n");el(l,i,re=>t(6,s=re));let{saveHandler:n}=e,u=null,f={current:"",latest:""},h=null,E="",g=!1,v={label:"",host:"",port:"",attribute_for_mail:"mail",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""};const m=async()=>{t(0,u=null),t(1,f=await $o(localStorage.token).catch(re=>({current:wa,latest:wa}))),console.log(f),t(0,u=ru(f.latest,f.current)),console.log(u)},b=async()=>{if(!g)return;await au(localStorage.token,v).catch(ue=>(et.error(`${ue}`),null))&&et.success(s.t("LDAP server updated"))},I=async()=>{t(3,E=await Vo(localStorage.token,E));const re=await lu(localStorage.token,h);await b(),re?n():et.error(i.t("Failed to update settings"))};as(async()=>{m(),await Promise.all([(async()=>{t(2,h=await xo(localStorage.token))})(),(async()=>{t(3,E=await yo(localStorage.token))})(),(async()=>{t(5,v=await eu(localStorage.token))})()]);const re=await tu(localStorage.token);t(4,g=re.ENABLE_LDAP)});const T=()=>{Do.set(!0)},w=()=>{m()};function k(){h.DEFAULT_USER_ROLE=Pl(this),t(2,h)}function D(re){l.$$.not_equal(h.ENABLE_SIGNUP,re)&&(h.ENABLE_SIGNUP=re,t(2,h))}function $(re){l.$$.not_equal(h.SHOW_ADMIN_DETAILS,re)&&(h.SHOW_ADMIN_DETAILS=re,t(2,h))}function O(re){l.$$.not_equal(h.ENABLE_API_KEY,re)&&(h.ENABLE_API_KEY=re,t(2,h))}function P(re){l.$$.not_equal(h.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,re)&&(h.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS=re,t(2,h))}function M(){h.API_KEY_ALLOWED_ENDPOINTS=this.value,t(2,h)}function N(){h.JWT_EXPIRES_IN=this.value,t(2,h)}function V(re){g=re,t(4,g)}const S=async()=>{su(localStorage.token,g)};function q(){v.label=this.value,t(5,v)}function Y(){v.host=this.value,t(5,v)}function L(){v.port=Kl(this.value),t(5,v)}function U(){v.app_dn=this.value,t(5,v)}function B(re){l.$$.not_equal(v.app_dn_password,re)&&(v.app_dn_password=re,t(5,v))}function j(){v.attribute_for_mail=this.value,t(5,v)}function F(){v.attribute_for_username=this.value,t(5,v)}function J(){v.search_base=this.value,t(5,v)}function X(){v.search_filters=this.value,t(5,v)}function ne(re){l.$$.not_equal(v.use_tls,re)&&(v.use_tls=re,t(5,v))}function ie(){v.certificate_path=this.value,t(5,v)}function ae(){v.ciphers=this.value,t(5,v)}function Q(re){l.$$.not_equal(h.ENABLE_COMMUNITY_SHARING,re)&&(h.ENABLE_COMMUNITY_SHARING=re,t(2,h))}function Z(re){l.$$.not_equal(h.ENABLE_MESSAGE_RATING,re)&&(h.ENABLE_MESSAGE_RATING=re,t(2,h))}function te(re){l.$$.not_equal(h.ENABLE_CHANNELS,re)&&(h.ENABLE_CHANNELS=re,t(2,h))}function ee(){h.WEBUI_URL=this.value,t(2,h)}function z(){E=this.value,t(3,E)}const be=async()=>{I()};return l.$$set=re=>{"saveHandler"in re&&t(11,n=re.saveHandler)},[u,f,h,E,g,v,s,a,i,m,I,n,T,w,k,D,$,O,P,M,N,V,S,q,Y,L,U,B,j,F,J,X,ne,ie,ae,Q,Z,te,ee,z,be]}class af extends $l{constructor(e){super(),Vl(this,e,sf,lf,yl,{saveHandler:11},null,[-1,-1])}}function Ur(l,e,t){const s=l.slice();return s[36]=e[t],s[37]=e,s[38]=t,s}function Br(l,e,t){const s=l.slice();return s[39]=e[t],s}function Hr(l,e,t){const s=l.slice();return s[42]=e[t],s[38]=t,s}function Gr(l,e,t){const s=l.slice();return s[10]=e[t],s[38]=t,s}function rf(l){let e,t,s,a;return s=new Cs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),_e(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var n=p(e);t=_(n,"DIV",{class:!0});var u=p(t);he(s.$$.fragment,u),u.forEach(c),n.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center h-full")},m(i,n){H(i,e,n),r(e,t),pe(s,t,null),a=!0},p:gt,i(i){a||(G(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&c(e),ve(s)}}}function nf(l){let e,t,s=l[9].t("Manage Pipelines")+"",a,i,n,u,f,h;const E=[uf,of],g=[];function v(m,b){return m[3].length>0?0:1}return n=v(l),u=g[n]=E[n](l),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),u.c(),f=rl(),this.h()},l(m){e=_(m,"DIV",{class:!0});var b=p(e);t=_(b,"DIV",{class:!0});var I=p(t);a=C(I,s),I.forEach(c),b.forEach(c),i=y(m),u.l(m),f=rl(),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2")},m(m,b){H(m,e,b),r(e,t),r(t,a),H(m,i,b),g[n].m(m,b),H(m,f,b),h=!0},p(m,b){(!h||b[0]&512)&&s!==(s=m[9].t("Manage Pipelines")+"")&&K(a,s);let I=n;n=v(m),n===I?g[n].p(m,b):(wt(),W(g[I],1,1,()=>{g[I]=null}),kt(),u=g[n],u?u.p(m,b):(u=g[n]=E[n](m),u.c()),G(u,1),u.m(f.parentNode,f))},i(m){h||(G(u),h=!0)},o(m){W(u),h=!1},d(m){m&&(c(e),c(i),c(f)),g[n].d(m)}}}function of(l){let e,t=l[9].t("Pipelines Not Detected")+"",s;return{c(){e=d("div"),s=R(t)},l(a){e=_(a,"DIV",{});var i=p(e);s=C(i,t),i.forEach(c)},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&K(s,t)},i:gt,o:gt,d(a){a&&c(e)}}}function uf(l){let e,t,s,a,i,n=l[9].t("Select a pipeline url")+"",u,f,h,E,g,v=l[9].t("Upload Pipeline")+"",m,b,I,T,w,k,D,$,O,P,M,N,V=l[9].t("Install from Github URL")+"",S,q,Y,L,U,B,j,F,J,X,ne=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution 
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,ie,ae,Q,Z,te,ee,z,be,re,ue=Vt(l[3]),oe=[];for(let le=0;le<ue.length;le+=1)oe[le]=jr(Gr(l,ue,le));function Te(le,de){return le[2]?cf:ff}let ge=Te(l),me=ge(l);function De(le,de){return le[1]?_f:df}let Se=De(l),ke=Se(l);function we(le,de){return le[0]?pf:hf}let Ae=we(l),x=Ae(l);const ce=[mf,vf],Be=[];function Ce(le,de){return le[10]!==null?0:1}return Z=Ce(l),te=Be[Z]=ce[Z](l),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("select"),i=d("option"),u=R(n);for(let le=0;le<oe.length;le+=1)oe[le].c();h=A(),E=d("div"),g=d("div"),m=R(v),b=A(),I=d("div"),T=d("div"),w=d("input"),k=A(),D=d("button"),me.c(),$=A(),O=d("button"),ke.c(),P=A(),M=d("div"),N=d("div"),S=R(V),q=A(),Y=d("div"),L=d("div"),U=d("input"),j=A(),F=d("button"),x.c(),J=A(),X=d("div"),X.innerHTML=ne,ie=A(),ae=d("hr"),Q=A(),te.c(),ee=rl(),this.h()},l(le){e=_(le,"DIV",{class:!0});var de=p(e);t=_(de,"DIV",{class:!0});var $e=p(t);s=_($e,"DIV",{class:!0});var Ne=p(s);a=_(Ne,"SELECT",{class:!0,placeholder:!0});var Oe=p(a);i=_(Oe,"OPTION",{class:!0});var He=p(i);u=C(He,n),He.forEach(c);for(let Ve=0;Ve<oe.length;Ve+=1)oe[Ve].l(Oe);Oe.forEach(c),Ne.forEach(c),$e.forEach(c),de.forEach(c),h=y(le),E=_(le,"DIV",{class:!0});var We=p(E);g=_(We,"DIV",{class:!0});var Ze=p(g);m=C(Ze,v),Ze.forEach(c),b=y(We),I=_(We,"DIV",{class:!0});var je=p(I);T=_(je,"DIV",{class:!0});var Ie=p(T);w=_(Ie,"INPUT",{id:!0,type:!0,accept:!0}),k=y(Ie),D=_(Ie,"BUTTON",{class:!0,type:!0});var ye=p(D);me.l(ye),ye.forEach(c),Ie.forEach(c),$=y(je),O=_(je,"BUTTON",{class:!0,type:!0});var ht=p(O);ke.l(ht),ht.forEach(c),je.forEach(c),We.forEach(c),P=y(le),M=_(le,"DIV",{class:!0});var Je=p(M);N=_(Je,"DIV",{class:!0});var pt=p(N);S=C(pt,V),pt.forEach(c),q=y(Je),Y=_(Je,"DIV",{class:!0});var ze=p(Y);L=_(ze,"DIV",{class:!0});var ot=p(L);U=_(ot,"INPUT",{class:!0,placeholder:!0}),ot.forEach(c),j=y(ze),F=_(ze,"BUTTON",{class:!0,type:!0});var bt=p(F);x.l(bt),bt.forEach(c),ze.forEach(c),J=y(Je),X=_(Je,"DIV",{class:!0,"data-svelte-h":!0}),Qt(X)!=="svelte-ob7r3n"&&(X.innerHTML=ne),Je.forEach(c),ie=y(le),ae=_(le,"HR",{class:!0}),Q=y(le),te.l(le),ee=rl(),this.h()},h(){i.__value="",se(i,i.__value),i.selected=!0,i.disabled=!0,o(i,"class","bg-gray-100 dark:bg-gray-700"),o(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(a,"placeholder",f=l[9].t("Select a pipeline url")),l[4]===void 0&&Sl(()=>l[19].call(a)),o(s,"class","flex-1"),o(t,"class","flex gap-2"),o(e,"class","space-y-1"),o(g,"class","mb-2 text-sm font-medium"),o(w,"id","pipelines-upload-input"),o(w,"type","file"),o(w,"accept",".py"),w.hidden=!0,o(D,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),o(D,"type","button"),o(T,"class","flex-1 mr-2"),o(O,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),O.disabled=l[1],o(O,"type","button"),o(I,"class","flex w-full"),o(E,"class","my-2"),o(N,"class","mb-2 text-sm font-medium"),o(U,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(U,"placeholder",B=l[9].t("Enter Github Raw URL")),o(L,"class","flex-1 mr-2"),o(F,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),F.disabled=l[0],o(F,"type","button"),o(Y,"class","flex w-full"),o(X,"class","mt-2 text-xs text-gray-500"),o(M,"class","my-2"),o(ae,"class","border-gray-100 dark:border-gray-850 my-3 w-full")},m(le,de){H(le,e,de),r(e,t),r(t,s),r(s,a),r(a,i),r(i,u);for(let $e=0;$e<oe.length;$e+=1)oe[$e]&&oe[$e].m(a,null);xt(a,l[4],!0),H(le,h,de),H(le,E,de),r(E,g),r(g,m),r(E,b),r(E,I),r(I,T),r(T,w),r(T,k),r(T,D),me.m(D,null),r(I,$),r(I,O),ke.m(O,null),H(le,P,de),H(le,M,de),r(M,N),r(N,S),r(M,q),r(M,Y),r(Y,L),r(L,U),se(U,l[8]),r(Y,j),r(Y,F),x.m(F,null),r(M,J),r(M,X),H(le,ie,de),H(le,ae,de),H(le,Q,de),Be[Z].m(le,de),H(le,ee,de),z=!0,be||(re=[fe(a,"change",l[19]),fe(a,"change",l[20]),fe(w,"change",l[21]),fe(D,"click",l[22]),fe(O,"click",l[23]),fe(U,"input",l[24]),fe(F,"click",l[25])],be=!0)},p(le,de){if((!z||de[0]&512)&&n!==(n=le[9].t("Select a pipeline url")+"")&&K(u,n),de[0]&8){ue=Vt(le[3]);let Ne;for(Ne=0;Ne<ue.length;Ne+=1){const Oe=Gr(le,ue,Ne);oe[Ne]?oe[Ne].p(Oe,de):(oe[Ne]=jr(Oe),oe[Ne].c(),oe[Ne].m(a,null))}for(;Ne<oe.length;Ne+=1)oe[Ne].d(1);oe.length=ue.length}(!z||de[0]&512&&f!==(f=le[9].t("Select a pipeline url")))&&o(a,"placeholder",f),de[0]&24&&xt(a,le[4]),(!z||de[0]&512)&&v!==(v=le[9].t("Upload Pipeline")+"")&&K(m,v),ge===(ge=Te(le))&&me?me.p(le,de):(me.d(1),me=ge(le),me&&(me.c(),me.m(D,null))),Se!==(Se=De(le))&&(ke.d(1),ke=Se(le),ke&&(ke.c(),ke.m(O,null))),(!z||de[0]&2)&&(O.disabled=le[1]),(!z||de[0]&512)&&V!==(V=le[9].t("Install from Github URL")+"")&&K(S,V),(!z||de[0]&512&&B!==(B=le[9].t("Enter Github Raw URL")))&&o(U,"placeholder",B),de[0]&256&&U.value!==le[8]&&se(U,le[8]),Ae!==(Ae=we(le))&&(x.d(1),x=Ae(le),x&&(x.c(),x.m(F,null))),(!z||de[0]&1)&&(F.disabled=le[0]);let $e=Z;Z=Ce(le),Z===$e?Be[Z].p(le,de):(wt(),W(Be[$e],1,1,()=>{Be[$e]=null}),kt(),te=Be[Z],te?te.p(le,de):(te=Be[Z]=ce[Z](le),te.c()),G(te,1),te.m(ee.parentNode,ee))},i(le){z||(G(te),z=!0)},o(le){W(te),z=!1},d(le){le&&(c(e),c(h),c(E),c(P),c(M),c(ie),c(ae),c(Q),c(ee)),wl(oe,le),me.d(),ke.d(),x.d(),Be[Z].d(le),be=!1,gl(re)}}}function jr(l){let e,t=l[10].url+"",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[10].idx.toString(),se(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&8&&t!==(t=i[10].url+"")&&K(s,t),n[0]&8&&a!==(a=i[10].idx.toString())&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function ff(l){let e=l[9].t("Click here to select a py file.")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&512&&e!==(e=s[9].t("Click here to select a py file.")+"")&&K(t,e)},d(s){s&&c(t)}}}function cf(l){let e=l[2].length>0?`${l[2].length}`:"",t,s;return{c(){t=R(e),s=R(" pipeline(s) selected.")},l(a){t=C(a,e),s=C(a," pipeline(s) selected.")},m(a,i){H(a,t,i),H(a,s,i)},p(a,i){i[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&K(t,e)},d(a){a&&(c(t),c(s))}}}function df(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{d:!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(a,i){H(a,e,i),r(e,t),r(e,s)},d(a){a&&c(e)}}}function _f(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function hf(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{d:!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){H(a,e,i),r(e,t),r(e,s)},d(a){a&&c(e)}}}function pf(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function vf(l){let e,t,s,a;return s=new Cs({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),_e(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var n=p(e);t=_(n,"DIV",{class:!0});var u=p(t);he(s.$$.fragment,u),u.forEach(c),n.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center")},m(i,n){H(i,e,n),r(e,t),pe(s,t,null),a=!0},p:gt,i(i){a||(G(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&c(e),ve(s)}}}function mf(l){let e,t,s,a;const i=[Ef,gf],n=[];function u(f,h){return f[10].length>0?0:f[10].length===0?1:-1}return~(e=u(l))&&(t=n[e]=i[e](l)),{c(){t&&t.c(),s=rl()},l(f){t&&t.l(f),s=rl()},m(f,h){~e&&n[e].m(f,h),H(f,s,h),a=!0},p(f,h){let E=e;e=u(f),e===E?~e&&n[e].p(f,h):(t&&(wt(),W(n[E],1,1,()=>{n[E]=null}),kt()),~e?(t=n[e],t?t.p(f,h):(t=n[e]=i[e](f),t.c()),G(t,1),t.m(s.parentNode,s)):t=null)},i(f){a||(G(t),a=!0)},o(f){W(t),a=!1},d(f){f&&c(s),~e&&n[e].d(f)}}}function gf(l){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(s){e=_(s,"DIV",{"data-svelte-h":!0}),Qt(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(s,a){H(s,e,a)},p:gt,i:gt,o:gt,d(s){s&&c(e)}}}function Ef(l){let e,t,s=l[9].t("Pipelines Valves")+"",a,i,n,u,f,h,E,g,v=l[10].length>0&&Kr(l);const m=[If,bf],b=[];function I(T,w){return T[10][T[7]].valves?0:1}return h=I(l),E=b[h]=m[h](l),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),v&&v.c(),u=A(),f=d("div"),E.c(),this.h()},l(T){e=_(T,"DIV",{class:!0});var w=p(e);t=_(w,"DIV",{class:!0});var k=p(t);a=C(k,s),k.forEach(c),w.forEach(c),i=y(T),n=_(T,"DIV",{class:!0});var D=p(n);v&&v.l(D),u=y(D),f=_(D,"DIV",{class:!0});var $=p(f);E.l($),$.forEach(c),D.forEach(c),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2"),o(f,"class","space-y-1"),o(n,"class","space-y-1")},m(T,w){H(T,e,w),r(e,t),r(t,a),H(T,i,w),H(T,n,w),v&&v.m(n,null),r(n,u),r(n,f),b[h].m(f,null),g=!0},p(T,w){(!g||w[0]&512)&&s!==(s=T[9].t("Pipelines Valves")+"")&&K(a,s),T[10].length>0?v?v.p(T,w):(v=Kr(T),v.c(),v.m(n,u)):v&&(v.d(1),v=null);let k=h;h=I(T),h===k?b[h].p(T,w):(wt(),W(b[k],1,1,()=>{b[k]=null}),kt(),E=b[h],E?E.p(T,w):(E=b[h]=m[h](T),E.c()),G(E,1),E.m(f,null))},i(T){g||(G(E),g=!0)},o(T){W(E),g=!1},d(T){T&&(c(e),c(i),c(n)),v&&v.d(),b[h].d()}}}function Kr(l){let e,t,s,a,i,n,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',f,h,E=Vt(l[10]),g=[];for(let v=0;v<E.length;v+=1)g[v]=Yr(Hr(l,E,v));return{c(){e=d("div"),t=d("div"),s=d("select");for(let v=0;v<g.length;v+=1)g[v].c();i=A(),n=d("button"),n.innerHTML=u,this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);s=_(b,"SELECT",{class:!0,placeholder:!0});var I=p(s);for(let T=0;T<g.length;T+=1)g[T].l(I);I.forEach(c),b.forEach(c),i=y(m),n=_(m,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt(n)!=="svelte-121ij38"&&(n.innerHTML=u),m.forEach(c),this.h()},h(){o(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[9].t("Select a pipeline")),l[7]===void 0&&Sl(()=>l[26].call(s)),o(t,"class","flex-1"),o(n,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(n,"type","button"),o(e,"class","flex gap-2")},m(v,m){H(v,e,m),r(e,t),r(t,s);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(s,null);xt(s,l[7],!0),r(e,i),r(e,n),f||(h=[fe(s,"change",l[26]),fe(s,"change",l[27]),fe(n,"click",l[28])],f=!0)},p(v,m){if(m[0]&1024){E=Vt(v[10]);let b;for(b=0;b<E.length;b+=1){const I=Hr(v,E,b);g[b]?g[b].p(I,m):(g[b]=Yr(I),g[b].c(),g[b].m(s,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=E.length}m[0]&512&&a!==(a=v[9].t("Select a pipeline"))&&o(s,"placeholder",a),m[0]&128&&xt(s,v[7])},d(v){v&&c(e),wl(g,v),f=!1,gl(h)}}}function Yr(l){let e,t=l[42].name+"",s,a,i=(l[42].type??"pipe")+"",n,u;return{c(){e=d("option"),s=R(t),a=R(" ("),n=R(i),u=R(")"),this.h()},l(f){e=_(f,"OPTION",{class:!0});var h=p(e);s=C(h,t),a=C(h," ("),n=C(h,i),u=C(h,")"),h.forEach(c),this.h()},h(){e.__value=l[38],se(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(f,h){H(f,e,h),r(e,s),r(e,a),r(e,n),r(e,u)},p(f,h){h[0]&1024&&t!==(t=f[42].name+"")&&K(s,t),h[0]&1024&&i!==(i=(f[42].type??"pipe")+"")&&K(n,i)},d(f){f&&c(e)}}}function bf(l){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(s){e=_(s,"DIV",{"data-svelte-h":!0}),Qt(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(s,a){H(s,e,a)},p:gt,i:gt,o:gt,d(s){s&&c(e)}}}function If(l){let e,t,s,a;const i=[kf,wf],n=[];function u(f,h){return f[5]?0:1}return e=u(l),t=n[e]=i[e](l),{c(){t.c(),s=rl()},l(f){t.l(f),s=rl()},m(f,h){n[e].m(f,h),H(f,s,h),a=!0},p(f,h){let E=e;e=u(f),e===E?n[e].p(f,h):(wt(),W(n[E],1,1,()=>{n[E]=null}),kt(),t=n[e],t?t.p(f,h):(t=n[e]=i[e](f),t.c()),G(t,1),t.m(s.parentNode,s))},i(f){a||(G(t),a=!0)},o(f){W(t),a=!1},d(f){f&&c(s),n[e].d(f)}}}function wf(l){let e,t;return e=new Cs({props:{className:"size-5"}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function kf(l){let e,t,s=Vt(Object.keys(l[6].properties)),a=[];for(let n=0;n<s.length;n+=1)a[n]=Fr(Ur(l,s,n));const i=n=>W(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=rl()},l(n){for(let u=0;u<a.length;u+=1)a[u].l(n);e=rl()},m(n,u){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(n,u);H(n,e,u),t=!0},p(n,u){if(u[0]&608){s=Vt(Object.keys(n[6].properties));let f;for(f=0;f<s.length;f+=1){const h=Ur(n,s,f);a[f]?(a[f].p(h,u),G(a[f],1)):(a[f]=Fr(h),a[f].c(),G(a[f],1),a[f].m(e.parentNode,e))}for(wt(),f=s.length;f<a.length;f+=1)i(f);kt()}},i(n){if(!t){for(let u=0;u<s.length;u+=1)G(a[u]);t=!0}},o(n){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)W(a[u]);t=!1},d(n){n&&c(e),wl(a,n)}}}function Tf(l){let e,t=l[9].t("Custom")+"",s;return{c(){e=d("span"),s=R(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&512&&t!==(t=a[9].t("Custom")+"")&&K(s,t)},d(a){a&&c(e)}}}function Df(l){let e,t=l[9].t("None")+"",s;return{c(){e=d("span"),s=R(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&512&&t!==(t=a[9].t("None")+"")&&K(s,t)},d(a){a&&c(e)}}}function qr(l){let e,t,s,a,i;const n=[$f,yf,Af],u=[];function f(h,E){var g,v;return((g=h[6].properties[h[36]])==null?void 0:g.enum)??null?0:(((v=h[6].properties[h[36]])==null?void 0:v.type)??null)==="boolean"?1:2}return s=f(l),a=u[s]=n[s](l),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var E=p(e);t=_(E,"DIV",{class:!0});var g=p(t);a.l(g),g.forEach(c),E.forEach(c),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(h,E){H(h,e,E),r(e,t),u[s].m(t,null),i=!0},p(h,E){let g=s;s=f(h),s===g?u[s].p(h,E):(wt(),W(u[g],1,1,()=>{u[g]=null}),kt(),a=u[s],a?a.p(h,E):(a=u[s]=n[s](h),a.c()),G(a,1),a.m(t,null))},i(h){i||(G(a),i=!0)},o(h){W(a),i=!1},d(h){h&&c(e),u[s].d()}}}function Af(l){let e,t,s,a;function i(){l[32].call(e,l[36])}return{c(){e=d("input"),this.h()},l(n){e=_(n,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"type","text"),o(e,"placeholder",t=l[6].properties[l[36]].title),o(e,"autocomplete","off"),e.required=!0},m(n,u){H(n,e,u),se(e,l[5][l[36]]),s||(a=fe(e,"input",i),s=!0)},p(n,u){l=n,u[0]&64&&t!==(t=l[6].properties[l[36]].title)&&o(e,"placeholder",t),u[0]&96&&e.value!==l[5][l[36]]&&se(e,l[5][l[36]])},i:gt,o:gt,d(n){n&&c(e),s=!1,a()}}}function yf(l){let e,t,s=l[5][l[36]]?"Enabled":"Disabled",a,i,n,u,f,h;function E(v){l[31](v,l[36])}let g={};return l[5][l[36]]!==void 0&&(g.state=l[5][l[36]]),u=new pl({props:g}),Xe.push(()=>lt(u,"state",E)),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);a=C(b,s),b.forEach(c),i=y(m),n=_(m,"DIV",{class:!0});var I=p(n);he(u.$$.fragment,I),I.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","text-xs text-gray-500"),o(n,"class","pr-2"),o(e,"class","flex justify-between items-center")},m(v,m){H(v,e,m),r(e,t),r(t,a),r(e,i),r(e,n),pe(u,n,null),h=!0},p(v,m){l=v,(!h||m[0]&96)&&s!==(s=l[5][l[36]]?"Enabled":"Disabled")&&K(a,s);const b={};!f&&m[0]&96&&(f=!0,b.state=l[5][l[36]],tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function $f(l){let e,t,s,a=Vt(l[6].properties[l[36]].enum),i=[];for(let u=0;u<a.length;u+=1)i[u]=Wr(Br(l,a,u));function n(){l[30].call(e,l[36])}return{c(){e=d("select");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=_(u,"SELECT",{class:!0});var f=p(e);for(let h=0;h<i.length;h+=1)i[h].l(f);f.forEach(c),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),l[5][l[36]]===void 0&&Sl(n)},m(u,f){H(u,e,f);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(e,null);xt(e,l[5][l[36]],!0),t||(s=fe(e,"change",n),t=!0)},p(u,f){if(l=u,f[0]&96){a=Vt(l[6].properties[l[36]].enum);let h;for(h=0;h<a.length;h+=1){const E=Br(l,a,h);i[h]?i[h].p(E,f):(i[h]=Wr(E),i[h].c(),i[h].m(e,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=a.length}f[0]&96&&xt(e,l[5][l[36]])},i:gt,o:gt,d(u){u&&c(e),wl(i,u),t=!1,s()}}}function Wr(l){let e,t=l[39]+"",s,a,i,n;return{c(){e=d("option"),s=R(t),a=A(),this.h()},l(u){e=_(u,"OPTION",{});var f=p(e);s=C(f,t),a=y(f),f.forEach(c),this.h()},h(){e.__value=i=l[39],se(e,e.__value),e.selected=n=l[39]===l[5][l[36]]},m(u,f){H(u,e,f),r(e,s),r(e,a)},p(u,f){f[0]&64&&t!==(t=u[39]+"")&&K(s,t),f[0]&64&&i!==(i=u[39])&&(e.__value=i,se(e,e.__value)),f[0]&96&&n!==(n=u[39]===u[5][u[36]])&&(e.selected=n)},d(u){u&&c(e)}}}function Fr(l){let e,t,s,a=l[6].properties[l[36]].title+"",i,n,u,f,h,E,g,v;function m(k,D){return(k[5][k[36]]??null)===null?Df:Tf}let b=m(l),I=b(l);function T(){return l[29](l[36])}let w=(l[5][l[36]]??null)!==null&&qr(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("button"),I.c(),f=A(),w&&w.c(),h=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var D=p(e);t=_(D,"DIV",{class:!0});var $=p(t);s=_($,"DIV",{class:!0});var O=p(s);i=C(O,a),O.forEach(c),n=y($),u=_($,"BUTTON",{class:!0,type:!0});var P=p(u);I.l(P),P.forEach(c),$.forEach(c),f=y(D),w&&w.l(D),h=y(D),D.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium"),o(u,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(u,"type","button"),o(t,"class","flex w-full justify-between"),o(e,"class","py-0.5 w-full justify-between")},m(k,D){H(k,e,D),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),I.m(u,null),r(e,f),w&&w.m(e,null),r(e,h),E=!0,g||(v=fe(u,"click",T),g=!0)},p(k,D){l=k,(!E||D[0]&64)&&a!==(a=l[6].properties[l[36]].title+"")&&K(i,a),b===(b=m(l))&&I?I.p(l,D):(I.d(1),I=b(l),I&&(I.c(),I.m(u,null))),(l[5][l[36]]??null)!==null?w?(w.p(l,D),D[0]&96&&G(w,1)):(w=qr(l),w.c(),G(w,1),w.m(e,h)):w&&(wt(),W(w,1,1,()=>{w=null}),kt())},i(k){E||(G(w),E=!0)},o(k){W(w),E=!1},d(k){k&&c(e),I.d(),w&&w.d(),g=!1,v()}}}function Zr(l){let e,t,s=l[9].t("Save")+"",a;return{c(){e=d("div"),t=d("button"),a=R(s),this.h()},l(i){e=_(i,"DIV",{class:!0});var n=p(e);t=_(n,"BUTTON",{class:!0,type:!0});var u=p(t);a=C(u,s),u.forEach(c),n.forEach(c),this.h()},h(){o(t,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(t,"type","submit"),o(e,"class","flex justify-end pt-3 text-sm font-medium")},m(i,n){H(i,e,n),r(e,t),r(t,a)},p(i,n){n[0]&512&&s!==(s=i[9].t("Save")+"")&&K(a,s)},d(i){i&&c(e)}}}function Vf(l){let e,t,s,a,i,n,u,f;const h=[nf,rf],E=[];function g(m,b){return m[3]!==null?0:1}s=g(l),a=E[s]=h[s](l);let v=l[3]!==null&&l[3].length>0&&Zr(l);return{c(){e=d("form"),t=d("div"),a.c(),i=A(),v&&v.c(),this.h()},l(m){e=_(m,"FORM",{class:!0});var b=p(e);t=_(b,"DIV",{class:!0});var I=p(t);a.l(I),I.forEach(c),i=y(b),v&&v.l(b),b.forEach(c),this.h()},h(){o(t,"class","overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,b){H(m,e,b),r(e,t),E[s].m(t,null),r(e,i),v&&v.m(e,null),n=!0,u||(f=fe(e,"submit",vs(l[33])),u=!0)},p(m,b){let I=s;s=g(m),s===I?E[s].p(m,b):(wt(),W(E[I],1,1,()=>{E[I]=null}),kt(),a=E[s],a?a.p(m,b):(a=E[s]=h[s](m),a.c()),G(a,1),a.m(t,null)),m[3]!==null&&m[3].length>0?v?v.p(m,b):(v=Zr(m),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i(m){n||(G(a),n=!0)},o(m){W(a),n=!1},d(m){m&&c(e),E[s].d(),v&&v.d(),u=!1,f()}}}function Nf(l,e,t){let s,a,i;el(l,Js,Q=>t(34,s=Q)),el(l,ss,Q=>t(35,a=Q));const n=Ml("i18n");el(l,n,Q=>t(9,i=Q));let{saveHandler:u}=e,f=!1,h=!1,E,g=null,v="",m=null,b=null,I=null,T=null,w="";const k=async()=>{var Z,te;const Q=m[T];if(Q&&((Q==null?void 0:Q.valves)??!1)){for(const z in I.properties)((Z=I.properties[z])==null?void 0:Z.type)==="array"&&t(5,b[z]=b[z].split(",").map(be=>be.trim()),b);await Oo(localStorage.token,Q.id,b,v).catch(z=>{et.error(`${z}`)})&&(et.success(i.t("Valves updated successfully")),$(),Ll.set(await Xl(localStorage.token,((te=a==null?void 0:a.features)==null?void 0:te.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),u())}else et.error(i.t("No valves to update"))},D=async Q=>{var Z;t(5,b=null),t(6,I=null),t(6,I=await Po(localStorage.token,m[Q].id,v)),t(5,b=await So(localStorage.token,m[Q].id,v));for(const te in I.properties)((Z=I.properties[te])==null?void 0:Z.type)==="array"&&t(5,b[te]=b[te].join(","),b)},$=async()=>{t(10,m=null),t(5,b=null),t(6,I=null),g.length>0?(console.log(v),t(10,m=await Mo(localStorage.token,v)),m.length>0&&(t(7,T=0),await D(T))):t(10,m=[])},O=async()=>{var Z;t(0,f=!0),await Lo(localStorage.token,w,v).catch(te=>(et.error(`${te}`),null))&&(et.success(i.t("Pipeline downloaded successfully")),$(),Ll.set(await Xl(localStorage.token,((Z=a==null?void 0:a.features)==null?void 0:Z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))),t(0,f=!1)},P=async()=>{var Z;if(t(1,h=!0),E&&E.length!==0){const te=E[0];console.log(te),await Co(localStorage.token,te,v).catch(z=>(console.log(z),et.error("Something went wrong :/"),null))&&(et.success(i.t("Pipeline downloaded successfully")),$(),Ll.set(await Xl(localStorage.token,((Z=a==null?void 0:a.features)==null?void 0:Z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))))}else et.error(i.t("No file selected"));t(2,E=null);const Q=document.getElementById("pipelines-upload-input");Q&&(Q.value=null),t(1,h=!1)},M=async()=>{var Z;await Ro(localStorage.token,m[T].id,v).catch(te=>(et.error(`${te}`),null))&&(et.success(i.t("Pipeline deleted successfully")),$(),Ll.set(await Xl(localStorage.token,((Z=a==null?void 0:a.features)==null?void 0:Z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))))};as(async()=>{t(3,g=await No(localStorage.token)),console.log(g),g.length>0&&t(4,v=g[0].idx.toString()),await $()});function N(){v=Pl(this),t(4,v),t(3,g)}const V=async()=>{await Zs(),await $()};function S(){E=this.files,t(2,E)}const q=()=>{var Q;(Q=document.getElementById("pipelines-upload-input"))==null||Q.click()},Y=()=>{P()};function L(){w=this.value,t(8,w)}const U=()=>{O()};function B(){T=Pl(this),t(7,T)}const j=async()=>{await Zs(),await D(T)},F=()=>{M()},J=Q=>{t(5,b[Q]=(b[Q]??null)===null?"":null,b)};function X(Q){b[Q]=Pl(this),t(5,b),t(6,I)}function ne(Q,Z){l.$$.not_equal(b[Z],Q)&&(b[Z]=Q,t(5,b))}function ie(Q){b[Q]=this.value,t(5,b),t(6,I)}const ae=async()=>{k()};return l.$$set=Q=>{"saveHandler"in Q&&t(18,u=Q.saveHandler)},[f,h,E,g,v,b,I,T,w,i,m,n,k,D,$,O,P,M,u,N,V,S,q,Y,L,U,B,j,F,J,X,ne,ie,ae]}class Of extends $l{constructor(e){super(),Vl(this,e,Nf,Vf,yl,{saveHandler:18},null,[-1,-1])}}function zr(l,e,t){const s=l.slice();return s[53]=e[t],s}function Jr(l,e,t){const s=l.slice();return s[56]=e[t],s}function Xr(l,e,t){const s=l.slice();return s[59]=e[t],s}function Qr(l,e,t){const s=l.slice();return s[56]=e[t],s}function xr(l,e,t){const s=l.slice();return s[59]=e[t],s}function en(l,e,t){const s=l.slice();return s[56]=e[t],s}function tn(l,e,t){const s=l.slice();return s[56]=e[t],s}function Pf(l){let e,t,s=l[18].t("STT Model")+"",a,i,n,u,f,h,E,g,v,m,b=l[18].t("Open WebUI uses faster-whisper internally.")+"",I,T,w,k=l[18].t("Click here to learn more about faster-whisper and see the available models.")+"",D,$,O;function P(V,S){return V[15]?Rf:Lf}let M=P(l),N=M(l);return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("input"),E=A(),g=d("button"),N.c(),v=A(),m=d("div"),I=R(b),T=A(),w=d("a"),D=R(k),this.h()},l(V){e=_(V,"DIV",{});var S=p(e);t=_(S,"DIV",{class:!0});var q=p(t);a=C(q,s),q.forEach(c),i=y(S),n=_(S,"DIV",{class:!0});var Y=p(n);u=_(Y,"DIV",{class:!0});var L=p(u);f=_(L,"INPUT",{class:!0,placeholder:!0}),L.forEach(c),E=y(Y),g=_(Y,"BUTTON",{class:!0});var U=p(g);N.l(U),U.forEach(c),Y.forEach(c),v=y(S),m=_(S,"DIV",{class:!0});var B=p(m);I=C(B,b),T=y(B),w=_(B,"A",{class:!0,href:!0,target:!0});var j=p(w);D=C(j,k),j.forEach(c),B.forEach(c),S.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(f,"placeholder",h=l[18].t("Set whisper model")),o(u,"class","flex-1 mr-2"),o(g,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),g.disabled=l[15],o(n,"class","flex w-full"),o(w,"class","hover:underline dark:text-gray-200 text-gray-800"),o(w,"href","https://github.com/SYSTRAN/faster-whisper"),o(w,"target","_blank"),o(m,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(V,S){H(V,e,S),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),se(f,l[13]),r(n,E),r(n,g),N.m(g,null),r(e,v),r(e,m),r(m,I),r(m,T),r(m,w),r(w,D),$||(O=[fe(f,"input",l[32]),fe(g,"click",l[33])],$=!0)},p(V,S){S[0]&262144&&s!==(s=V[18].t("STT Model")+"")&&K(a,s),S[0]&262144&&h!==(h=V[18].t("Set whisper model"))&&o(f,"placeholder",h),S[0]&8192&&f.value!==V[13]&&se(f,V[13]),M!==(M=P(V))&&(N.d(1),N=M(V),N&&(N.c(),N.m(g,null))),S[0]&32768&&(g.disabled=V[15]),S[0]&262144&&b!==(b=V[18].t("Open WebUI uses faster-whisper internally.")+"")&&K(I,b),S[0]&262144&&k!==(k=V[18].t("Click here to learn more about faster-whisper and see the available models.")+"")&&K(D,k)},i:gt,o:gt,d(V){V&&c(e),N.d(),$=!1,gl(O)}}}function Sf(l){let e,t,s,a,i,n,u,f,h,E=l[18].t("STT Model")+"",g,v,m,b,I,T,w,k=l[18].t("Leave model field empty to use the default model.")+"",D,$,O,P=l[18].t("Click here to see available models.")+"",M,N,V,S;function q(L){l[30](L)}let Y={placeholder:l[18].t("API Key")};return l[14]!==void 0&&(Y.value=l[14]),s=new kl({props:Y}),Xe.push(()=>lt(s,"value",q)),{c(){e=d("div"),t=d("div"),_e(s.$$.fragment),i=A(),n=d("hr"),u=A(),f=d("div"),h=d("div"),g=R(E),v=A(),m=d("div"),b=d("div"),I=d("input"),T=A(),w=d("div"),D=R(k),$=A(),O=d("a"),M=R(P),this.h()},l(L){e=_(L,"DIV",{});var U=p(e);t=_(U,"DIV",{class:!0});var B=p(t);he(s.$$.fragment,B),B.forEach(c),U.forEach(c),i=y(L),n=_(L,"HR",{class:!0}),u=y(L),f=_(L,"DIV",{});var j=p(f);h=_(j,"DIV",{class:!0});var F=p(h);g=C(F,E),F.forEach(c),v=y(j),m=_(j,"DIV",{class:!0});var J=p(m);b=_(J,"DIV",{class:!0});var X=p(b);I=_(X,"INPUT",{class:!0,placeholder:!0}),X.forEach(c),J.forEach(c),T=y(j),w=_(j,"DIV",{class:!0});var ne=p(w);D=C(ne,k),$=y(ne),O=_(ne,"A",{class:!0,href:!0,target:!0});var ie=p(O);M=C(ie,P),ie.forEach(c),ne.forEach(c),j.forEach(c),this.h()},h(){o(t,"class","mt-1 flex gap-2 mb-1"),o(n,"class","border-gray-100 dark:border-gray-850 my-2"),o(h,"class","mb-1.5 text-sm font-medium"),o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(I,"placeholder","Select a model (optional)"),o(b,"class","flex-1"),o(m,"class","flex w-full"),o(O,"class","hover:underline dark:text-gray-200 text-gray-800"),o(O,"href","https://developers.deepgram.com/docs/models"),o(O,"target","_blank"),o(w,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(L,U){H(L,e,U),r(e,t),pe(s,t,null),H(L,i,U),H(L,n,U),H(L,u,U),H(L,f,U),r(f,h),r(h,g),r(f,v),r(f,m),r(m,b),r(b,I),se(I,l[12]),r(f,T),r(f,w),r(w,D),r(w,$),r(w,O),r(O,M),N=!0,V||(S=fe(I,"input",l[31]),V=!0)},p(L,U){const B={};U[0]&262144&&(B.placeholder=L[18].t("API Key")),!a&&U[0]&16384&&(a=!0,B.value=L[14],tt(()=>a=!1)),s.$set(B),(!N||U[0]&262144)&&E!==(E=L[18].t("STT Model")+"")&&K(g,E),U[0]&4096&&I.value!==L[12]&&se(I,L[12]),(!N||U[0]&262144)&&k!==(k=L[18].t("Leave model field empty to use the default model.")+"")&&K(D,k),(!N||U[0]&262144)&&P!==(P=L[18].t("Click here to see available models.")+"")&&K(M,P)},i(L){N||(G(s.$$.fragment,L),N=!0)},o(L){W(s.$$.fragment,L),N=!1},d(L){L&&(c(e),c(i),c(n),c(u),c(f)),ve(s),V=!1,S()}}}function Mf(l){let e,t,s,a,i,n,u,f,h,E,g,v,m=l[18].t("STT Model")+"",b,I,T,w,k,D,$,O,P,M,N;function V(q){l[28](q)}let S={placeholder:l[18].t("API Key")};return l[10]!==void 0&&(S.value=l[10]),n=new kl({props:S}),Xe.push(()=>lt(n,"value",V)),{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),_e(n.$$.fragment),f=A(),h=d("hr"),E=A(),g=d("div"),v=d("div"),b=R(m),I=A(),T=d("div"),w=d("div"),k=d("input"),D=A(),$=d("datalist"),O=d("option"),this.h()},l(q){e=_(q,"DIV",{});var Y=p(e);t=_(Y,"DIV",{class:!0});var L=p(t);s=_(L,"INPUT",{class:!0,placeholder:!0}),i=y(L),he(n.$$.fragment,L),L.forEach(c),Y.forEach(c),f=y(q),h=_(q,"HR",{class:!0}),E=y(q),g=_(q,"DIV",{});var U=p(g);v=_(U,"DIV",{class:!0});var B=p(v);b=C(B,m),B.forEach(c),I=y(U),T=_(U,"DIV",{class:!0});var j=p(T);w=_(j,"DIV",{class:!0});var F=p(w);k=_(F,"INPUT",{list:!0,class:!0,placeholder:!0}),D=y(F),$=_(F,"DATALIST",{id:!0});var J=p($);O=_(J,"OPTION",{}),p(O).forEach(c),J.forEach(c),F.forEach(c),j.forEach(c),U.forEach(c),this.h()},h(){o(s,"class","flex-1 w-full bg-transparent outline-hidden"),o(s,"placeholder",a=l[18].t("API Base URL")),s.required=!0,o(t,"class","mt-1 flex gap-2 mb-1"),o(h,"class","border-gray-100 dark:border-gray-850 my-2"),o(v,"class","mb-1.5 text-sm font-medium"),o(k,"list","model-list"),o(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(k,"placeholder","Select a model"),O.__value="whisper-1",se(O,O.__value),o($,"id","model-list"),o(w,"class","flex-1"),o(T,"class","flex w-full")},m(q,Y){H(q,e,Y),r(e,t),r(t,s),se(s,l[9]),r(t,i),pe(n,t,null),H(q,f,Y),H(q,h,Y),H(q,E,Y),H(q,g,Y),r(g,v),r(v,b),r(g,I),r(g,T),r(T,w),r(w,k),se(k,l[12]),r(w,D),r(w,$),r($,O),P=!0,M||(N=[fe(s,"input",l[27]),fe(k,"input",l[29])],M=!0)},p(q,Y){(!P||Y[0]&262144&&a!==(a=q[18].t("API Base URL")))&&o(s,"placeholder",a),Y[0]&512&&s.value!==q[9]&&se(s,q[9]);const L={};Y[0]&262144&&(L.placeholder=q[18].t("API Key")),!u&&Y[0]&1024&&(u=!0,L.value=q[10],tt(()=>u=!1)),n.$set(L),(!P||Y[0]&262144)&&m!==(m=q[18].t("STT Model")+"")&&K(b,m),Y[0]&4096&&k.value!==q[12]&&se(k,q[12])},i(q){P||(G(n.$$.fragment,q),P=!0)},o(q){W(n.$$.fragment,q),P=!1},d(q){q&&(c(e),c(f),c(h),c(E),c(g)),ve(n),M=!1,gl(N)}}}function Lf(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{d:!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){H(a,e,i),r(e,t),r(e,s)},d(a){a&&c(e)}}}function Rf(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-1rv6pho"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function Cf(l){let e,t,s,a,i,n,u,f,h;return{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),n=d("input"),this.h()},l(E){e=_(E,"DIV",{});var g=p(e);t=_(g,"DIV",{class:!0});var v=p(t);s=_(v,"INPUT",{class:!0,placeholder:!0}),i=y(v),n=_(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(c),g.forEach(c),this.h()},h(){o(s,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[18].t("API Key")),s.required=!0,o(n,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(n,"placeholder",u=l[18].t("Azure Region")),n.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(E,g){H(E,e,g),r(e,t),r(t,s),se(s,l[2]),r(t,i),r(t,n),se(n,l[7]),f||(h=[fe(s,"input",l[39]),fe(n,"input",l[40])],f=!0)},p(E,g){g[0]&262144&&a!==(a=E[18].t("API Key"))&&o(s,"placeholder",a),g[0]&4&&s.value!==E[2]&&se(s,E[2]),g[0]&262144&&u!==(u=E[18].t("Azure Region"))&&o(n,"placeholder",u),g[0]&128&&n.value!==E[7]&&se(n,E[7])},i:gt,o:gt,d(E){E&&c(e),f=!1,gl(h)}}}function Uf(l){let e,t,s,a,i,n;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(u){e=_(u,"DIV",{});var f=p(e);t=_(f,"DIV",{class:!0});var h=p(t);s=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),f.forEach(c),this.h()},h(){o(s,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[18].t("API Key")),s.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(u,f){H(u,e,f),r(e,t),r(t,s),se(s,l[2]),i||(n=fe(s,"input",l[38]),i=!0)},p(u,f){f[0]&262144&&a!==(a=u[18].t("API Key"))&&o(s,"placeholder",a),f[0]&4&&s.value!==u[2]&&se(s,u[2])},i:gt,o:gt,d(u){u&&c(e),i=!1,n()}}}function Bf(l){let e,t,s,a,i,n,u,f,h,E;function g(m){l[37](m)}let v={placeholder:l[18].t("API Key")};return l[1]!==void 0&&(v.value=l[1]),n=new kl({props:v}),Xe.push(()=>lt(n,"value",g)),{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),_e(n.$$.fragment),this.h()},l(m){e=_(m,"DIV",{});var b=p(e);t=_(b,"DIV",{class:!0});var I=p(t);s=_(I,"INPUT",{class:!0,placeholder:!0}),i=y(I),he(n.$$.fragment,I),I.forEach(c),b.forEach(c),this.h()},h(){o(s,"class","flex-1 w-full bg-transparent outline-hidden"),o(s,"placeholder",a=l[18].t("API Base URL")),s.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(m,b){H(m,e,b),r(e,t),r(t,s),se(s,l[0]),r(t,i),pe(n,t,null),f=!0,h||(E=fe(s,"input",l[36]),h=!0)},p(m,b){(!f||b[0]&262144&&a!==(a=m[18].t("API Base URL")))&&o(s,"placeholder",a),b[0]&1&&s.value!==m[0]&&se(s,m[0]);const I={};b[0]&262144&&(I.placeholder=m[18].t("API Key")),!u&&b[0]&2&&(u=!0,I.value=m[1],tt(()=>u=!1)),n.$set(I)},i(m){f||(G(n.$$.fragment,m),f=!0)},o(m){W(n.$$.fragment,m),f=!1},d(m){m&&c(e),ve(n),h=!1,E()}}}function Hf(l){let e,t,s,a=l[18].t("TTS Voice")+"",i,n,u,f,h,E,g,v,m,b,I=l[18].t("Output format")+"",T,w,k,D,$=l[18].t("Available list")+"",O,P,M,N,V,S,q,Y=Vt(l[16]),L=[];for(let U=0;U<Y.length;U+=1)L[U]=ln(Jr(l,Y,U));return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=d("div"),h=d("input"),E=A(),g=d("datalist");for(let U=0;U<L.length;U+=1)L[U].c();v=A(),m=d("div"),b=d("div"),T=R(I),w=A(),k=d("a"),D=d("small"),O=R($),P=A(),M=d("div"),N=d("div"),V=d("input"),this.h()},l(U){e=_(U,"DIV",{class:!0});var B=p(e);t=_(B,"DIV",{class:!0});var j=p(t);s=_(j,"DIV",{class:!0});var F=p(s);i=C(F,a),F.forEach(c),n=y(j),u=_(j,"DIV",{class:!0});var J=p(u);f=_(J,"DIV",{class:!0});var X=p(f);h=_(X,"INPUT",{list:!0,class:!0,placeholder:!0}),E=y(X),g=_(X,"DATALIST",{id:!0});var ne=p(g);for(let z=0;z<L.length;z+=1)L[z].l(ne);ne.forEach(c),X.forEach(c),J.forEach(c),j.forEach(c),v=y(B),m=_(B,"DIV",{class:!0});var ie=p(m);b=_(ie,"DIV",{class:!0});var ae=p(b);T=C(ae,I),w=y(ae),k=_(ae,"A",{href:!0,target:!0});var Q=p(k);D=_(Q,"SMALL",{});var Z=p(D);O=C(Z,$),Z.forEach(c),Q.forEach(c),ae.forEach(c),P=y(ie),M=_(ie,"DIV",{class:!0});var te=p(M);N=_(te,"DIV",{class:!0});var ee=p(N);V=_(ee,"INPUT",{list:!0,class:!0,placeholder:!0}),ee.forEach(c),te.forEach(c),ie.forEach(c),B.forEach(c),this.h()},h(){o(s,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(h,"placeholder","Select a voice"),o(g,"id","voice-list"),o(f,"class","flex-1"),o(u,"class","flex w-full"),o(t,"class","w-full"),o(k,"href","https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs"),o(k,"target","_blank"),o(b,"class","mb-1.5 text-sm font-medium"),o(V,"list","tts-model-list"),o(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(V,"placeholder","Select a output format"),o(N,"class","flex-1"),o(M,"class","flex w-full"),o(m,"class","w-full"),o(e,"class","flex gap-2")},m(U,B){H(U,e,B),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(u,f),r(f,h),se(h,l[5]),r(f,E),r(f,g);for(let j=0;j<L.length;j+=1)L[j]&&L[j].m(g,null);r(e,v),r(e,m),r(m,b),r(b,T),r(b,w),r(b,k),r(k,D),r(D,O),r(m,P),r(m,M),r(M,N),r(N,V),se(V,l[8]),S||(q=[fe(h,"input",l[47]),fe(V,"input",l[48])],S=!0)},p(U,B){if(B[0]&262144&&a!==(a=U[18].t("TTS Voice")+"")&&K(i,a),B[0]&65568&&h.value!==U[5]&&se(h,U[5]),B[0]&65536){Y=Vt(U[16]);let j;for(j=0;j<Y.length;j+=1){const F=Jr(U,Y,j);L[j]?L[j].p(F,B):(L[j]=ln(F),L[j].c(),L[j].m(g,null))}for(;j<L.length;j+=1)L[j].d(1);L.length=Y.length}B[0]&262144&&I!==(I=U[18].t("Output format")+"")&&K(T,I),B[0]&262144&&$!==($=U[18].t("Available list")+"")&&K(O,$),B[0]&256&&V.value!==U[8]&&se(V,U[8])},d(U){U&&c(e),wl(L,U),S=!1,gl(q)}}}function Gf(l){let e,t,s,a=l[18].t("TTS Voice")+"",i,n,u,f,h,E,g,v,m,b,I=l[18].t("TTS Model")+"",T,w,k,D,$,O,P,M,N,V=Vt(l[16]),S=[];for(let L=0;L<V.length;L+=1)S[L]=sn(Qr(l,V,L));let q=Vt(l[17]),Y=[];for(let L=0;L<q.length;L+=1)Y[L]=an(Xr(l,q,L));return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=d("div"),h=d("input"),E=A(),g=d("datalist");for(let L=0;L<S.length;L+=1)S[L].c();v=A(),m=d("div"),b=d("div"),T=R(I),w=A(),k=d("div"),D=d("div"),$=d("input"),O=A(),P=d("datalist");for(let L=0;L<Y.length;L+=1)Y[L].c();this.h()},l(L){e=_(L,"DIV",{class:!0});var U=p(e);t=_(U,"DIV",{class:!0});var B=p(t);s=_(B,"DIV",{class:!0});var j=p(s);i=C(j,a),j.forEach(c),n=y(B),u=_(B,"DIV",{class:!0});var F=p(u);f=_(F,"DIV",{class:!0});var J=p(f);h=_(J,"INPUT",{list:!0,class:!0,placeholder:!0}),E=y(J),g=_(J,"DATALIST",{id:!0});var X=p(g);for(let te=0;te<S.length;te+=1)S[te].l(X);X.forEach(c),J.forEach(c),F.forEach(c),B.forEach(c),v=y(U),m=_(U,"DIV",{class:!0});var ne=p(m);b=_(ne,"DIV",{class:!0});var ie=p(b);T=C(ie,I),ie.forEach(c),w=y(ne),k=_(ne,"DIV",{class:!0});var ae=p(k);D=_(ae,"DIV",{class:!0});var Q=p(D);$=_(Q,"INPUT",{list:!0,class:!0,placeholder:!0}),O=y(Q),P=_(Q,"DATALIST",{id:!0});var Z=p(P);for(let te=0;te<Y.length;te+=1)Y[te].l(Z);Z.forEach(c),Q.forEach(c),ae.forEach(c),ne.forEach(c),U.forEach(c),this.h()},h(){o(s,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(h,"placeholder","Select a voice"),o(g,"id","voice-list"),o(f,"class","flex-1"),o(u,"class","flex w-full"),o(t,"class","w-full"),o(b,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o($,"placeholder","Select a model"),o(P,"id","tts-model-list"),o(D,"class","flex-1"),o(k,"class","flex w-full"),o(m,"class","w-full"),o(e,"class","flex gap-2")},m(L,U){H(L,e,U),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(u,f),r(f,h),se(h,l[5]),r(f,E),r(f,g);for(let B=0;B<S.length;B+=1)S[B]&&S[B].m(g,null);r(e,v),r(e,m),r(m,b),r(b,T),r(m,w),r(m,k),r(k,D),r(D,$),se($,l[4]),r(D,O),r(D,P);for(let B=0;B<Y.length;B+=1)Y[B]&&Y[B].m(P,null);M||(N=[fe(h,"input",l[45]),fe($,"input",l[46])],M=!0)},p(L,U){if(U[0]&262144&&a!==(a=L[18].t("TTS Voice")+"")&&K(i,a),U[0]&65568&&h.value!==L[5]&&se(h,L[5]),U[0]&65536){V=Vt(L[16]);let B;for(B=0;B<V.length;B+=1){const j=Qr(L,V,B);S[B]?S[B].p(j,U):(S[B]=sn(j),S[B].c(),S[B].m(g,null))}for(;B<S.length;B+=1)S[B].d(1);S.length=V.length}if(U[0]&262144&&I!==(I=L[18].t("TTS Model")+"")&&K(T,I),U[0]&16&&$.value!==L[4]&&se($,L[4]),U[0]&131072){q=Vt(L[17]);let B;for(B=0;B<q.length;B+=1){const j=Xr(L,q,B);Y[B]?Y[B].p(j,U):(Y[B]=an(j),Y[B].c(),Y[B].m(P,null))}for(;B<Y.length;B+=1)Y[B].d(1);Y.length=q.length}},d(L){L&&c(e),wl(S,L),wl(Y,L),M=!1,gl(N)}}}function jf(l){let e,t,s,a=l[18].t("TTS Voice")+"",i,n,u,f,h,E,g,v,m,b,I=l[18].t("TTS Model")+"",T,w,k,D,$,O,P,M,N,V=Vt(l[16]),S=[];for(let L=0;L<V.length;L+=1)S[L]=rn(en(l,V,L));let q=Vt(l[17]),Y=[];for(let L=0;L<q.length;L+=1)Y[L]=nn(xr(l,q,L));return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=d("div"),h=d("input"),E=A(),g=d("datalist");for(let L=0;L<S.length;L+=1)S[L].c();v=A(),m=d("div"),b=d("div"),T=R(I),w=A(),k=d("div"),D=d("div"),$=d("input"),O=A(),P=d("datalist");for(let L=0;L<Y.length;L+=1)Y[L].c();this.h()},l(L){e=_(L,"DIV",{class:!0});var U=p(e);t=_(U,"DIV",{class:!0});var B=p(t);s=_(B,"DIV",{class:!0});var j=p(s);i=C(j,a),j.forEach(c),n=y(B),u=_(B,"DIV",{class:!0});var F=p(u);f=_(F,"DIV",{class:!0});var J=p(f);h=_(J,"INPUT",{list:!0,class:!0,placeholder:!0}),E=y(J),g=_(J,"DATALIST",{id:!0});var X=p(g);for(let te=0;te<S.length;te+=1)S[te].l(X);X.forEach(c),J.forEach(c),F.forEach(c),B.forEach(c),v=y(U),m=_(U,"DIV",{class:!0});var ne=p(m);b=_(ne,"DIV",{class:!0});var ie=p(b);T=C(ie,I),ie.forEach(c),w=y(ne),k=_(ne,"DIV",{class:!0});var ae=p(k);D=_(ae,"DIV",{class:!0});var Q=p(D);$=_(Q,"INPUT",{list:!0,class:!0,placeholder:!0}),O=y(Q),P=_(Q,"DATALIST",{id:!0});var Z=p(P);for(let te=0;te<Y.length;te+=1)Y[te].l(Z);Z.forEach(c),Q.forEach(c),ae.forEach(c),ne.forEach(c),U.forEach(c),this.h()},h(){o(s,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(h,"placeholder","Select a voice"),o(g,"id","voice-list"),o(f,"class","flex-1"),o(u,"class","flex w-full"),o(t,"class","w-full"),o(b,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o($,"placeholder","Select a model"),o(P,"id","tts-model-list"),o(D,"class","flex-1"),o(k,"class","flex w-full"),o(m,"class","w-full"),o(e,"class","flex gap-2")},m(L,U){H(L,e,U),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(u,f),r(f,h),se(h,l[5]),r(f,E),r(f,g);for(let B=0;B<S.length;B+=1)S[B]&&S[B].m(g,null);r(e,v),r(e,m),r(m,b),r(b,T),r(m,w),r(m,k),r(k,D),r(D,$),se($,l[4]),r(D,O),r(D,P);for(let B=0;B<Y.length;B+=1)Y[B]&&Y[B].m(P,null);M||(N=[fe(h,"input",l[43]),fe($,"input",l[44])],M=!0)},p(L,U){if(U[0]&262144&&a!==(a=L[18].t("TTS Voice")+"")&&K(i,a),U[0]&65568&&h.value!==L[5]&&se(h,L[5]),U[0]&65536){V=Vt(L[16]);let B;for(B=0;B<V.length;B+=1){const j=en(L,V,B);S[B]?S[B].p(j,U):(S[B]=rn(j),S[B].c(),S[B].m(g,null))}for(;B<S.length;B+=1)S[B].d(1);S.length=V.length}if(U[0]&262144&&I!==(I=L[18].t("TTS Model")+"")&&K(T,I),U[0]&16&&$.value!==L[4]&&se($,L[4]),U[0]&131072){q=Vt(L[17]);let B;for(B=0;B<q.length;B+=1){const j=xr(L,q,B);Y[B]?Y[B].p(j,U):(Y[B]=nn(j),Y[B].c(),Y[B].m(P,null))}for(;B<Y.length;B+=1)Y[B].d(1);Y.length=q.length}},d(L){L&&c(e),wl(S,L),wl(Y,L),M=!1,gl(N)}}}function Kf(l){let e,t,s=l[18].t("TTS Model")+"",a,i,n,u,f,h,E,g,v,m,b=l[18].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"",I,T,w,k=l[18].t("click here",{name:"SpeechT5"})+"",D,$,O,P,M=l[18].t("click here")+"",N,V,S,q;return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("input"),h=A(),E=d("datalist"),g=d("option"),v=A(),m=d("div"),I=R(b),T=R(`

							To learn more about SpeechT5,

							`),w=d("a"),D=R(k),$=R("."),O=R(`
							To see the available CMU Arctic speaker embeddings,
							`),P=d("a"),N=R(M),V=R("."),this.h()},l(Y){e=_(Y,"DIV",{});var L=p(e);t=_(L,"DIV",{class:!0});var U=p(t);a=C(U,s),U.forEach(c),i=y(L),n=_(L,"DIV",{class:!0});var B=p(n);u=_(B,"DIV",{class:!0});var j=p(u);f=_(j,"INPUT",{list:!0,class:!0,placeholder:!0}),h=y(j),E=_(j,"DATALIST",{id:!0});var F=p(E);g=_(F,"OPTION",{}),p(g).forEach(c),F.forEach(c),j.forEach(c),B.forEach(c),v=y(L),m=_(L,"DIV",{class:!0});var J=p(m);I=C(J,b),T=C(J,`

							To learn more about SpeechT5,

							`),w=_(J,"A",{class:!0,href:!0,target:!0});var X=p(w);D=C(X,k),$=C(X,"."),X.forEach(c),O=C(J,`
							To see the available CMU Arctic speaker embeddings,
							`),P=_(J,"A",{class:!0,href:!0,target:!0});var ne=p(P);N=C(ne,M),V=C(ne,"."),ne.forEach(c),J.forEach(c),L.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(f,"list","model-list"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(f,"placeholder","CMU ARCTIC speaker embedding name"),g.__value="tts-1",se(g,g.__value),o(E,"id","model-list"),o(u,"class","flex-1"),o(n,"class","flex w-full"),o(w,"class","hover:underline dark:text-gray-200 text-gray-800"),o(w,"href","https://github.com/microsoft/SpeechT5"),o(w,"target","_blank"),o(P,"class","hover:underline dark:text-gray-200 text-gray-800"),o(P,"href","https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors"),o(P,"target","_blank"),o(m,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(Y,L){H(Y,e,L),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),se(f,l[4]),r(u,h),r(u,E),r(E,g),r(e,v),r(e,m),r(m,I),r(m,T),r(m,w),r(w,D),r(w,$),r(m,O),r(m,P),r(P,N),r(P,V),S||(q=fe(f,"input",l[42]),S=!0)},p(Y,L){L[0]&262144&&s!==(s=Y[18].t("TTS Model")+"")&&K(a,s),L[0]&16&&f.value!==Y[4]&&se(f,Y[4]),L[0]&262144&&b!==(b=Y[18].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"")&&K(I,b),L[0]&262144&&k!==(k=Y[18].t("click here",{name:"SpeechT5"})+"")&&K(D,k),L[0]&262144&&M!==(M=Y[18].t("click here")+"")&&K(N,M)},d(Y){Y&&c(e),S=!1,q()}}}function Yf(l){let e,t,s=l[18].t("TTS Voice")+"",a,i,n,u,f,h,E=l[18].t("Default")+"",g,v,m,b,I=Vt(l[16]),T=[];for(let w=0;w<I.length;w+=1)T[w]=on(tn(l,I,w));return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("select"),h=d("option"),g=R(E);for(let w=0;w<T.length;w+=1)T[w].c();this.h()},l(w){e=_(w,"DIV",{});var k=p(e);t=_(k,"DIV",{class:!0});var D=p(t);a=C(D,s),D.forEach(c),i=y(k),n=_(k,"DIV",{class:!0});var $=p(n);u=_($,"DIV",{class:!0});var O=p(u);f=_(O,"SELECT",{class:!0});var P=p(f);h=_(P,"OPTION",{});var M=p(h);g=C(M,E),M.forEach(c);for(let N=0;N<T.length;N+=1)T[N].l(P);P.forEach(c),O.forEach(c),$.forEach(c),k.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),h.__value="",se(h,h.__value),h.selected=v=l[5]!=="",o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),l[5]===void 0&&Sl(()=>l[41].call(f)),o(u,"class","flex-1"),o(n,"class","flex w-full")},m(w,k){H(w,e,k),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),r(f,h),r(h,g);for(let D=0;D<T.length;D+=1)T[D]&&T[D].m(f,null);xt(f,l[5],!0),m||(b=fe(f,"change",l[41]),m=!0)},p(w,k){if(k[0]&262144&&s!==(s=w[18].t("TTS Voice")+"")&&K(a,s),k[0]&262144&&E!==(E=w[18].t("Default")+"")&&K(g,E),k[0]&65568&&v!==(v=w[5]!=="")&&(h.selected=v),k[0]&65568){I=Vt(w[16]);let D;for(D=0;D<I.length;D+=1){const $=tn(w,I,D);T[D]?T[D].p($,k):(T[D]=on($),T[D].c(),T[D].m(f,null))}for(;D<T.length;D+=1)T[D].d(1);T.length=I.length}k[0]&65568&&xt(f,w[5])},d(w){w&&c(e),wl(T,w),m=!1,b()}}}function ln(l){let e,t=l[56].name+"",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[56].id,se(e,e.__value)},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&65536&&t!==(t=i[56].name+"")&&K(s,t),n[0]&65536&&a!==(a=i[56].id)&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function sn(l){let e,t=l[56].name+"",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[56].id,se(e,e.__value)},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&65536&&t!==(t=i[56].name+"")&&K(s,t),n[0]&65536&&a!==(a=i[56].id)&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function an(l){let e,t;return{c(){e=d("option"),this.h()},l(s){e=_(s,"OPTION",{class:!0}),p(e).forEach(c),this.h()},h(){e.__value=t=l[59].id,se(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(s,a){H(s,e,a)},p(s,a){a[0]&131072&&t!==(t=s[59].id)&&(e.__value=t,se(e,e.__value))},d(s){s&&c(e)}}}function rn(l){let e,t=l[56].name+"",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[56].id,se(e,e.__value)},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&65536&&t!==(t=i[56].name+"")&&K(s,t),n[0]&65536&&a!==(a=i[56].id)&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function nn(l){let e,t;return{c(){e=d("option"),this.h()},l(s){e=_(s,"OPTION",{class:!0}),p(e).forEach(c),this.h()},h(){e.__value=t=l[59].id,se(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(s,a){H(s,e,a)},p(s,a){a[0]&131072&&t!==(t=s[59].id)&&(e.__value=t,se(e,e.__value))},d(s){s&&c(e)}}}function on(l){let e,t=l[56].name.replace("+",", ")+"",s,a,i;return{c(){e=d("option"),s=R(t),this.h()},l(n){e=_(n,"OPTION",{class:!0});var u=p(e);s=C(u,t),u.forEach(c),this.h()},h(){e.__value=a=l[56].voiceURI,se(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=i=l[5]===l[56].voiceURI},m(n,u){H(n,e,u),r(e,s)},p(n,u){u[0]&65536&&t!==(t=n[56].name.replace("+",", ")+"")&&K(s,t),u[0]&65536&&a!==(a=n[56].voiceURI)&&(e.__value=a,se(e,e.__value)),u[0]&65568&&i!==(i=n[5]===n[56].voiceURI)&&(e.selected=i)},d(n){n&&c(e)}}}function un(l){let e,t=l[18].t(l[53].charAt(0).toUpperCase()+l[53].slice(1))+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value=l[53],se(e,e.__value)},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&262144&&t!==(t=a[18].t(a[53].charAt(0).toUpperCase()+a[53].slice(1))+"")&&K(s,t)},d(a){a&&c(e)}}}function qf(l){let e,t,s,a,i,n=l[18].t("STT Settings")+"",u,f,h,E,g=l[18].t("Speech-to-Text Engine")+"",v,m,b,I,T,w=l[18].t("Whisper (Local)")+"",k,D,$="OpenAI",O,P=l[18].t("Web API")+"",M,N,V="Deepgram",S,q,Y,L,U,B,j,F,J=l[18].t("TTS Settings")+"",X,ne,ie,ae,Q=l[18].t("Text-to-Speech Engine")+"",Z,te,ee,z,be,re=l[18].t("Web API")+"",ue,oe,Te=l[18].t("Transformers")+"",ge,me,De=l[18].t("Local")+"",Se,ke,we,Ae=l[18].t("OpenAI")+"",x,ce,Be=l[18].t("ElevenLabs")+"",Ce,le,de=l[18].t("Azure AI Speech")+"",$e,Ne,Oe,He,We,Ze,je,Ie,ye,ht,Je,pt,ze=l[18].t("Response splitting")+"",ot,bt,Ve,dt,Et,ut,mt=l[18].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",Tt,yt,_t,ct,vt=l[18].t("Save")+"",Me,Ke,Nt,It;const Re=[Mf,Sf,Pf],Ge=[];function ft(Ee,rt){return Ee[11]==="openai"?0:Ee[11]==="deepgram"?1:Ee[11]===""?2:-1}~(q=ft(l))&&(Y=Ge[q]=Re[q](l));const jt=[Bf,Uf,Cf],Rt=[];function Gt(Ee,rt){return Ee[3]==="openai"?0:Ee[3]==="elevenlabs"?1:Ee[3]==="azure"?2:-1}~(Oe=Gt(l))&&(He=Rt[Oe]=jt[Oe](l));function Le(Ee,rt){if(Ee[3]==="")return Yf;if(Ee[3]==="transformers")return Kf;if(Ee[3]==="openai")return jf;if(Ee[3]==="elevenlabs")return Gf;if(Ee[3]==="azure")return Hf}let Fe=Le(l),Ut=Fe&&Fe(l),Dt=Vt(Object.values(Ta)),Ue=[];for(let Ee=0;Ee<Dt.length;Ee+=1)Ue[Ee]=un(zr(l,Dt,Ee));return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),i=d("div"),u=R(n),f=A(),h=d("div"),E=d("div"),v=R(g),m=A(),b=d("div"),I=d("select"),T=d("option"),k=R(w),D=d("option"),D.textContent=$,O=d("option"),M=R(P),N=d("option"),N.textContent=V,S=A(),Y&&Y.c(),L=A(),U=d("hr"),B=A(),j=d("div"),F=d("div"),X=R(J),ne=A(),ie=d("div"),ae=d("div"),Z=R(Q),te=A(),ee=d("div"),z=d("select"),be=d("option"),ue=R(re),oe=d("option"),ge=R(Te),me=R(" ("),Se=R(De),ke=R(")"),we=d("option"),x=R(Ae),ce=d("option"),Ce=R(Be),le=d("option"),$e=R(de),Ne=A(),He&&He.c(),We=A(),Ze=d("hr"),je=A(),Ut&&Ut.c(),Ie=A(),ye=d("hr"),ht=A(),Je=d("div"),pt=d("div"),ot=R(ze),bt=A(),Ve=d("div"),dt=d("select");for(let Ee=0;Ee<Ue.length;Ee+=1)Ue[Ee].c();Et=A(),ut=d("div"),Tt=R(mt),yt=A(),_t=d("div"),ct=d("button"),Me=R(vt),this.h()},l(Ee){e=_(Ee,"FORM",{class:!0});var rt=p(e);t=_(rt,"DIV",{class:!0});var Pt=p(t);s=_(Pt,"DIV",{class:!0});var Ct=p(s);a=_(Ct,"DIV",{});var $t=p(a);i=_($t,"DIV",{class:!0});var Mt=p(i);u=C(Mt,n),Mt.forEach(c),f=y($t),h=_($t,"DIV",{class:!0});var Lt=p(h);E=_(Lt,"DIV",{class:!0});var At=p(E);v=C(At,g),At.forEach(c),m=y(Lt),b=_(Lt,"DIV",{class:!0});var Ye=p(b);I=_(Ye,"SELECT",{class:!0,placeholder:!0});var nt=p(I);T=_(nt,"OPTION",{});var Ot=p(T);k=C(Ot,w),Ot.forEach(c),D=_(nt,"OPTION",{"data-svelte-h":!0}),Qt(D)!=="svelte-bbvrw2"&&(D.textContent=$),O=_(nt,"OPTION",{});var Kt=p(O);M=C(Kt,P),Kt.forEach(c),N=_(nt,"OPTION",{"data-svelte-h":!0}),Qt(N)!=="svelte-htpsvy"&&(N.textContent=V),nt.forEach(c),Ye.forEach(c),Lt.forEach(c),S=y($t),Y&&Y.l($t),$t.forEach(c),L=y(Ct),U=_(Ct,"HR",{class:!0}),B=y(Ct),j=_(Ct,"DIV",{});var st=p(j);F=_(st,"DIV",{class:!0});var sl=p(F);X=C(sl,J),sl.forEach(c),ne=y(st),ie=_(st,"DIV",{class:!0});var Wt=p(ie);ae=_(Wt,"DIV",{class:!0});var Xt=p(ae);Z=C(Xt,Q),Xt.forEach(c),te=y(Wt),ee=_(Wt,"DIV",{class:!0});var zt=p(ee);z=_(zt,"SELECT",{class:!0,placeholder:!0});var al=p(z);be=_(al,"OPTION",{});var it=p(be);ue=C(it,re),it.forEach(c),oe=_(al,"OPTION",{});var St=p(oe);ge=C(St,Te),me=C(St," ("),Se=C(St,De),ke=C(St,")"),St.forEach(c),we=_(al,"OPTION",{});var Bt=p(we);x=C(Bt,Ae),Bt.forEach(c),ce=_(al,"OPTION",{});var il=p(ce);Ce=C(il,Be),il.forEach(c),le=_(al,"OPTION",{});var El=p(le);$e=C(El,de),El.forEach(c),al.forEach(c),zt.forEach(c),Wt.forEach(c),Ne=y(st),He&&He.l(st),We=y(st),Ze=_(st,"HR",{class:!0}),je=y(st),Ut&&Ut.l(st),Ie=y(st),ye=_(st,"HR",{class:!0}),ht=y(st),Je=_(st,"DIV",{class:!0});var dl=p(Je);pt=_(dl,"DIV",{class:!0});var Il=p(pt);ot=C(Il,ze),Il.forEach(c),bt=y(dl),Ve=_(dl,"DIV",{class:!0});var qt=p(Ve);dt=_(qt,"SELECT",{class:!0,"aria-label":!0});var tl=p(dt);for(let Al=0;Al<Ue.length;Al+=1)Ue[Al].l(tl);tl.forEach(c),qt.forEach(c),dl.forEach(c),Et=y(st),ut=_(st,"DIV",{class:!0});var Tl=p(ut);Tt=C(Tl,mt),Tl.forEach(c),st.forEach(c),Ct.forEach(c),Pt.forEach(c),yt=y(rt),_t=_(rt,"DIV",{class:!0});var Dl=p(_t);ct=_(Dl,"BUTTON",{class:!0,type:!0});var ol=p(ct);Me=C(ol,vt),ol.forEach(c),Dl.forEach(c),rt.forEach(c),this.h()},h(){o(i,"class","mb-1 text-sm font-medium"),o(E,"class","self-center text-xs font-medium"),T.__value="",se(T,T.__value),D.__value="openai",se(D,D.__value),O.__value="web",se(O,O.__value),N.__value="deepgram",se(N,N.__value),o(I,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(I,"placeholder","Select an engine"),l[11]===void 0&&Sl(()=>l[26].call(I)),o(b,"class","flex items-center relative"),o(h,"class","py-0.5 flex w-full justify-between"),o(U,"class","border-gray-100 dark:border-gray-850"),o(F,"class","mb-1 text-sm font-medium"),o(ae,"class","self-center text-xs font-medium"),be.__value="",se(be,be.__value),oe.__value="transformers",se(oe,oe.__value),we.__value="openai",se(we,we.__value),ce.__value="elevenlabs",se(ce,ce.__value),le.__value="azure",se(le,le.__value),o(z,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(z,"placeholder","Select a mode"),l[3]===void 0&&Sl(()=>l[34].call(z)),o(ee,"class","flex items-center relative"),o(ie,"class","py-0.5 flex w-full justify-between"),o(Ze,"class","border-gray-100 dark:border-gray-850 my-2"),o(ye,"class","border-gray-100 dark:border-gray-850 my-2"),o(pt,"class","self-center text-xs font-medium"),o(dt,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(dt,"aria-label","Select how to split message text for TTS requests"),l[6]===void 0&&Sl(()=>l[49].call(dt)),o(Ve,"class","flex items-center relative"),o(Je,"class","pt-0.5 flex w-full justify-between"),o(ut,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(s,"class","flex flex-col gap-3"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(ct,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(ct,"type","submit"),o(_t,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Ee,rt){H(Ee,e,rt),r(e,t),r(t,s),r(s,a),r(a,i),r(i,u),r(a,f),r(a,h),r(h,E),r(E,v),r(h,m),r(h,b),r(b,I),r(I,T),r(T,k),r(I,D),r(I,O),r(O,M),r(I,N),xt(I,l[11],!0),r(a,S),~q&&Ge[q].m(a,null),r(s,L),r(s,U),r(s,B),r(s,j),r(j,F),r(F,X),r(j,ne),r(j,ie),r(ie,ae),r(ae,Z),r(ie,te),r(ie,ee),r(ee,z),r(z,be),r(be,ue),r(z,oe),r(oe,ge),r(oe,me),r(oe,Se),r(oe,ke),r(z,we),r(we,x),r(z,ce),r(ce,Ce),r(z,le),r(le,$e),xt(z,l[3],!0),r(j,Ne),~Oe&&Rt[Oe].m(j,null),r(j,We),r(j,Ze),r(j,je),Ut&&Ut.m(j,null),r(j,Ie),r(j,ye),r(j,ht),r(j,Je),r(Je,pt),r(pt,ot),r(Je,bt),r(Je,Ve),r(Ve,dt);for(let Pt=0;Pt<Ue.length;Pt+=1)Ue[Pt]&&Ue[Pt].m(dt,null);xt(dt,l[6],!0),r(j,Et),r(j,ut),r(ut,Tt),r(e,yt),r(e,_t),r(_t,ct),r(ct,Me),Ke=!0,Nt||(It=[fe(I,"change",l[26]),fe(z,"change",l[34]),fe(z,"change",l[35]),fe(dt,"change",l[49]),fe(e,"submit",vs(l[50]))],Nt=!0)},p(Ee,rt){(!Ke||rt[0]&262144)&&n!==(n=Ee[18].t("STT Settings")+"")&&K(u,n),(!Ke||rt[0]&262144)&&g!==(g=Ee[18].t("Speech-to-Text Engine")+"")&&K(v,g),(!Ke||rt[0]&262144)&&w!==(w=Ee[18].t("Whisper (Local)")+"")&&K(k,w),(!Ke||rt[0]&262144)&&P!==(P=Ee[18].t("Web API")+"")&&K(M,P),rt[0]&2048&&xt(I,Ee[11]);let Pt=q;q=ft(Ee),q===Pt?~q&&Ge[q].p(Ee,rt):(Y&&(wt(),W(Ge[Pt],1,1,()=>{Ge[Pt]=null}),kt()),~q?(Y=Ge[q],Y?Y.p(Ee,rt):(Y=Ge[q]=Re[q](Ee),Y.c()),G(Y,1),Y.m(a,null)):Y=null),(!Ke||rt[0]&262144)&&J!==(J=Ee[18].t("TTS Settings")+"")&&K(X,J),(!Ke||rt[0]&262144)&&Q!==(Q=Ee[18].t("Text-to-Speech Engine")+"")&&K(Z,Q),(!Ke||rt[0]&262144)&&re!==(re=Ee[18].t("Web API")+"")&&K(ue,re),(!Ke||rt[0]&262144)&&Te!==(Te=Ee[18].t("Transformers")+"")&&K(ge,Te),(!Ke||rt[0]&262144)&&De!==(De=Ee[18].t("Local")+"")&&K(Se,De),(!Ke||rt[0]&262144)&&Ae!==(Ae=Ee[18].t("OpenAI")+"")&&K(x,Ae),(!Ke||rt[0]&262144)&&Be!==(Be=Ee[18].t("ElevenLabs")+"")&&K(Ce,Be),(!Ke||rt[0]&262144)&&de!==(de=Ee[18].t("Azure AI Speech")+"")&&K($e,de),rt[0]&8&&xt(z,Ee[3]);let Ct=Oe;if(Oe=Gt(Ee),Oe===Ct?~Oe&&Rt[Oe].p(Ee,rt):(He&&(wt(),W(Rt[Ct],1,1,()=>{Rt[Ct]=null}),kt()),~Oe?(He=Rt[Oe],He?He.p(Ee,rt):(He=Rt[Oe]=jt[Oe](Ee),He.c()),G(He,1),He.m(j,We)):He=null),Fe===(Fe=Le(Ee))&&Ut?Ut.p(Ee,rt):(Ut&&Ut.d(1),Ut=Fe&&Fe(Ee),Ut&&(Ut.c(),Ut.m(j,Ie))),(!Ke||rt[0]&262144)&&ze!==(ze=Ee[18].t("Response splitting")+"")&&K(ot,ze),rt[0]&262144){Dt=Vt(Object.values(Ta));let $t;for($t=0;$t<Dt.length;$t+=1){const Mt=zr(Ee,Dt,$t);Ue[$t]?Ue[$t].p(Mt,rt):(Ue[$t]=un(Mt),Ue[$t].c(),Ue[$t].m(dt,null))}for(;$t<Ue.length;$t+=1)Ue[$t].d(1);Ue.length=Dt.length}rt[0]&64&&xt(dt,Ee[6]),(!Ke||rt[0]&262144)&&mt!==(mt=Ee[18].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&K(Tt,mt),(!Ke||rt[0]&262144)&&vt!==(vt=Ee[18].t("Save")+"")&&K(Me,vt)},i(Ee){Ke||(G(Y),G(He),Ke=!0)},o(Ee){W(Y),W(He),Ke=!1},d(Ee){Ee&&c(e),~q&&Ge[q].d(),~Oe&&Rt[Oe].d(),Ut&&Ut.d(),wl(Ue,Ee),Nt=!1,gl(It)}}}function Wf(l,e,t){let s,a,i;el(l,Js,x=>t(51,a=x)),el(l,ss,x=>t(52,i=x));const n=Ms(),u=Ml("i18n");el(l,u,x=>t(18,s=x));let{saveHandler:f}=e,h="",E="",g="",v="",m="",b="",I=Ta.PUNCTUATION,T="",w="",k="",D="",$="",O="",P="",M="",N=!1,V=[],S=[];const q=async()=>{var x;if(v==="")t(17,S=[]);else{const ce=await ou(localStorage.token,((x=i==null?void 0:i.features)==null?void 0:x.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)).catch(Be=>{et.error(`${Be}`)});ce&&(console.log(ce),t(17,S=ce.models))}},Y=async()=>{if(v===""){const x=setInterval(()=>{t(16,V=speechSynthesis.getVoices()),V.length>0&&(clearInterval(x),V.sort((ce,Be)=>ce.name.localeCompare(Be.name,s.resolvedLanguage)))},100)}else{const x=await uu(localStorage.token).catch(ce=>{et.error(`${ce}`)});x&&(console.log(x),t(16,V=x.voices),V.sort((ce,Be)=>ce.name.localeCompare(Be.name,s.resolvedLanguage)))}},L=async()=>{await fu(localStorage.token,{tts:{OPENAI_API_BASE_URL:h,OPENAI_API_KEY:E,API_KEY:g,ENGINE:v,MODEL:m,VOICE:b,SPLIT_ON:I,AZURE_SPEECH_REGION:T,AZURE_SPEECH_OUTPUT_FORMAT:w},stt:{OPENAI_API_BASE_URL:k,OPENAI_API_KEY:D,ENGINE:$,MODEL:O,WHISPER_MODEL:P,DEEPGRAM_API_KEY:M}})&&(f(),ss.set(await js()))},U=async()=>{t(15,N=!0),await L(),t(15,N=!1)};as(async()=>{const x=await iu(localStorage.token);x&&(console.log(x),t(0,h=x.tts.OPENAI_API_BASE_URL),t(1,E=x.tts.OPENAI_API_KEY),t(2,g=x.tts.API_KEY),t(3,v=x.tts.ENGINE),t(4,m=x.tts.MODEL),t(5,b=x.tts.VOICE),t(6,I=x.tts.SPLIT_ON||Ta.PUNCTUATION),t(8,w=x.tts.AZURE_SPEECH_OUTPUT_FORMAT),t(7,T=x.tts.AZURE_SPEECH_REGION),t(9,k=x.stt.OPENAI_API_BASE_URL),t(10,D=x.stt.OPENAI_API_KEY),t(11,$=x.stt.ENGINE),t(12,O=x.stt.MODEL),t(13,P=x.stt.WHISPER_MODEL),t(14,M=x.stt.DEEPGRAM_API_KEY)),await Y(),await q()});function B(){$=Pl(this),t(11,$)}function j(){k=this.value,t(9,k)}function F(x){D=x,t(10,D)}function J(){O=this.value,t(12,O)}function X(x){M=x,t(14,M)}function ne(){O=this.value,t(12,O)}function ie(){P=this.value,t(13,P)}const ae=()=>{U()};function Q(){v=Pl(this),t(3,v)}const Z=async x=>{var ce;await L(),await Y(),await q(),((ce=x.target)==null?void 0:ce.value)==="openai"?(t(5,b="alloy"),t(4,m="tts-1")):(t(5,b=""),t(4,m=""))};function te(){h=this.value,t(0,h)}function ee(x){E=x,t(1,E)}function z(){g=this.value,t(2,g)}function be(){g=this.value,t(2,g)}function re(){T=this.value,t(7,T)}function ue(){b=Pl(this),t(5,b),t(16,V)}function oe(){m=this.value,t(4,m)}function Te(){b=this.value,t(5,b),t(16,V)}function ge(){m=this.value,t(4,m)}function me(){b=this.value,t(5,b),t(16,V)}function De(){m=this.value,t(4,m)}function Se(){b=this.value,t(5,b),t(16,V)}function ke(){w=this.value,t(8,w)}function we(){I=Pl(this),t(6,I)}const Ae=async()=>{await L(),n("save")};return l.$$set=x=>{"saveHandler"in x&&t(25,f=x.saveHandler)},[h,E,g,v,m,b,I,T,w,k,D,$,O,P,M,N,V,S,s,n,u,q,Y,L,U,f,B,j,F,J,X,ne,ie,ae,Q,Z,te,ee,z,be,re,ue,oe,Te,ge,me,De,Se,ke,we,Ae]}class Ff extends $l{constructor(e){super(),Vl(this,e,Wf,qf,yl,{saveHandler:25},null,[-1,-1,-1])}}function fn(l,e,t){const s=l.slice();return s[42]=e[t],s}function cn(l,e,t){const s=l.slice();return s[51]=e[t],s[52]=e,s[53]=t,s}function dn(l,e,t){const s=l.slice();return s[45]=e[t],s}function _n(l,e,t){const s=l.slice();return s[48]=e[t],s}function hn(l){var Ae;let e,t,s=l[5].t("Image Settings")+"",a,i,n,u,f,h=l[5].t("Image Generation (Experimental)")+"",E,g,v,m,b,I,T,w,k,D=l[5].t("Image Generation Engine")+"",$,O,P,M,N,V=l[5].t("Default (Open AI)")+"",S,q,Y=l[5].t("ComfyUI")+"",L,U,B=l[5].t("Automatic1111")+"",j,F,J=l[5].t("Gemini")+"",X,ne,ie,ae,Q,Z,te,ee,z,be,re,ue,oe;function Te(x){l[11](x)}let ge={};l[1].enabled!==void 0&&(ge.state=l[1].enabled),m=new pl({props:ge}),Xe.push(()=>lt(m,"state",Te)),m.$on("change",l[12]);let me=l[1].enabled&&pn(l);const De=[Xf,Jf,zf,Zf],Se=[];function ke(x,ce){var Be,Ce,le,de;return(((Be=x[1])==null?void 0:Be.engine)??"automatic1111")==="automatic1111"?0:((Ce=x[1])==null?void 0:Ce.engine)==="comfyui"?1:((le=x[1])==null?void 0:le.engine)==="openai"?2:((de=x[1])==null?void 0:de.engine)==="gemini"?3:-1}~(te=ke(l))&&(ee=Se[te]=De[te](l));let we=((Ae=l[1])==null?void 0:Ae.enabled)&&In(l);return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("div"),E=R(h),g=A(),v=d("div"),_e(m.$$.fragment),I=A(),me&&me.c(),T=A(),w=d("div"),k=d("div"),$=R(D),O=A(),P=d("div"),M=d("select"),N=d("option"),S=R(V),q=d("option"),L=R(Y),U=d("option"),j=R(B),F=d("option"),X=R(J),ie=A(),ae=d("hr"),Q=A(),Z=d("div"),ee&&ee.c(),z=A(),we&&we.c(),be=rl(),this.h()},l(x){e=_(x,"DIV",{});var ce=p(e);t=_(ce,"DIV",{class:!0});var Be=p(t);a=C(Be,s),Be.forEach(c),i=y(ce),n=_(ce,"DIV",{});var Ce=p(n);u=_(Ce,"DIV",{class:!0});var le=p(u);f=_(le,"DIV",{class:!0});var de=p(f);E=C(de,h),de.forEach(c),g=y(le),v=_(le,"DIV",{class:!0});var $e=p(v);he(m.$$.fragment,$e),$e.forEach(c),le.forEach(c),Ce.forEach(c),I=y(ce),me&&me.l(ce),T=y(ce),w=_(ce,"DIV",{class:!0});var Ne=p(w);k=_(Ne,"DIV",{class:!0});var Oe=p(k);$=C(Oe,D),Oe.forEach(c),O=y(Ne),P=_(Ne,"DIV",{class:!0});var He=p(P);M=_(He,"SELECT",{class:!0,placeholder:!0});var We=p(M);N=_(We,"OPTION",{});var Ze=p(N);S=C(Ze,V),Ze.forEach(c),q=_(We,"OPTION",{});var je=p(q);L=C(je,Y),je.forEach(c),U=_(We,"OPTION",{});var Ie=p(U);j=C(Ie,B),Ie.forEach(c),F=_(We,"OPTION",{});var ye=p(F);X=C(ye,J),ye.forEach(c),We.forEach(c),He.forEach(c),Ne.forEach(c),ce.forEach(c),ie=y(x),ae=_(x,"HR",{class:!0}),Q=y(x),Z=_(x,"DIV",{class:!0});var ht=p(Z);ee&&ee.l(ht),ht.forEach(c),z=y(x),we&&we.l(x),be=rl(),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(f,"class","self-center text-xs font-medium"),o(v,"class","px-1"),o(u,"class","py-1 flex w-full justify-between"),o(k,"class","self-center text-xs font-medium"),N.__value="openai",se(N,N.__value),q.__value="comfyui",se(q,q.__value),U.__value="automatic1111",se(U,U.__value),F.__value="gemini",se(F,F.__value),o(M,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(M,"placeholder",ne=l[5].t("Select Engine")),l[1].engine===void 0&&Sl(()=>l[14].call(M)),o(P,"class","flex items-center relative"),o(w,"class","py-1 flex w-full justify-between"),o(ae,"class","border-gray-100 dark:border-gray-850"),o(Z,"class","flex flex-col gap-2")},m(x,ce){H(x,e,ce),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),r(f,E),r(u,g),r(u,v),pe(m,v,null),r(e,I),me&&me.m(e,null),r(e,T),r(e,w),r(w,k),r(k,$),r(w,O),r(w,P),r(P,M),r(M,N),r(N,S),r(M,q),r(q,L),r(M,U),r(U,j),r(M,F),r(F,X),xt(M,l[1].engine,!0),H(x,ie,ce),H(x,ae,ce),H(x,Q,ce),H(x,Z,ce),~te&&Se[te].m(Z,null),H(x,z,ce),we&&we.m(x,ce),H(x,be,ce),re=!0,ue||(oe=[fe(M,"change",l[14]),fe(M,"change",l[15])],ue=!0)},p(x,ce){var le;(!re||ce[0]&32)&&s!==(s=x[5].t("Image Settings")+"")&&K(a,s),(!re||ce[0]&32)&&h!==(h=x[5].t("Image Generation (Experimental)")+"")&&K(E,h);const Be={};!b&&ce[0]&2&&(b=!0,Be.state=x[1].enabled,tt(()=>b=!1)),m.$set(Be),x[1].enabled?me?(me.p(x,ce),ce[0]&2&&G(me,1)):(me=pn(x),me.c(),G(me,1),me.m(e,T)):me&&(wt(),W(me,1,1,()=>{me=null}),kt()),(!re||ce[0]&32)&&D!==(D=x[5].t("Image Generation Engine")+"")&&K($,D),(!re||ce[0]&32)&&V!==(V=x[5].t("Default (Open AI)")+"")&&K(S,V),(!re||ce[0]&32)&&Y!==(Y=x[5].t("ComfyUI")+"")&&K(L,Y),(!re||ce[0]&32)&&B!==(B=x[5].t("Automatic1111")+"")&&K(j,B),(!re||ce[0]&32)&&J!==(J=x[5].t("Gemini")+"")&&K(X,J),(!re||ce[0]&32&&ne!==(ne=x[5].t("Select Engine")))&&o(M,"placeholder",ne),ce[0]&2&&xt(M,x[1].engine);let Ce=te;te=ke(x),te===Ce?~te&&Se[te].p(x,ce):(ee&&(wt(),W(Se[Ce],1,1,()=>{Se[Ce]=null}),kt()),~te?(ee=Se[te],ee?ee.p(x,ce):(ee=Se[te]=De[te](x),ee.c()),G(ee,1),ee.m(Z,null)):ee=null),(le=x[1])!=null&&le.enabled?we?(we.p(x,ce),ce[0]&2&&G(we,1)):(we=In(x),we.c(),G(we,1),we.m(be.parentNode,be)):we&&(wt(),W(we,1,1,()=>{we=null}),kt())},i(x){re||(G(m.$$.fragment,x),G(me),G(ee),G(we),re=!0)},o(x){W(m.$$.fragment,x),W(me),W(ee),W(we),re=!1},d(x){x&&(c(e),c(ie),c(ae),c(Q),c(Z),c(z),c(be)),ve(m),me&&me.d(),~te&&Se[te].d(),we&&we.d(x),ue=!1,gl(oe)}}}function pn(l){let e,t,s=l[5].t("Image Prompt Generation")+"",a,i,n,u,f,h;function E(v){l[13](v)}let g={};return l[1].prompt_generation!==void 0&&(g.state=l[1].prompt_generation),u=new pl({props:g}),Xe.push(()=>lt(u,"state",E)),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);a=C(b,s),b.forEach(c),i=y(m),n=_(m,"DIV",{class:!0});var I=p(n);he(u.$$.fragment,I),I.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(n,"class","px-1"),o(e,"class","py-1 flex w-full justify-between")},m(v,m){H(v,e,m),r(e,t),r(t,a),r(e,i),r(e,n),pe(u,n,null),h=!0},p(v,m){(!h||m[0]&32)&&s!==(s=v[5].t("Image Prompt Generation")+"")&&K(a,s);const b={};!f&&m[0]&2&&(f=!0,b.state=v[1].prompt_generation,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function Zf(l){let e,t,s=l[5].t("Gemini API Config")+"",a,i,n,u,f,h,E,g,v,m,b;function I(w){l[33](w)}let T={placeholder:l[5].t("API Key")};return l[1].gemini.GEMINI_API_KEY!==void 0&&(T.value=l[1].gemini.GEMINI_API_KEY),E=new kl({props:T}),Xe.push(()=>lt(E,"value",I)),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("input"),h=A(),_e(E.$$.fragment),this.h()},l(w){e=_(w,"DIV",{});var k=p(e);t=_(k,"DIV",{class:!0});var D=p(t);a=C(D,s),D.forEach(c),i=y(k),n=_(k,"DIV",{class:!0});var $=p(n);u=_($,"INPUT",{class:!0,placeholder:!0}),h=y($),he(E.$$.fragment,$),$.forEach(c),k.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"class","flex-1 w-full text-sm bg-transparent outline-none"),o(u,"placeholder",f=l[5].t("API Base URL")),u.required=!0,o(n,"class","flex gap-2 mb-1")},m(w,k){H(w,e,k),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),se(u,l[1].gemini.GEMINI_API_BASE_URL),r(n,h),pe(E,n,null),v=!0,m||(b=fe(u,"input",l[32]),m=!0)},p(w,k){(!v||k[0]&32)&&s!==(s=w[5].t("Gemini API Config")+"")&&K(a,s),(!v||k[0]&32&&f!==(f=w[5].t("API Base URL")))&&o(u,"placeholder",f),k[0]&2&&u.value!==w[1].gemini.GEMINI_API_BASE_URL&&se(u,w[1].gemini.GEMINI_API_BASE_URL);const D={};k[0]&32&&(D.placeholder=w[5].t("API Key")),!g&&k[0]&2&&(g=!0,D.value=w[1].gemini.GEMINI_API_KEY,tt(()=>g=!1)),E.$set(D)},i(w){v||(G(E.$$.fragment,w),v=!0)},o(w){W(E.$$.fragment,w),v=!1},d(w){w&&c(e),ve(E),m=!1,b()}}}function zf(l){let e,t,s=l[5].t("OpenAI API Config")+"",a,i,n,u,f,h,E,g,v,m,b;function I(w){l[31](w)}let T={placeholder:l[5].t("API Key")};return l[1].openai.OPENAI_API_KEY!==void 0&&(T.value=l[1].openai.OPENAI_API_KEY),E=new kl({props:T}),Xe.push(()=>lt(E,"value",I)),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("input"),h=A(),_e(E.$$.fragment),this.h()},l(w){e=_(w,"DIV",{});var k=p(e);t=_(k,"DIV",{class:!0});var D=p(t);a=C(D,s),D.forEach(c),i=y(k),n=_(k,"DIV",{class:!0});var $=p(n);u=_($,"INPUT",{class:!0,placeholder:!0}),h=y($),he(E.$$.fragment,$),$.forEach(c),k.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"class","flex-1 w-full text-sm bg-transparent outline-hidden"),o(u,"placeholder",f=l[5].t("API Base URL")),u.required=!0,o(n,"class","flex gap-2 mb-1")},m(w,k){H(w,e,k),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),se(u,l[1].openai.OPENAI_API_BASE_URL),r(n,h),pe(E,n,null),v=!0,m||(b=fe(u,"input",l[30]),m=!0)},p(w,k){(!v||k[0]&32)&&s!==(s=w[5].t("OpenAI API Config")+"")&&K(a,s),(!v||k[0]&32&&f!==(f=w[5].t("API Base URL")))&&o(u,"placeholder",f),k[0]&2&&u.value!==w[1].openai.OPENAI_API_BASE_URL&&se(u,w[1].openai.OPENAI_API_BASE_URL);const D={};k[0]&32&&(D.placeholder=w[5].t("API Key")),!g&&k[0]&2&&(g=!0,D.value=w[1].openai.OPENAI_API_KEY,tt(()=>g=!1)),E.$set(D)},i(w){v||(G(E.$$.fragment,w),v=!0)},o(w){W(E.$$.fragment,w),v=!1},d(w){w&&c(e),ve(E),m=!1,b()}}}function Jf(l){let e,t,s=l[5].t("ComfyUI Base URL")+"",a,i,n,u,f,h,E,g,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,b,I,T=l[5].t("ComfyUI API Key")+"",w,k,D,$,O,P,M,N,V,S=l[5].t("ComfyUI Workflow")+"",q,Y,L,U,B,j,F,J,X=l[5].t("Click here to upload a workflow.json file.")+"",ne,ie,ae,Q=l[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",Z,te,ee,z,be,re;function ue(me){l[24](me)}let oe={placeholder:l[5].t("sk-1234"),required:!1};l[1].comfyui.COMFYUI_API_KEY!==void 0&&(oe.value=l[1].comfyui.COMFYUI_API_KEY),O=new kl({props:oe}),Xe.push(()=>lt(O,"value",ue));let Te=l[1].comfyui.COMFYUI_WORKFLOW&&vn(l),ge=l[1].comfyui.COMFYUI_WORKFLOW&&mn(l);return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("input"),E=A(),g=d("button"),g.innerHTML=v,m=A(),b=d("div"),I=d("div"),w=R(T),k=A(),D=d("div"),$=d("div"),_e(O.$$.fragment),M=A(),N=d("div"),V=d("div"),q=R(S),Y=A(),Te&&Te.c(),L=A(),U=d("div"),B=d("div"),j=d("input"),F=A(),J=d("button"),ne=R(X),ie=A(),ae=d("div"),Z=R(Q),te=A(),ge&&ge.c(),ee=rl(),this.h()},l(me){e=_(me,"DIV",{class:!0});var De=p(e);t=_(De,"DIV",{class:!0});var Se=p(t);a=C(Se,s),Se.forEach(c),i=y(De),n=_(De,"DIV",{class:!0});var ke=p(n);u=_(ke,"DIV",{class:!0});var we=p(u);f=_(we,"INPUT",{class:!0,placeholder:!0}),we.forEach(c),E=y(ke),g=_(ke,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt(g)!=="svelte-6bmm9v"&&(g.innerHTML=v),ke.forEach(c),De.forEach(c),m=y(me),b=_(me,"DIV",{class:!0});var Ae=p(b);I=_(Ae,"DIV",{class:!0});var x=p(I);w=C(x,T),x.forEach(c),k=y(Ae),D=_(Ae,"DIV",{class:!0});var ce=p(D);$=_(ce,"DIV",{class:!0});var Be=p($);he(O.$$.fragment,Be),Be.forEach(c),ce.forEach(c),Ae.forEach(c),M=y(me),N=_(me,"DIV",{class:!0});var Ce=p(N);V=_(Ce,"DIV",{class:!0});var le=p(V);q=C(le,S),le.forEach(c),Y=y(Ce),Te&&Te.l(Ce),L=y(Ce),U=_(Ce,"DIV",{class:!0});var de=p(U);B=_(de,"DIV",{class:!0});var $e=p(B);j=_($e,"INPUT",{id:!0,type:!0,accept:!0}),F=y($e),J=_($e,"BUTTON",{class:!0,type:!0});var Ne=p(J);ne=C(Ne,X),Ne.forEach(c),$e.forEach(c),de.forEach(c),ie=y(Ce),ae=_(Ce,"DIV",{class:!0});var Oe=p(ae);Z=C(Oe,Q),Oe.forEach(c),Ce.forEach(c),te=y(me),ge&&ge.l(me),ee=rl(),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(f,"placeholder",h=l[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(u,"class","flex-1 mr-2"),o(g,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(g,"type","button"),o(n,"class","flex w-full"),o(e,"class",""),o(I,"class","mb-2 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(D,"class","flex w-full"),o(b,"class",""),o(V,"class","mb-2 text-sm font-medium"),o(j,"id","upload-comfyui-workflow-input"),j.hidden=!0,o(j,"type","file"),o(j,"accept",".json"),o(J,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),o(J,"type","button"),o(B,"class","flex-1"),o(U,"class","flex w-full"),o(ae,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(N,"class","")},m(me,De){H(me,e,De),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),se(f,l[1].comfyui.COMFYUI_BASE_URL),r(n,E),r(n,g),H(me,m,De),H(me,b,De),r(b,I),r(I,w),r(b,k),r(b,D),r(D,$),pe(O,$,null),H(me,M,De),H(me,N,De),r(N,V),r(V,q),r(N,Y),Te&&Te.m(N,null),r(N,L),r(N,U),r(U,B),r(B,j),r(B,F),r(B,J),r(J,ne),r(N,ie),r(N,ae),r(ae,Z),H(me,te,De),ge&&ge.m(me,De),H(me,ee,De),z=!0,be||(re=[fe(f,"input",l[22]),fe(g,"click",l[23]),fe(j,"change",l[26]),fe(J,"click",l[27])],be=!0)},p(me,De){(!z||De[0]&32)&&s!==(s=me[5].t("ComfyUI Base URL")+"")&&K(a,s),(!z||De[0]&32&&h!==(h=me[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(f,"placeholder",h),De[0]&2&&f.value!==me[1].comfyui.COMFYUI_BASE_URL&&se(f,me[1].comfyui.COMFYUI_BASE_URL),(!z||De[0]&32)&&T!==(T=me[5].t("ComfyUI API Key")+"")&&K(w,T);const Se={};De[0]&32&&(Se.placeholder=me[5].t("sk-1234")),!P&&De[0]&2&&(P=!0,Se.value=me[1].comfyui.COMFYUI_API_KEY,tt(()=>P=!1)),O.$set(Se),(!z||De[0]&32)&&S!==(S=me[5].t("ComfyUI Workflow")+"")&&K(q,S),me[1].comfyui.COMFYUI_WORKFLOW?Te?Te.p(me,De):(Te=vn(me),Te.c(),Te.m(N,L)):Te&&(Te.d(1),Te=null),(!z||De[0]&32)&&X!==(X=me[5].t("Click here to upload a workflow.json file.")+"")&&K(ne,X),(!z||De[0]&32)&&Q!==(Q=me[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&K(Z,Q),me[1].comfyui.COMFYUI_WORKFLOW?ge?(ge.p(me,De),De[0]&2&&G(ge,1)):(ge=mn(me),ge.c(),G(ge,1),ge.m(ee.parentNode,ee)):ge&&(wt(),W(ge,1,1,()=>{ge=null}),kt())},i(me){z||(G(O.$$.fragment,me),G(ge),z=!0)},o(me){W(O.$$.fragment,me),W(ge),z=!1},d(me){me&&(c(e),c(m),c(b),c(M),c(N),c(te),c(ee)),ve(O),Te&&Te.d(),ge&&ge.d(me),be=!1,gl(re)}}}function Xf(l){let e,t,s=l[5].t("AUTOMATIC1111 Base URL")+"",a,i,n,u,f,h,E,g,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,b,I=l[5].t("Include `--api` flag when running stable-diffusion-webui")+"",T,w,k,D=l[5].t("(e.g. `sh webui.sh --api`)")+"",$,O,P,M,N=l[5].t("AUTOMATIC1111 Api Auth String")+"",V,S,q,Y,L,U,B=l[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",j,F,J,X=l[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",ne,ie,ae,Q,Z=l[5].t("Set Sampler")+"",te,ee,z,be,re,ue,oe,Te,ge=l[5].t("Set Scheduler")+"",me,De,Se,ke,we,Ae,x,ce,Be=l[5].t("Set CFG Scale")+"",Ce,le,de,$e,Ne,Oe,He,We;function Ze(Ie){l[18](Ie)}let je={placeholder:l[5].t("Enter api auth string (e.g. username:password)"),required:!1};return l[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(je.value=l[1].automatic1111.AUTOMATIC1111_API_AUTH),q=new kl({props:je}),Xe.push(()=>lt(q,"value",Ze)),re=new Yt({props:{content:l[5].t("Enter Sampler (e.g. Euler a)"),placement:"top-start",$$slots:{default:[ec]},$$scope:{ctx:l}}}),we=new Yt({props:{content:l[5].t("Enter Scheduler (e.g. Karras)"),placement:"top-start",$$slots:{default:[tc]},$$scope:{ctx:l}}}),Ne=new Yt({props:{content:l[5].t("Enter CFG Scale (e.g. 7.0)"),placement:"top-start",$$slots:{default:[lc]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("input"),E=A(),g=d("button"),g.innerHTML=v,m=A(),b=d("div"),T=R(I),w=A(),k=d("a"),$=R(D),O=A(),P=d("div"),M=d("div"),V=R(N),S=A(),_e(q.$$.fragment),L=A(),U=d("div"),j=R(B),F=A(),J=d("a"),ne=R(X),ie=A(),ae=d("div"),Q=d("div"),te=R(Z),ee=A(),z=d("div"),be=d("div"),_e(re.$$.fragment),ue=A(),oe=d("div"),Te=d("div"),me=R(ge),De=A(),Se=d("div"),ke=d("div"),_e(we.$$.fragment),Ae=A(),x=d("div"),ce=d("div"),Ce=R(Be),le=A(),de=d("div"),$e=d("div"),_e(Ne.$$.fragment),this.h()},l(Ie){e=_(Ie,"DIV",{});var ye=p(e);t=_(ye,"DIV",{class:!0});var ht=p(t);a=C(ht,s),ht.forEach(c),i=y(ye),n=_(ye,"DIV",{class:!0});var Je=p(n);u=_(Je,"DIV",{class:!0});var pt=p(u);f=_(pt,"INPUT",{class:!0,placeholder:!0}),pt.forEach(c),E=y(Je),g=_(Je,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt(g)!=="svelte-6bmm9v"&&(g.innerHTML=v),Je.forEach(c),m=y(ye),b=_(ye,"DIV",{class:!0});var ze=p(b);T=C(ze,I),w=y(ze),k=_(ze,"A",{class:!0,href:!0,target:!0});var ot=p(k);$=C(ot,D),ot.forEach(c),ze.forEach(c),ye.forEach(c),O=y(Ie),P=_(Ie,"DIV",{});var bt=p(P);M=_(bt,"DIV",{class:!0});var Ve=p(M);V=C(Ve,N),Ve.forEach(c),S=y(bt),he(q.$$.fragment,bt),L=y(bt),U=_(bt,"DIV",{class:!0});var dt=p(U);j=C(dt,B),F=y(dt),J=_(dt,"A",{class:!0,href:!0,target:!0});var Et=p(J);ne=C(Et,X),Et.forEach(c),dt.forEach(c),bt.forEach(c),ie=y(Ie),ae=_(Ie,"DIV",{});var ut=p(ae);Q=_(ut,"DIV",{class:!0});var mt=p(Q);te=C(mt,Z),mt.forEach(c),ee=y(ut),z=_(ut,"DIV",{class:!0});var Tt=p(z);be=_(Tt,"DIV",{class:!0});var yt=p(be);he(re.$$.fragment,yt),yt.forEach(c),Tt.forEach(c),ut.forEach(c),ue=y(Ie),oe=_(Ie,"DIV",{});var _t=p(oe);Te=_(_t,"DIV",{class:!0});var ct=p(Te);me=C(ct,ge),ct.forEach(c),De=y(_t),Se=_(_t,"DIV",{class:!0});var vt=p(Se);ke=_(vt,"DIV",{class:!0});var Me=p(ke);he(we.$$.fragment,Me),Me.forEach(c),vt.forEach(c),_t.forEach(c),Ae=y(Ie),x=_(Ie,"DIV",{});var Ke=p(x);ce=_(Ke,"DIV",{class:!0});var Nt=p(ce);Ce=C(Nt,Be),Nt.forEach(c),le=y(Ke),de=_(Ke,"DIV",{class:!0});var It=p(de);$e=_(It,"DIV",{class:!0});var Re=p($e);he(Ne.$$.fragment,Re),Re.forEach(c),It.forEach(c),Ke.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(f,"placeholder",h=l[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(u,"class","flex-1 mr-2"),o(g,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(g,"type","button"),o(n,"class","flex w-full"),o(k,"class","text-gray-300 font-medium"),o(k,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),o(k,"target","_blank"),o(b,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(M,"class","mb-2 text-sm font-medium"),o(J,"class","text-gray-300 font-medium"),o(J,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),o(J,"target","_blank"),o(U,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(Q,"class","mb-2.5 text-sm font-medium"),o(be,"class","flex-1 mr-2"),o(z,"class","flex w-full"),o(Te,"class","mb-2.5 text-sm font-medium"),o(ke,"class","flex-1 mr-2"),o(Se,"class","flex w-full"),o(ce,"class","mb-2.5 text-sm font-medium"),o($e,"class","flex-1 mr-2"),o(de,"class","flex w-full")},m(Ie,ye){H(Ie,e,ye),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),se(f,l[1].automatic1111.AUTOMATIC1111_BASE_URL),r(n,E),r(n,g),r(e,m),r(e,b),r(b,T),r(b,w),r(b,k),r(k,$),H(Ie,O,ye),H(Ie,P,ye),r(P,M),r(M,V),r(P,S),pe(q,P,null),r(P,L),r(P,U),r(U,j),r(U,F),r(U,J),r(J,ne),H(Ie,ie,ye),H(Ie,ae,ye),r(ae,Q),r(Q,te),r(ae,ee),r(ae,z),r(z,be),pe(re,be,null),H(Ie,ue,ye),H(Ie,oe,ye),r(oe,Te),r(Te,me),r(oe,De),r(oe,Se),r(Se,ke),pe(we,ke,null),H(Ie,Ae,ye),H(Ie,x,ye),r(x,ce),r(ce,Ce),r(x,le),r(x,de),r(de,$e),pe(Ne,$e,null),Oe=!0,He||(We=[fe(f,"input",l[16]),fe(g,"click",l[17])],He=!0)},p(Ie,ye){(!Oe||ye[0]&32)&&s!==(s=Ie[5].t("AUTOMATIC1111 Base URL")+"")&&K(a,s),(!Oe||ye[0]&32&&h!==(h=Ie[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(f,"placeholder",h),ye[0]&2&&f.value!==Ie[1].automatic1111.AUTOMATIC1111_BASE_URL&&se(f,Ie[1].automatic1111.AUTOMATIC1111_BASE_URL),(!Oe||ye[0]&32)&&I!==(I=Ie[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&K(T,I),(!Oe||ye[0]&32)&&D!==(D=Ie[5].t("(e.g. `sh webui.sh --api`)")+"")&&K($,D),(!Oe||ye[0]&32)&&N!==(N=Ie[5].t("AUTOMATIC1111 Api Auth String")+"")&&K(V,N);const ht={};ye[0]&32&&(ht.placeholder=Ie[5].t("Enter api auth string (e.g. username:password)")),!Y&&ye[0]&2&&(Y=!0,ht.value=Ie[1].automatic1111.AUTOMATIC1111_API_AUTH,tt(()=>Y=!1)),q.$set(ht),(!Oe||ye[0]&32)&&B!==(B=Ie[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&K(j,B),(!Oe||ye[0]&32)&&X!==(X=Ie[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&K(ne,X),(!Oe||ye[0]&32)&&Z!==(Z=Ie[5].t("Set Sampler")+"")&&K(te,Z);const Je={};ye[0]&32&&(Je.content=Ie[5].t("Enter Sampler (e.g. Euler a)")),ye[0]&34|ye[1]&8388608&&(Je.$$scope={dirty:ye,ctx:Ie}),re.$set(Je),(!Oe||ye[0]&32)&&ge!==(ge=Ie[5].t("Set Scheduler")+"")&&K(me,ge);const pt={};ye[0]&32&&(pt.content=Ie[5].t("Enter Scheduler (e.g. Karras)")),ye[0]&34|ye[1]&8388608&&(pt.$$scope={dirty:ye,ctx:Ie}),we.$set(pt),(!Oe||ye[0]&32)&&Be!==(Be=Ie[5].t("Set CFG Scale")+"")&&K(Ce,Be);const ze={};ye[0]&32&&(ze.content=Ie[5].t("Enter CFG Scale (e.g. 7.0)")),ye[0]&34|ye[1]&8388608&&(ze.$$scope={dirty:ye,ctx:Ie}),Ne.$set(ze)},i(Ie){Oe||(G(q.$$.fragment,Ie),G(re.$$.fragment,Ie),G(we.$$.fragment,Ie),G(Ne.$$.fragment,Ie),Oe=!0)},o(Ie){W(q.$$.fragment,Ie),W(re.$$.fragment,Ie),W(we.$$.fragment,Ie),W(Ne.$$.fragment,Ie),Oe=!1},d(Ie){Ie&&(c(e),c(O),c(P),c(ie),c(ae),c(ue),c(oe),c(Ae),c(x)),ve(q),ve(re),ve(we),ve(Ne),He=!1,gl(We)}}}function vn(l){let e,t,s;return{c(){e=d("textarea"),this.h()},l(a){e=_(a,"TEXTAREA",{class:!0,rows:!0}),p(e).forEach(c),this.h()},h(){o(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden disabled:text-gray-600 resize-none"),o(e,"rows","10"),e.required=!0},m(a,i){H(a,e,i),se(e,l[1].comfyui.COMFYUI_WORKFLOW),t||(s=fe(e,"input",l[25]),t=!0)},p(a,i){i[0]&2&&se(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&c(e),t=!1,s()}}}function mn(l){let e,t,s=l[5].t("ComfyUI Workflow Nodes")+"",a,i,n,u,f,h=l[5].t("*Prompt node ID(s) are required for image generation")+"",E,g,v=Vt(l[4]),m=[];for(let I=0;I<v.length;I+=1)m[I]=gn(cn(l,v,I));const b=I=>W(m[I],1,1,()=>{m[I]=null});return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div");for(let I=0;I<m.length;I+=1)m[I].c();u=A(),f=d("div"),E=R(h),this.h()},l(I){e=_(I,"DIV",{class:!0});var T=p(e);t=_(T,"DIV",{class:!0});var w=p(t);a=C(w,s),w.forEach(c),i=y(T),n=_(T,"DIV",{class:!0});var k=p(n);for(let $=0;$<m.length;$+=1)m[$].l(k);k.forEach(c),u=y(T),f=_(T,"DIV",{class:!0});var D=p(f);E=C(D,h),D.forEach(c),T.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(n,"class","text-xs flex flex-col gap-1.5"),o(f,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),o(e,"class","")},m(I,T){H(I,e,T),r(e,t),r(t,a),r(e,i),r(e,n);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(n,null);r(e,u),r(e,f),r(f,E),g=!0},p(I,T){if((!g||T[0]&32)&&s!==(s=I[5].t("ComfyUI Workflow Nodes")+"")&&K(a,s),T[0]&16){v=Vt(I[4]);let w;for(w=0;w<v.length;w+=1){const k=cn(I,v,w);m[w]?(m[w].p(k,T),G(m[w],1)):(m[w]=gn(k),m[w].c(),G(m[w],1),m[w].m(n,null))}for(wt(),w=v.length;w<m.length;w+=1)b(w);kt()}(!g||T[0]&32)&&h!==(h=I[5].t("*Prompt node ID(s) are required for image generation")+"")&&K(E,h)},i(I){if(!g){for(let T=0;T<v.length;T+=1)G(m[T]);g=!0}},o(I){m=m.filter(Boolean);for(let T=0;T<m.length;T+=1)W(m[T]);g=!1},d(I){I&&c(e),wl(m,I)}}}function Qf(l){let e,t,s;function a(){l[28].call(e,l[52],l[53])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-hidden border-r dark:border-gray-850"),o(e,"placeholder","Key"),e.required=!0},m(i,n){H(i,e,n),se(e,l[51].key),t||(s=fe(e,"input",a),t=!0)},p(i,n){l=i,n[0]&16&&e.value!==l[51].key&&se(e,l[51].key)},d(i){i&&c(e),t=!1,s()}}}function xf(l){let e,t,s;function a(){l[29].call(e,l[52],l[53])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-hidden"),o(e,"placeholder","Node Ids")},m(i,n){H(i,e,n),se(e,l[51].node_ids),t||(s=fe(e,"input",a),t=!0)},p(i,n){l=i,n[0]&16&&e.value!==l[51].node_ids&&se(e,l[51].node_ids)},d(i){i&&c(e),t=!1,s()}}}function gn(l){let e,t,s,a=l[51].type+"",i,n=l[51].type==="prompt"?"*":"",u,f,h,E,g,v,m,b,I;return E=new Yt({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[Qf]},$$scope:{ctx:l}}}),m=new Yt({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[xf]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),u=R(n),f=A(),h=d("div"),_e(E.$$.fragment),g=A(),v=d("div"),_e(m.$$.fragment),b=A(),this.h()},l(T){e=_(T,"DIV",{class:!0});var w=p(e);t=_(w,"DIV",{class:!0});var k=p(t);s=_(k,"DIV",{class:!0});var D=p(s);i=C(D,a),u=C(D,n),D.forEach(c),k.forEach(c),f=y(w),h=_(w,"DIV",{class:!0});var $=p(h);he(E.$$.fragment,$),$.forEach(c),g=y(w),v=_(w,"DIV",{class:!0});var O=p(v);he(m.$$.fragment,O),O.forEach(c),b=y(w),w.forEach(c),this.h()},h(){o(s,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),o(t,"class","shrink-0"),o(h,"class",""),o(v,"class","w-full"),o(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(T,w){H(T,e,w),r(e,t),r(t,s),r(s,i),r(s,u),r(e,f),r(e,h),pe(E,h,null),r(e,g),r(e,v),pe(m,v,null),r(e,b),I=!0},p(T,w){(!I||w[0]&16)&&a!==(a=T[51].type+"")&&K(i,a),(!I||w[0]&16)&&n!==(n=T[51].type==="prompt"?"*":"")&&K(u,n);const k={};w[0]&16|w[1]&8388608&&(k.$$scope={dirty:w,ctx:T}),E.$set(k);const D={};w[0]&16|w[1]&8388608&&(D.$$scope={dirty:w,ctx:T}),m.$set(D)},i(T){I||(G(E.$$.fragment,T),G(m.$$.fragment,T),I=!0)},o(T){W(E.$$.fragment,T),W(m.$$.fragment,T),I=!1},d(T){T&&c(e),ve(E),ve(m)}}}function En(l){let e,t=l[48]+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value=l[48],se(e,e.__value)},m(a,i){H(a,e,i),r(e,s)},p:gt,d(a){a&&c(e)}}}function ec(l){let e,t,s,a,i,n,u=Vt(l[7]??[]),f=[];for(let h=0;h<u.length;h+=1)f[h]=En(_n(l,u,h));return{c(){e=d("input"),s=A(),a=d("datalist");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),s=y(h),a=_(h,"DATALIST",{id:!0});var E=p(a);for(let g=0;g<f.length;g+=1)f[g].l(E);E.forEach(c),this.h()},h(){o(e,"list","sampler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Sampler (e.g. Euler a)")),o(a,"id","sampler-list")},m(h,E){H(h,e,E),se(e,l[1].automatic1111.AUTOMATIC1111_SAMPLER),H(h,s,E),H(h,a,E);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(a,null);i||(n=fe(e,"input",l[19]),i=!0)},p(h,E){if(E[0]&32&&t!==(t=h[5].t("Enter Sampler (e.g. Euler a)"))&&o(e,"placeholder",t),E[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SAMPLER&&se(e,h[1].automatic1111.AUTOMATIC1111_SAMPLER),E[0]&128){u=Vt(h[7]??[]);let g;for(g=0;g<u.length;g+=1){const v=_n(h,u,g);f[g]?f[g].p(v,E):(f[g]=En(v),f[g].c(),f[g].m(a,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}},d(h){h&&(c(e),c(s),c(a)),wl(f,h),i=!1,n()}}}function bn(l){let e,t=l[45]+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value=l[45],se(e,e.__value)},m(a,i){H(a,e,i),r(e,s)},p:gt,d(a){a&&c(e)}}}function tc(l){let e,t,s,a,i,n,u=Vt(l[8]??[]),f=[];for(let h=0;h<u.length;h+=1)f[h]=bn(dn(l,u,h));return{c(){e=d("input"),s=A(),a=d("datalist");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),s=y(h),a=_(h,"DATALIST",{id:!0});var E=p(a);for(let g=0;g<f.length;g+=1)f[g].l(E);E.forEach(c),this.h()},h(){o(e,"list","scheduler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Scheduler (e.g. Karras)")),o(a,"id","scheduler-list")},m(h,E){H(h,e,E),se(e,l[1].automatic1111.AUTOMATIC1111_SCHEDULER),H(h,s,E),H(h,a,E);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(a,null);i||(n=fe(e,"input",l[20]),i=!0)},p(h,E){if(E[0]&32&&t!==(t=h[5].t("Enter Scheduler (e.g. Karras)"))&&o(e,"placeholder",t),E[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SCHEDULER&&se(e,h[1].automatic1111.AUTOMATIC1111_SCHEDULER),E[0]&256){u=Vt(h[8]??[]);let g;for(g=0;g<u.length;g+=1){const v=dn(h,u,g);f[g]?f[g].p(v,E):(f[g]=bn(v),f[g].c(),f[g].m(a,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}},d(h){h&&(c(e),c(s),c(a)),wl(f,h),i=!1,n()}}}function lc(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter CFG Scale (e.g. 7.0)"))},m(i,n){H(i,e,n),se(e,l[1].automatic1111.AUTOMATIC1111_CFG_SCALE),s||(a=fe(e,"input",l[21]),s=!0)},p(i,n){n[0]&32&&t!==(t=i[5].t("Enter CFG Scale (e.g. 7.0)"))&&o(e,"placeholder",t),n[0]&2&&e.value!==i[1].automatic1111.AUTOMATIC1111_CFG_SCALE&&se(e,i[1].automatic1111.AUTOMATIC1111_CFG_SCALE)},d(i){i&&c(e),s=!1,a()}}}function In(l){let e,t,s,a,i=l[5].t("Set Default Model")+"",n,u,f,h,E,g,v,m,b,I,T=l[5].t("Set Image Size")+"",w,k,D,$,O,P,M,N,V=l[5].t("Set Steps")+"",S,q,Y,L,U,B;return v=new Yt({props:{content:l[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[sc]},$$scope:{ctx:l}}}),O=new Yt({props:{content:l[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[ac]},$$scope:{ctx:l}}}),U=new Yt({props:{content:l[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[rc]},$$scope:{ctx:l}}}),{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),n=R(i),u=A(),f=d("div"),h=d("div"),E=d("div"),g=d("div"),_e(v.$$.fragment),m=A(),b=d("div"),I=d("div"),w=R(T),k=A(),D=d("div"),$=d("div"),_e(O.$$.fragment),P=A(),M=d("div"),N=d("div"),S=R(V),q=A(),Y=d("div"),L=d("div"),_e(U.$$.fragment),this.h()},l(j){e=_(j,"HR",{class:!0}),t=y(j),s=_(j,"DIV",{});var F=p(s);a=_(F,"DIV",{class:!0});var J=p(a);n=C(J,i),J.forEach(c),u=y(F),f=_(F,"DIV",{class:!0});var X=p(f);h=_(X,"DIV",{class:!0});var ne=p(h);E=_(ne,"DIV",{class:!0});var ie=p(E);g=_(ie,"DIV",{class:!0});var ae=p(g);he(v.$$.fragment,ae),ae.forEach(c),ie.forEach(c),ne.forEach(c),X.forEach(c),F.forEach(c),m=y(j),b=_(j,"DIV",{});var Q=p(b);I=_(Q,"DIV",{class:!0});var Z=p(I);w=C(Z,T),Z.forEach(c),k=y(Q),D=_(Q,"DIV",{class:!0});var te=p(D);$=_(te,"DIV",{class:!0});var ee=p($);he(O.$$.fragment,ee),ee.forEach(c),te.forEach(c),Q.forEach(c),P=y(j),M=_(j,"DIV",{});var z=p(M);N=_(z,"DIV",{class:!0});var be=p(N);S=C(be,V),be.forEach(c),q=y(z),Y=_(z,"DIV",{class:!0});var re=p(Y);L=_(re,"DIV",{class:!0});var ue=p(L);he(U.$$.fragment,ue),ue.forEach(c),re.forEach(c),z.forEach(c),this.h()},h(){o(e,"class","border-gray-100 dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(g,"class","flex-1"),o(E,"class","flex w-full"),o(h,"class","flex-1 mr-2"),o(f,"class","flex w-full"),o(I,"class","mb-2.5 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(D,"class","flex w-full"),o(N,"class","mb-2.5 text-sm font-medium"),o(L,"class","flex-1 mr-2"),o(Y,"class","flex w-full")},m(j,F){H(j,e,F),H(j,t,F),H(j,s,F),r(s,a),r(a,n),r(s,u),r(s,f),r(f,h),r(h,E),r(E,g),pe(v,g,null),H(j,m,F),H(j,b,F),r(b,I),r(I,w),r(b,k),r(b,D),r(D,$),pe(O,$,null),H(j,P,F),H(j,M,F),r(M,N),r(N,S),r(M,q),r(M,Y),r(Y,L),pe(U,L,null),B=!0},p(j,F){(!B||F[0]&32)&&i!==(i=j[5].t("Set Default Model")+"")&&K(n,i);const J={};F[0]&32&&(J.content=j[5].t("Enter Model ID")),F[0]&12|F[1]&8388608&&(J.$$scope={dirty:F,ctx:j}),v.$set(J),(!B||F[0]&32)&&T!==(T=j[5].t("Set Image Size")+"")&&K(w,T);const X={};F[0]&32&&(X.content=j[5].t("Enter Image Size (e.g. 512x512)")),F[0]&36|F[1]&8388608&&(X.$$scope={dirty:F,ctx:j}),O.$set(X),(!B||F[0]&32)&&V!==(V=j[5].t("Set Steps")+"")&&K(S,V);const ne={};F[0]&32&&(ne.content=j[5].t("Enter Number of Steps (e.g. 50)")),F[0]&36|F[1]&8388608&&(ne.$$scope={dirty:F,ctx:j}),U.$set(ne)},i(j){B||(G(v.$$.fragment,j),G(O.$$.fragment,j),G(U.$$.fragment,j),B=!0)},o(j){W(v.$$.fragment,j),W(O.$$.fragment,j),W(U.$$.fragment,j),B=!1},d(j){j&&(c(e),c(t),c(s),c(m),c(b),c(P),c(M)),ve(v),ve(O),ve(U)}}}function wn(l){let e,t=l[42].name+"",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[42].id,se(e,e.__value)},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&8&&t!==(t=i[42].name+"")&&K(s,t),n[0]&8&&a!==(a=i[42].id)&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function sc(l){let e,t,s,a,i,n=Vt(l[3]??[]),u=[];for(let f=0;f<n.length;f+=1)u[f]=wn(fn(l,n,f));return{c(){e=d("input"),t=A(),s=d("datalist");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=_(f,"INPUT",{list:!0,class:!0,placeholder:!0}),t=y(f),s=_(f,"DATALIST",{id:!0});var h=p(s);for(let E=0;E<u.length;E+=1)u[E].l(h);h.forEach(c),this.h()},h(){o(e,"list","model-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder","Select a model"),e.required=!0,o(s,"id","model-list")},m(f,h){H(f,e,h),se(e,l[2].MODEL),H(f,t,h),H(f,s,h);for(let E=0;E<u.length;E+=1)u[E]&&u[E].m(s,null);a||(i=fe(e,"input",l[34]),a=!0)},p(f,h){if(h[0]&4&&e.value!==f[2].MODEL&&se(e,f[2].MODEL),h[0]&8){n=Vt(f[3]??[]);let E;for(E=0;E<n.length;E+=1){const g=fn(f,n,E);u[E]?u[E].p(g,h):(u[E]=wn(g),u[E].c(),u[E].m(s,null))}for(;E<u.length;E+=1)u[E].d(1);u.length=n.length}},d(f){f&&(c(e),c(t),c(s)),wl(u,f),a=!1,i()}}}function ac(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(i,n){H(i,e,n),se(e,l[2].IMAGE_SIZE),s||(a=fe(e,"input",l[35]),s=!0)},p(i,n){n[0]&32&&t!==(t=i[5].t("Enter Image Size (e.g. 512x512)"))&&o(e,"placeholder",t),n[0]&4&&e.value!==i[2].IMAGE_SIZE&&se(e,i[2].IMAGE_SIZE)},d(i){i&&c(e),s=!1,a()}}}function rc(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(i,n){H(i,e,n),se(e,l[2].IMAGE_STEPS),s||(a=fe(e,"input",l[36]),s=!0)},p(i,n){n[0]&32&&t!==(t=i[5].t("Enter Number of Steps (e.g. 50)"))&&o(e,"placeholder",t),n[0]&4&&e.value!==i[2].IMAGE_STEPS&&se(e,i[2].IMAGE_STEPS)},d(i){i&&c(e),s=!1,a()}}}function kn(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function nc(l){let e,t,s,a,i,n=l[5].t("Save")+"",u,f,h,E,g,v,m=l[1]&&l[2]&&hn(l),b=l[0]&&kn();return{c(){e=d("form"),t=d("div"),m&&m.c(),s=A(),a=d("div"),i=d("button"),u=R(n),f=A(),b&&b.c(),this.h()},l(I){e=_(I,"FORM",{class:!0});var T=p(e);t=_(T,"DIV",{class:!0});var w=p(t);m&&m.l(w),w.forEach(c),s=y(T),a=_(T,"DIV",{class:!0});var k=p(a);i=_(k,"BUTTON",{class:!0,type:!0});var D=p(i);u=C(D,n),f=y(D),b&&b.l(D),D.forEach(c),k.forEach(c),T.forEach(c),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),o(i,"class",h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[0]?" cursor-not-allowed":"")),o(i,"type","submit"),i.disabled=l[0],o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(I,T){H(I,e,T),r(e,t),m&&m.m(t,null),r(e,s),r(e,a),r(a,i),r(i,u),r(i,f),b&&b.m(i,null),E=!0,g||(v=fe(e,"submit",vs(l[37])),g=!0)},p(I,T){I[1]&&I[2]?m?(m.p(I,T),T[0]&6&&G(m,1)):(m=hn(I),m.c(),G(m,1),m.m(t,null)):m&&(wt(),W(m,1,1,()=>{m=null}),kt()),(!E||T[0]&32)&&n!==(n=I[5].t("Save")+"")&&K(u,n),I[0]?b||(b=kn(),b.c(),b.m(i,null)):b&&(b.d(1),b=null),(!E||T[0]&1&&h!==(h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(I[0]?" cursor-not-allowed":"")))&&o(i,"class",h),(!E||T[0]&1)&&(i.disabled=I[0])},i(I){E||(G(m),E=!0)},o(I){W(m),E=!1},d(I){I&&c(e),m&&m.d(),b&&b.d(),g=!1,v()}}}function ic(l,e,t){let s,a;el(l,Xs,re=>t(38,s=re));const i=Ms(),n=Ml("i18n");el(l,n,re=>t(5,a=re));let u=!1,f=null,h=null,E=null,g=["DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Heun","DPM++ 2S a","DPM++ 3M SDE","Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM fast","DPM adaptive","Restart","DDIM","DDIM CFG++","PLMS","UniPC"],v=["Automatic","Uniform","Karras","Exponential","Polyexponential","SGM Uniform","KL Optimal","Align Your Steps","Simple","Normal","DDIM","Beta"],m=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const b=async()=>{t(3,E=await _u(localStorage.token).catch(re=>(et.error(`${re}`),null)))},I=async()=>{const re=await Tr(localStorage.token,f).catch(ue=>(et.error(`${ue}`),null)).catch(ue=>(et.error(`${ue}`),null));re&&t(1,f=re),f.enabled&&(ss.set(await js()),b())},T=re=>{try{const ue=JSON.parse(re);if(ue&&typeof ue=="object")return!0}catch{}return!1},w=async()=>{var re,ue;if(t(0,u=!0),(re=f==null?void 0:f.comfyui)!=null&&re.COMFYUI_WORKFLOW&&!T(f.comfyui.COMFYUI_WORKFLOW)){et.error("Invalid JSON format for ComfyUI Workflow."),t(0,u=!1);return}(ue=f==null?void 0:f.comfyui)!=null&&ue.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW_NODES=m.map(oe=>({type:oe.type,key:oe.key,node_ids:oe.node_ids.trim()===""?[]:oe.node_ids.split(",").map(Te=>Te.trim())})),f),await Tr(localStorage.token,f).catch(oe=>(et.error(`${oe}`),t(0,u=!1),null)),await hu(localStorage.token,h).catch(oe=>(et.error(`${oe}`),t(0,u=!1),null)),b(),i("save"),t(0,u=!1)};as(async()=>{if(s.role==="admin"){const re=await cu(localStorage.token).catch(oe=>(et.error(`${oe}`),null));re&&t(1,f=re),f.enabled&&b(),f.comfyui.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(f.comfyui.COMFYUI_WORKFLOW),null,2),f),t(4,m=m.map(oe=>{const Te=f.comfyui.COMFYUI_WORKFLOW_NODES.find(ge=>ge.type===oe.type)??oe;return console.log(Te),{type:Te.type,key:Te.key,node_ids:typeof Te.node_ids=="string"?Te.node_ids:Te.node_ids.join(",")}}));const ue=await du(localStorage.token).catch(oe=>(et.error(`${oe}`),null));ue&&t(2,h=ue)}});function k(re){l.$$.not_equal(f.enabled,re)&&(f.enabled=re,t(1,f))}const D=re=>{re.detail&&(f.engine==="automatic1111"&&f.automatic1111.AUTOMATIC1111_BASE_URL===""?(et.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="comfyui"&&f.comfyui.COMFYUI_BASE_URL===""?(et.error(a.t("ComfyUI Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="openai"&&f.openai.OPENAI_API_KEY===""?(et.error(a.t("OpenAI API Key is required.")),t(1,f.enabled=!1,f)):f.engine==="gemini"&&f.gemini.GEMINI_API_KEY===""&&(et.error(a.t("Gemini API Key is required.")),t(1,f.enabled=!1,f))),I()};function $(re){l.$$.not_equal(f.prompt_generation,re)&&(f.prompt_generation=re,t(1,f))}function O(){f.engine=Pl(this),t(1,f)}const P=async()=>{I()};function M(){f.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,f)}const N=async()=>{await I(),await Dr(localStorage.token).catch(ue=>(et.error(`${ue}`),null))&&et.success(a.t("Server connection verified"))};function V(re){l.$$.not_equal(f.automatic1111.AUTOMATIC1111_API_AUTH,re)&&(f.automatic1111.AUTOMATIC1111_API_AUTH=re,t(1,f))}function S(){f.automatic1111.AUTOMATIC1111_SAMPLER=this.value,t(1,f)}function q(){f.automatic1111.AUTOMATIC1111_SCHEDULER=this.value,t(1,f)}function Y(){f.automatic1111.AUTOMATIC1111_CFG_SCALE=this.value,t(1,f)}function L(){f.comfyui.COMFYUI_BASE_URL=this.value,t(1,f)}const U=async()=>{await I(),await Dr(localStorage.token).catch(ue=>(et.error(`${ue}`),null))&&et.success(a.t("Server connection verified"))};function B(re){l.$$.not_equal(f.comfyui.COMFYUI_API_KEY,re)&&(f.comfyui.COMFYUI_API_KEY=re,t(1,f))}function j(){f.comfyui.COMFYUI_WORKFLOW=this.value,t(1,f)}const F=re=>{const ue=re.target.files[0],oe=new FileReader;oe.onload=Te=>{t(1,f.comfyui.COMFYUI_WORKFLOW=Te.target.result,f),Te.target.value=null},oe.readAsText(ue)},J=()=>{var re;(re=document.getElementById("upload-comfyui-workflow-input"))==null||re.click()};function X(re,ue){re[ue].key=this.value,t(4,m)}function ne(re,ue){re[ue].node_ids=this.value,t(4,m)}function ie(){f.openai.OPENAI_API_BASE_URL=this.value,t(1,f)}function ae(re){l.$$.not_equal(f.openai.OPENAI_API_KEY,re)&&(f.openai.OPENAI_API_KEY=re,t(1,f))}function Q(){f.gemini.GEMINI_API_BASE_URL=this.value,t(1,f)}function Z(re){l.$$.not_equal(f.gemini.GEMINI_API_KEY,re)&&(f.gemini.GEMINI_API_KEY=re,t(1,f))}function te(){h.MODEL=this.value,t(2,h)}function ee(){h.IMAGE_SIZE=this.value,t(2,h)}function z(){h.IMAGE_STEPS=this.value,t(2,h)}return[u,f,h,E,m,a,n,g,v,I,w,k,D,$,O,P,M,N,V,S,q,Y,L,U,B,j,F,J,X,ne,ie,ae,Q,Z,te,ee,z,async()=>{w()}]}class oc extends $l{constructor(e){super(),Vl(this,e,ic,nc,yl,{},null,[-1,-1])}}function Tn(l,e,t){const s=l.slice();return s[35]=e[t],s[36]=e,s[37]=t,s}function Dn(l,e,t){const s=l.slice();return s[38]=e[t],s[39]=e,s[40]=t,s}function An(l,e,t){const s=l.slice();return s[41]=e[t],s}function yn(l,e,t){const s=l.slice();return s[41]=e[t],s}function $n(l){let e,t,s,a,i=l[3].t("Tasks")+"",n,u,f,h,E,g,v=l[3].t("Set Task Model")+"",m,b,I,T,w,k,D,$=l[3].t("Local Models")+"",O,P,M,N,V=l[3].t("Current Model")+"",S,q,Y,L,U,B=l[3].t("External Models")+"",j,F,J,X,ne=l[3].t("Current Model")+"",ie,ae,Q,Z,te,ee=l[3].t("Title Generation")+"",z,be,re,ue,oe,Te,ge,me,De=l[3].t("Tags Generation")+"",Se,ke,we,Ae,x,ce,Be,Ce,le=l[3].t("Retrieval Query Generation")+"",de,$e,Ne,Oe,He,We,Ze,je=l[3].t("Web Search Query Generation")+"",Ie,ye,ht,Je,pt,ze,ot,bt=l[3].t("Query Generation Prompt")+"",Ve,dt,Et,ut,mt,Tt,yt=l[3].t("Autocomplete Generation")+"",_t,ct,vt,Me,Ke,Nt,It,Re=l[3].t("Image Prompt Generation Prompt")+"",Ge,ft,jt,Rt,Gt,Le,Fe=l[3].t("Tools Function Calling Prompt")+"",Ut,Dt,Ue,Ee,rt,Pt,Ct=l[3].t("UI")+"",$t,Mt,Lt,At,Ye,nt,Ot,Kt=l[3].t("Banners")+"",st,sl,Wt,Xt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',zt,al,it,St,Bt,il,El,dl=l[3].t("Save")+"",Il,qt,tl,Tl;I=new Yt({props:{content:l[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[uc]},$$scope:{ctx:l}}});let Dl=Vt(l[4].filter(Bn)),ol=[];for(let Pe=0;Pe<Dl.length;Pe+=1)ol[Pe]=Vn(yn(l,Dl,Pe));let Al=Vt(l[4]),hl=[];for(let Pe=0;Pe<Al.length;Pe+=1)hl[Pe]=Nn(An(l,Al,Pe));function Nl(Pe){l[11](Pe)}let zl={};l[0].ENABLE_TITLE_GENERATION!==void 0&&(zl.state=l[0].ENABLE_TITLE_GENERATION),re=new pl({props:zl}),Xe.push(()=>lt(re,"state",Nl));let nl=l[0].ENABLE_TITLE_GENERATION&&On(l);function fs(Pe){l[13](Pe)}let Jt={};l[0].ENABLE_TAGS_GENERATION!==void 0&&(Jt.state=l[0].ENABLE_TAGS_GENERATION),we=new pl({props:Jt}),Xe.push(()=>lt(we,"state",fs));let Ft=l[0].ENABLE_TAGS_GENERATION&&Pn(l);function fl(Pe){l[15](Pe)}let rs={};l[0].ENABLE_RETRIEVAL_QUERY_GENERATION!==void 0&&(rs.state=l[0].ENABLE_RETRIEVAL_QUERY_GENERATION),Ne=new pl({props:rs}),Xe.push(()=>lt(Ne,"state",fl));function Ql(Pe){l[16](Pe)}let ns={};l[0].ENABLE_SEARCH_QUERY_GENERATION!==void 0&&(ns.state=l[0].ENABLE_SEARCH_QUERY_GENERATION),ht=new pl({props:ns}),Xe.push(()=>lt(ht,"state",Ql)),Et=new Yt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[dc]},$$scope:{ctx:l}}}),vt=new Yt({props:{content:l[3].t("Enable autocomplete generation for chat messages"),$$slots:{default:[_c]},$$scope:{ctx:l}}});let cl=l[0].ENABLE_AUTOCOMPLETE_GENERATION&&Sn(l);jt=new Yt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[pc]},$$scope:{ctx:l}}}),Ue=new Yt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[vc]},$$scope:{ctx:l}}});let qe=Vt(l[2]),xe=[];for(let Pe=0;Pe<qe.length;Pe+=1)xe[Pe]=Ln(Dn(l,qe,Pe));const xl=Pe=>W(xe[Pe],1,1,()=>{xe[Pe]=null});let ul=l[5].role==="admin"&&Rn(l);return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),n=R(i),u=A(),f=d("hr"),h=A(),E=d("div"),g=d("div"),m=R(v),b=A(),_e(I.$$.fragment),T=A(),w=d("div"),k=d("div"),D=d("div"),O=R($),P=A(),M=d("select"),N=d("option"),S=R(V);for(let Pe=0;Pe<ol.length;Pe+=1)ol[Pe].c();Y=A(),L=d("div"),U=d("div"),j=R(B),F=A(),J=d("select"),X=d("option"),ie=R(ne);for(let Pe=0;Pe<hl.length;Pe+=1)hl[Pe].c();Q=A(),Z=d("div"),te=d("div"),z=R(ee),be=A(),_e(re.$$.fragment),oe=A(),nl&&nl.c(),Te=A(),ge=d("div"),me=d("div"),Se=R(De),ke=A(),_e(we.$$.fragment),x=A(),Ft&&Ft.c(),ce=A(),Be=d("div"),Ce=d("div"),de=R(le),$e=A(),_e(Ne.$$.fragment),He=A(),We=d("div"),Ze=d("div"),Ie=R(je),ye=A(),_e(ht.$$.fragment),pt=A(),ze=d("div"),ot=d("div"),Ve=R(bt),dt=A(),_e(Et.$$.fragment),ut=A(),mt=d("div"),Tt=d("div"),_t=R(yt),ct=A(),_e(vt.$$.fragment),Me=A(),cl&&cl.c(),Ke=A(),Nt=d("div"),It=d("div"),Ge=R(Re),ft=A(),_e(jt.$$.fragment),Rt=A(),Gt=d("div"),Le=d("div"),Ut=R(Fe),Dt=A(),_e(Ue.$$.fragment),Ee=A(),rt=d("div"),Pt=d("div"),$t=R(Ct),Mt=A(),Lt=d("hr"),At=A(),Ye=d("div"),nt=d("div"),Ot=d("div"),st=R(Kt),sl=A(),Wt=d("button"),Wt.innerHTML=Xt,zt=A(),al=d("div");for(let Pe=0;Pe<xe.length;Pe+=1)xe[Pe].c();St=A(),ul&&ul.c(),Bt=A(),il=d("div"),El=d("button"),Il=R(dl),this.h()},l(Pe){e=_(Pe,"FORM",{class:!0});var at=p(e);t=_(at,"DIV",{class:!0});var _l=p(t);s=_(_l,"DIV",{class:!0});var ll=p(s);a=_(ll,"DIV",{class:!0});var Rl=p(a);n=C(Rl,i),Rl.forEach(c),u=y(ll),f=_(ll,"HR",{class:!0}),h=y(ll),E=_(ll,"DIV",{class:!0});var Bl=p(E);g=_(Bl,"DIV",{class:!0});var Yl=p(g);m=C(Yl,v),Yl.forEach(c),b=y(Bl),he(I.$$.fragment,Bl),Bl.forEach(c),T=y(ll),w=_(ll,"DIV",{class:!0});var Jl=p(w);k=_(Jl,"DIV",{class:!0});var is=p(k);D=_(is,"DIV",{class:!0});var ql=p(D);O=C(ql,$),ql.forEach(c),P=y(is),M=_(is,"SELECT",{class:!0,placeholder:!0});var es=p(M);N=_(es,"OPTION",{});var Zt=p(N);S=C(Zt,V),Zt.forEach(c);for(let Hl=0;Hl<ol.length;Hl+=1)ol[Hl].l(es);es.forEach(c),is.forEach(c),Y=y(Jl),L=_(Jl,"DIV",{class:!0});var Ol=p(L);U=_(Ol,"DIV",{class:!0});var Cl=p(U);j=C(Cl,B),Cl.forEach(c),F=y(Ol),J=_(Ol,"SELECT",{class:!0,placeholder:!0});var gs=p(J);X=_(gs,"OPTION",{});var Es=p(X);ie=C(Es,ne),Es.forEach(c);for(let Hl=0;Hl<hl.length;Hl+=1)hl[Hl].l(gs);gs.forEach(c),Ol.forEach(c),Jl.forEach(c),Q=y(ll),Z=_(ll,"DIV",{class:!0});var Ds=p(Z);te=_(Ds,"DIV",{class:!0});var As=p(te);z=C(As,ee),As.forEach(c),be=y(Ds),he(re.$$.fragment,Ds),Ds.forEach(c),oe=y(ll),nl&&nl.l(ll),Te=y(ll),ge=_(ll,"DIV",{class:!0});var cs=p(ge);me=_(cs,"DIV",{class:!0});var Ls=p(me);Se=C(Ls,De),Ls.forEach(c),ke=y(cs),he(we.$$.fragment,cs),cs.forEach(c),x=y(ll),Ft&&Ft.l(ll),ce=y(ll),Be=_(ll,"DIV",{class:!0});var ys=p(Be);Ce=_(ys,"DIV",{class:!0});var Ul=p(Ce);de=C(Ul,le),Ul.forEach(c),$e=y(ys),he(Ne.$$.fragment,ys),ys.forEach(c),He=y(ll),We=_(ll,"DIV",{class:!0});var $s=p(We);Ze=_($s,"DIV",{class:!0});var Vs=p(Ze);Ie=C(Vs,je),Vs.forEach(c),ye=y($s),he(ht.$$.fragment,$s),$s.forEach(c),pt=y(ll),ze=_(ll,"DIV",{class:!0});var Wl=p(ze);ot=_(Wl,"DIV",{class:!0});var bs=p(ot);Ve=C(bs,bt),bs.forEach(c),dt=y(Wl),he(Et.$$.fragment,Wl),Wl.forEach(c),ut=y(ll),mt=_(ll,"DIV",{class:!0});var ts=p(mt);Tt=_(ts,"DIV",{class:!0});var Ns=p(Tt);_t=C(Ns,yt),Ns.forEach(c),ct=y(ts),he(vt.$$.fragment,ts),ts.forEach(c),Me=y(ll),cl&&cl.l(ll),Ke=y(ll),Nt=_(ll,"DIV",{class:!0});var Is=p(Nt);It=_(Is,"DIV",{class:!0});var os=p(It);Ge=C(os,Re),os.forEach(c),ft=y(Is),he(jt.$$.fragment,Is),Is.forEach(c),Rt=y(ll),Gt=_(ll,"DIV",{class:!0});var ds=p(Gt);Le=_(ds,"DIV",{class:!0});var Fl=p(Le);Ut=C(Fl,Fe),Fl.forEach(c),Dt=y(ds),he(Ue.$$.fragment,ds),ds.forEach(c),ll.forEach(c),Ee=y(_l),rt=_(_l,"DIV",{class:!0});var us=p(rt);Pt=_(us,"DIV",{class:!0});var ws=p(Pt);$t=C(ws,Ct),ws.forEach(c),Mt=y(us),Lt=_(us,"HR",{class:!0}),At=y(us),Ye=_(us,"DIV",{class:!0});var ms=p(Ye);nt=_(ms,"DIV",{class:!0});var _s=p(nt);Ot=_(_s,"DIV",{class:!0});var Rs=p(Ot);st=C(Rs,Kt),Rs.forEach(c),sl=y(_s),Wt=_(_s,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt(Wt)!=="svelte-62xclb"&&(Wt.innerHTML=Xt),_s.forEach(c),zt=y(ms),al=_(ms,"DIV",{class:!0});var hs=p(al);for(let Hl=0;Hl<xe.length;Hl+=1)xe[Hl].l(hs);hs.forEach(c),ms.forEach(c),St=y(us),ul&&ul.l(us),us.forEach(c),_l.forEach(c),Bt=y(at),il=_(at,"DIV",{class:!0});var ks=p(il);El=_(ks,"BUTTON",{class:!0,type:!0});var Ts=p(El);Il=C(Ts,dl),Ts.forEach(c),ks.forEach(c),at.forEach(c),this.h()},h(){o(a,"class","mb-2.5 text-base font-medium"),o(f,"class","border-gray-100 dark:border-gray-850 my-2"),o(g,"class","text-xs mr-1"),o(E,"class","mb-1 font-medium flex items-center"),o(D,"class","text-xs mb-1"),N.__value="",se(N,N.__value),N.selected=!0,o(M,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(M,"placeholder",q=l[3].t("Select a model")),l[0].TASK_MODEL===void 0&&Sl(()=>l[9].call(M)),o(k,"class","flex-1"),o(U,"class","text-xs mb-1"),X.__value="",se(X,X.__value),X.selected=!0,o(J,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(J,"placeholder",ae=l[3].t("Select a model")),l[0].TASK_MODEL_EXTERNAL===void 0&&Sl(()=>l[10].call(J)),o(L,"class","flex-1"),o(w,"class","mb-2.5 flex w-full gap-2"),o(te,"class","self-center text-xs font-medium"),o(Z,"class","mb-2.5 flex w-full items-center justify-between"),o(me,"class","self-center text-xs font-medium"),o(ge,"class","mb-2.5 flex w-full items-center justify-between"),o(Ce,"class","self-center text-xs font-medium"),o(Be,"class","mb-2.5 flex w-full items-center justify-between"),o(Ze,"class","self-center text-xs font-medium"),o(We,"class","mb-2.5 flex w-full items-center justify-between"),o(ot,"class","mb-1 text-xs font-medium"),o(ze,"class","mb-2.5"),o(Tt,"class","self-center text-xs font-medium"),o(mt,"class","mb-2.5 flex w-full items-center justify-between"),o(It,"class","mb-1 text-xs font-medium"),o(Nt,"class","mb-2.5"),o(Le,"class","mb-1 text-xs font-medium"),o(Gt,"class","mb-2.5"),o(s,"class","mb-3.5"),o(Pt,"class","mb-2.5 text-base font-medium"),o(Lt,"class","border-gray-100 dark:border-gray-850 my-2"),o(Ot,"class","self-center text-sm font-semibold"),o(Wt,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(Wt,"type","button"),o(nt,"class","mb-2.5 flex w-full justify-between"),o(al,"class","flex flex-col space-y-1"),o(Ye,"class",it=l[2].length>0?" mb-3":""),o(rt,"class","mb-3.5"),o(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(El,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(El,"type","submit"),o(il,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Pe,at){H(Pe,e,at),r(e,t),r(t,s),r(s,a),r(a,n),r(s,u),r(s,f),r(s,h),r(s,E),r(E,g),r(g,m),r(E,b),pe(I,E,null),r(s,T),r(s,w),r(w,k),r(k,D),r(D,O),r(k,P),r(k,M),r(M,N),r(N,S);for(let _l=0;_l<ol.length;_l+=1)ol[_l]&&ol[_l].m(M,null);xt(M,l[0].TASK_MODEL,!0),r(w,Y),r(w,L),r(L,U),r(U,j),r(L,F),r(L,J),r(J,X),r(X,ie);for(let _l=0;_l<hl.length;_l+=1)hl[_l]&&hl[_l].m(J,null);xt(J,l[0].TASK_MODEL_EXTERNAL,!0),r(s,Q),r(s,Z),r(Z,te),r(te,z),r(Z,be),pe(re,Z,null),r(s,oe),nl&&nl.m(s,null),r(s,Te),r(s,ge),r(ge,me),r(me,Se),r(ge,ke),pe(we,ge,null),r(s,x),Ft&&Ft.m(s,null),r(s,ce),r(s,Be),r(Be,Ce),r(Ce,de),r(Be,$e),pe(Ne,Be,null),r(s,He),r(s,We),r(We,Ze),r(Ze,Ie),r(We,ye),pe(ht,We,null),r(s,pt),r(s,ze),r(ze,ot),r(ot,Ve),r(ze,dt),pe(Et,ze,null),r(s,ut),r(s,mt),r(mt,Tt),r(Tt,_t),r(mt,ct),pe(vt,mt,null),r(s,Me),cl&&cl.m(s,null),r(s,Ke),r(s,Nt),r(Nt,It),r(It,Ge),r(Nt,ft),pe(jt,Nt,null),r(s,Rt),r(s,Gt),r(Gt,Le),r(Le,Ut),r(Gt,Dt),pe(Ue,Gt,null),r(t,Ee),r(t,rt),r(rt,Pt),r(Pt,$t),r(rt,Mt),r(rt,Lt),r(rt,At),r(rt,Ye),r(Ye,nt),r(nt,Ot),r(Ot,st),r(nt,sl),r(nt,Wt),r(Ye,zt),r(Ye,al);for(let _l=0;_l<xe.length;_l+=1)xe[_l]&&xe[_l].m(al,null);r(rt,St),ul&&ul.m(rt,null),r(e,Bt),r(e,il),r(il,El),r(El,Il),qt=!0,tl||(Tl=[fe(M,"change",l[9]),fe(J,"change",l[10]),fe(Wt,"click",l[22]),fe(e,"submit",vs(l[32]))],tl=!0)},p(Pe,at){(!qt||at[0]&8)&&i!==(i=Pe[3].t("Tasks")+"")&&K(n,i),(!qt||at[0]&8)&&v!==(v=Pe[3].t("Set Task Model")+"")&&K(m,v);const _l={};if(at[0]&8&&(_l.content=Pe[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),at[1]&32768&&(_l.$$scope={dirty:at,ctx:Pe}),I.$set(_l),(!qt||at[0]&8)&&$!==($=Pe[3].t("Local Models")+"")&&K(O,$),(!qt||at[0]&8)&&V!==(V=Pe[3].t("Current Model")+"")&&K(S,V),at[0]&16){Dl=Vt(Pe[4].filter(Bn));let Zt;for(Zt=0;Zt<Dl.length;Zt+=1){const Ol=yn(Pe,Dl,Zt);ol[Zt]?ol[Zt].p(Ol,at):(ol[Zt]=Vn(Ol),ol[Zt].c(),ol[Zt].m(M,null))}for(;Zt<ol.length;Zt+=1)ol[Zt].d(1);ol.length=Dl.length}if((!qt||at[0]&8&&q!==(q=Pe[3].t("Select a model")))&&o(M,"placeholder",q),at[0]&17&&xt(M,Pe[0].TASK_MODEL),(!qt||at[0]&8)&&B!==(B=Pe[3].t("External Models")+"")&&K(j,B),(!qt||at[0]&8)&&ne!==(ne=Pe[3].t("Current Model")+"")&&K(ie,ne),at[0]&16){Al=Vt(Pe[4]);let Zt;for(Zt=0;Zt<Al.length;Zt+=1){const Ol=An(Pe,Al,Zt);hl[Zt]?hl[Zt].p(Ol,at):(hl[Zt]=Nn(Ol),hl[Zt].c(),hl[Zt].m(J,null))}for(;Zt<hl.length;Zt+=1)hl[Zt].d(1);hl.length=Al.length}(!qt||at[0]&8&&ae!==(ae=Pe[3].t("Select a model")))&&o(J,"placeholder",ae),at[0]&17&&xt(J,Pe[0].TASK_MODEL_EXTERNAL),(!qt||at[0]&8)&&ee!==(ee=Pe[3].t("Title Generation")+"")&&K(z,ee);const ll={};!ue&&at[0]&1&&(ue=!0,ll.state=Pe[0].ENABLE_TITLE_GENERATION,tt(()=>ue=!1)),re.$set(ll),Pe[0].ENABLE_TITLE_GENERATION?nl?(nl.p(Pe,at),at[0]&1&&G(nl,1)):(nl=On(Pe),nl.c(),G(nl,1),nl.m(s,Te)):nl&&(wt(),W(nl,1,1,()=>{nl=null}),kt()),(!qt||at[0]&8)&&De!==(De=Pe[3].t("Tags Generation")+"")&&K(Se,De);const Rl={};!Ae&&at[0]&1&&(Ae=!0,Rl.state=Pe[0].ENABLE_TAGS_GENERATION,tt(()=>Ae=!1)),we.$set(Rl),Pe[0].ENABLE_TAGS_GENERATION?Ft?(Ft.p(Pe,at),at[0]&1&&G(Ft,1)):(Ft=Pn(Pe),Ft.c(),G(Ft,1),Ft.m(s,ce)):Ft&&(wt(),W(Ft,1,1,()=>{Ft=null}),kt()),(!qt||at[0]&8)&&le!==(le=Pe[3].t("Retrieval Query Generation")+"")&&K(de,le);const Bl={};!Oe&&at[0]&1&&(Oe=!0,Bl.state=Pe[0].ENABLE_RETRIEVAL_QUERY_GENERATION,tt(()=>Oe=!1)),Ne.$set(Bl),(!qt||at[0]&8)&&je!==(je=Pe[3].t("Web Search Query Generation")+"")&&K(Ie,je);const Yl={};!Je&&at[0]&1&&(Je=!0,Yl.state=Pe[0].ENABLE_SEARCH_QUERY_GENERATION,tt(()=>Je=!1)),ht.$set(Yl),(!qt||at[0]&8)&&bt!==(bt=Pe[3].t("Query Generation Prompt")+"")&&K(Ve,bt);const Jl={};at[0]&8&&(Jl.content=Pe[3].t("Leave empty to use the default prompt, or enter a custom prompt")),at[0]&9|at[1]&32768&&(Jl.$$scope={dirty:at,ctx:Pe}),Et.$set(Jl),(!qt||at[0]&8)&&yt!==(yt=Pe[3].t("Autocomplete Generation")+"")&&K(_t,yt);const is={};at[0]&8&&(is.content=Pe[3].t("Enable autocomplete generation for chat messages")),at[0]&1|at[1]&32768&&(is.$$scope={dirty:at,ctx:Pe}),vt.$set(is),Pe[0].ENABLE_AUTOCOMPLETE_GENERATION?cl?(cl.p(Pe,at),at[0]&1&&G(cl,1)):(cl=Sn(Pe),cl.c(),G(cl,1),cl.m(s,Ke)):cl&&(wt(),W(cl,1,1,()=>{cl=null}),kt()),(!qt||at[0]&8)&&Re!==(Re=Pe[3].t("Image Prompt Generation Prompt")+"")&&K(Ge,Re);const ql={};at[0]&8&&(ql.content=Pe[3].t("Leave empty to use the default prompt, or enter a custom prompt")),at[0]&9|at[1]&32768&&(ql.$$scope={dirty:at,ctx:Pe}),jt.$set(ql),(!qt||at[0]&8)&&Fe!==(Fe=Pe[3].t("Tools Function Calling Prompt")+"")&&K(Ut,Fe);const es={};if(at[0]&8&&(es.content=Pe[3].t("Leave empty to use the default prompt, or enter a custom prompt")),at[0]&9|at[1]&32768&&(es.$$scope={dirty:at,ctx:Pe}),Ue.$set(es),(!qt||at[0]&8)&&Ct!==(Ct=Pe[3].t("UI")+"")&&K($t,Ct),(!qt||at[0]&8)&&Kt!==(Kt=Pe[3].t("Banners")+"")&&K(st,Kt),at[0]&12){qe=Vt(Pe[2]);let Zt;for(Zt=0;Zt<qe.length;Zt+=1){const Ol=Dn(Pe,qe,Zt);xe[Zt]?(xe[Zt].p(Ol,at),G(xe[Zt],1)):(xe[Zt]=Ln(Ol),xe[Zt].c(),G(xe[Zt],1),xe[Zt].m(al,null))}for(wt(),Zt=qe.length;Zt<xe.length;Zt+=1)xl(Zt);kt()}(!qt||at[0]&4&&it!==(it=Pe[2].length>0?" mb-3":""))&&o(Ye,"class",it),Pe[5].role==="admin"?ul?ul.p(Pe,at):(ul=Rn(Pe),ul.c(),ul.m(rt,null)):ul&&(ul.d(1),ul=null),(!qt||at[0]&8)&&dl!==(dl=Pe[3].t("Save")+"")&&K(Il,dl)},i(Pe){if(!qt){G(I.$$.fragment,Pe),G(re.$$.fragment,Pe),G(nl),G(we.$$.fragment,Pe),G(Ft),G(Ne.$$.fragment,Pe),G(ht.$$.fragment,Pe),G(Et.$$.fragment,Pe),G(vt.$$.fragment,Pe),G(cl),G(jt.$$.fragment,Pe),G(Ue.$$.fragment,Pe);for(let at=0;at<qe.length;at+=1)G(xe[at]);qt=!0}},o(Pe){W(I.$$.fragment,Pe),W(re.$$.fragment,Pe),W(nl),W(we.$$.fragment,Pe),W(Ft),W(Ne.$$.fragment,Pe),W(ht.$$.fragment,Pe),W(Et.$$.fragment,Pe),W(vt.$$.fragment,Pe),W(cl),W(jt.$$.fragment,Pe),W(Ue.$$.fragment,Pe),xe=xe.filter(Boolean);for(let at=0;at<xe.length;at+=1)W(xe[at]);qt=!1},d(Pe){Pe&&c(e),ve(I),wl(ol,Pe),wl(hl,Pe),ve(re),nl&&nl.d(),ve(we),Ft&&Ft.d(),ve(Ne),ve(ht),ve(Et),ve(vt),cl&&cl.d(),ve(jt),ve(Ue),wl(xe,Pe),ul&&ul.d(),tl=!1,gl(Tl)}}}function uc(l){let e,t;return{c(){e=vl("svg"),t=vl("path"),this.h()},l(s){e=ml(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=p(e);t=ml(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","size-3.5")},m(s,a){H(s,e,a),r(e,t)},p:gt,d(s){s&&c(e)}}}function Vn(l){let e,t=l[41].name+"",s,a,i;return{c(){e=d("option"),s=R(t),a=A(),this.h()},l(n){e=_(n,"OPTION",{class:!0});var u=p(e);s=C(u,t),a=y(u),u.forEach(c),this.h()},h(){e.__value=i=l[41].id,se(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){H(n,e,u),r(e,s),r(e,a)},p(n,u){u[0]&16&&t!==(t=n[41].name+"")&&K(s,t),u[0]&16&&i!==(i=n[41].id)&&(e.__value=i,se(e,e.__value))},d(n){n&&c(e)}}}function Nn(l){let e,t=l[41].name+"",s,a,i;return{c(){e=d("option"),s=R(t),a=A(),this.h()},l(n){e=_(n,"OPTION",{class:!0});var u=p(e);s=C(u,t),a=y(u),u.forEach(c),this.h()},h(){e.__value=i=l[41].id,se(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,u){H(n,e,u),r(e,s),r(e,a)},p(n,u){u[0]&16&&t!==(t=n[41].name+"")&&K(s,t),u[0]&16&&i!==(i=n[41].id)&&(e.__value=i,se(e,e.__value))},d(n){n&&c(e)}}}function On(l){let e,t,s=l[3].t("Title Generation Prompt")+"",a,i,n,u;return n=new Yt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[fc]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),_e(n.$$.fragment),this.h()},l(f){e=_(f,"DIV",{class:!0});var h=p(e);t=_(h,"DIV",{class:!0});var E=p(t);a=C(E,s),E.forEach(c),i=y(h),he(n.$$.fragment,h),h.forEach(c),this.h()},h(){o(t,"class","mb-1 text-xs font-medium"),o(e,"class","mb-2.5")},m(f,h){H(f,e,h),r(e,t),r(t,a),r(e,i),pe(n,e,null),u=!0},p(f,h){(!u||h[0]&8)&&s!==(s=f[3].t("Title Generation Prompt")+"")&&K(a,s);const E={};h[0]&8&&(E.content=f[3].t("Leave empty to use the default prompt, or enter a custom prompt")),h[0]&9|h[1]&32768&&(E.$$scope={dirty:h,ctx:f}),n.$set(E)},i(f){u||(G(n.$$.fragment,f),u=!0)},o(f){W(n.$$.fragment,f),u=!1},d(f){f&&c(e),ve(n)}}}function fc(l){let e,t,s;function a(n){l[12](n)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TITLE_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].TITLE_GENERATION_PROMPT_TEMPLATE),e=new Ks({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u[0]&8&&(f.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&u[0]&1&&(t=!0,f.value=n[0].TITLE_GENERATION_PROMPT_TEMPLATE,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function Pn(l){let e,t,s=l[3].t("Tags Generation Prompt")+"",a,i,n,u;return n=new Yt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[cc]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),_e(n.$$.fragment),this.h()},l(f){e=_(f,"DIV",{class:!0});var h=p(e);t=_(h,"DIV",{class:!0});var E=p(t);a=C(E,s),E.forEach(c),i=y(h),he(n.$$.fragment,h),h.forEach(c),this.h()},h(){o(t,"class","mb-1 text-xs font-medium"),o(e,"class","mb-2.5")},m(f,h){H(f,e,h),r(e,t),r(t,a),r(e,i),pe(n,e,null),u=!0},p(f,h){(!u||h[0]&8)&&s!==(s=f[3].t("Tags Generation Prompt")+"")&&K(a,s);const E={};h[0]&8&&(E.content=f[3].t("Leave empty to use the default prompt, or enter a custom prompt")),h[0]&9|h[1]&32768&&(E.$$scope={dirty:h,ctx:f}),n.$set(E)},i(f){u||(G(n.$$.fragment,f),u=!0)},o(f){W(n.$$.fragment,f),u=!1},d(f){f&&c(e),ve(n)}}}function cc(l){let e,t,s;function a(n){l[14](n)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TAGS_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].TAGS_GENERATION_PROMPT_TEMPLATE),e=new Ks({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u[0]&8&&(f.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&u[0]&1&&(t=!0,f.value=n[0].TAGS_GENERATION_PROMPT_TEMPLATE,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function dc(l){let e,t,s;function a(n){l[17](n)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].QUERY_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].QUERY_GENERATION_PROMPT_TEMPLATE),e=new Ks({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u[0]&8&&(f.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&u[0]&1&&(t=!0,f.value=n[0].QUERY_GENERATION_PROMPT_TEMPLATE,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function _c(l){let e,t,s;function a(n){l[18](n)}let i={};return l[0].ENABLE_AUTOCOMPLETE_GENERATION!==void 0&&(i.state=l[0].ENABLE_AUTOCOMPLETE_GENERATION),e=new pl({props:i}),Xe.push(()=>lt(e,"state",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};!t&&u[0]&1&&(t=!0,f.state=n[0].ENABLE_AUTOCOMPLETE_GENERATION,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function Sn(l){let e,t,s=l[3].t("Autocomplete Generation Input Max Length")+"",a,i,n,u;return n=new Yt({props:{content:l[3].t("Character limit for autocomplete generation input"),placement:"top-start",$$slots:{default:[hc]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),_e(n.$$.fragment),this.h()},l(f){e=_(f,"DIV",{class:!0});var h=p(e);t=_(h,"DIV",{class:!0});var E=p(t);a=C(E,s),E.forEach(c),i=y(h),he(n.$$.fragment,h),h.forEach(c),this.h()},h(){o(t,"class","mb-1 text-xs font-medium"),o(e,"class","mb-2.5")},m(f,h){H(f,e,h),r(e,t),r(t,a),r(e,i),pe(n,e,null),u=!0},p(f,h){(!u||h[0]&8)&&s!==(s=f[3].t("Autocomplete Generation Input Max Length")+"")&&K(a,s);const E={};h[0]&8&&(E.content=f[3].t("Character limit for autocomplete generation input")),h[0]&9|h[1]&32768&&(E.$$scope={dirty:h,ctx:f}),n.$set(E)},i(f){u||(G(n.$$.fragment,f),u=!0)},o(f){W(n.$$.fragment,f),u=!1},d(f){f&&c(e),ve(n)}}}function hc(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full outline-hidden bg-transparent"),o(e,"placeholder",t=l[3].t("-1 for no limit, or a positive integer for a specific limit"))},m(i,n){H(i,e,n),se(e,l[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH),s||(a=fe(e,"input",l[19]),s=!0)},p(i,n){n[0]&8&&t!==(t=i[3].t("-1 for no limit, or a positive integer for a specific limit"))&&o(e,"placeholder",t),n[0]&17&&e.value!==i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH&&se(e,i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH)},d(i){i&&c(e),s=!1,a()}}}function pc(l){let e,t,s;function a(n){l[20](n)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE),e=new Ks({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u[0]&8&&(f.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&u[0]&1&&(t=!0,f.value=n[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function vc(l){let e,t,s;function a(n){l[21](n)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE),e=new Ks({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u[0]&8&&(f.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&u[0]&1&&(t=!0,f.value=n[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function Mn(l){let e,t=l[3].t("Type")+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value="",se(e,e.__value),e.selected=!0,e.disabled=!0,o(e,"class","text-gray-900")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&8&&t!==(t=a[3].t("Type")+"")&&K(s,t)},d(a){a&&c(e)}}}function mc(l){let e,t,s;function a(n){l[25](n,l[38])}let i={};return l[38].dismissible!==void 0&&(i.state=l[38].dismissible),e=new pl({props:i}),Xe.push(()=>lt(e,"state",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){l=n;const f={};!t&&u[0]&4&&(t=!0,f.state=l[38].dismissible,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function Ln(l){let e,t,s,a,i=l[3].t("Info")+"",n,u,f=l[3].t("Warning")+"",h,E,g=l[3].t("Error")+"",v,m,b=l[3].t("Success")+"",I,T,w,k,D,$,O,P,M,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,S,q,Y,L=l[38].type==""&&Mn(l);function U(){l[23].call(s,l[39],l[40])}function B(){l[24].call(w,l[39],l[40])}O=new Yt({props:{content:l[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[mc]},$$scope:{ctx:l}}});function j(){return l[26](l[40])}return{c(){e=d("div"),t=d("div"),s=d("select"),L&&L.c(),a=d("option"),n=R(i),u=d("option"),h=R(f),E=d("option"),v=R(g),m=d("option"),I=R(b),T=A(),w=d("input"),D=A(),$=d("div"),_e(O.$$.fragment),P=A(),M=d("button"),M.innerHTML=N,V=A(),this.h()},l(F){e=_(F,"DIV",{class:!0});var J=p(e);t=_(J,"DIV",{class:!0});var X=p(t);s=_(X,"SELECT",{class:!0});var ne=p(s);L&&L.l(ne),a=_(ne,"OPTION",{class:!0});var ie=p(a);n=C(ie,i),ie.forEach(c),u=_(ne,"OPTION",{class:!0});var ae=p(u);h=C(ae,f),ae.forEach(c),E=_(ne,"OPTION",{class:!0});var Q=p(E);v=C(Q,g),Q.forEach(c),m=_(ne,"OPTION",{class:!0});var Z=p(m);I=C(Z,b),Z.forEach(c),ne.forEach(c),T=y(X),w=_(X,"INPUT",{class:!0,placeholder:!0}),D=y(X),$=_(X,"DIV",{class:!0});var te=p($);he(O.$$.fragment,te),te.forEach(c),X.forEach(c),P=y(J),M=_(J,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt(M)!=="svelte-xxjdq8"&&(M.innerHTML=N),V=y(J),J.forEach(c),this.h()},h(){a.__value="info",se(a,a.__value),o(a,"class","text-gray-900"),u.__value="warning",se(u,u.__value),o(u,"class","text-gray-900"),E.__value="error",se(E,E.__value),o(E,"class","text-gray-900"),m.__value="success",se(m,m.__value),o(m,"class","text-gray-900"),o(s,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-hidden"),s.required=!0,l[38].type===void 0&&Sl(U),o(w,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-hidden"),o(w,"placeholder",k=l[3].t("Content")),o($,"class","relative top-1.5 -left-2"),o(t,"class","flex flex-row flex-1 border rounded-xl border-gray-100 dark:border-gray-850"),o(M,"class","px-2"),o(M,"type","button"),o(e,"class","flex justify-between")},m(F,J){H(F,e,J),r(e,t),r(t,s),L&&L.m(s,null),r(s,a),r(a,n),r(s,u),r(u,h),r(s,E),r(E,v),r(s,m),r(m,I),xt(s,l[38].type,!0),r(t,T),r(t,w),se(w,l[38].content),r(t,D),r(t,$),pe(O,$,null),r(e,P),r(e,M),r(e,V),S=!0,q||(Y=[fe(s,"change",U),fe(w,"input",B),fe(M,"click",j)],q=!0)},p(F,J){l=F,l[38].type==""?L?L.p(l,J):(L=Mn(l),L.c(),L.m(s,a)):L&&(L.d(1),L=null),(!S||J[0]&8)&&i!==(i=l[3].t("Info")+"")&&K(n,i),(!S||J[0]&8)&&f!==(f=l[3].t("Warning")+"")&&K(h,f),(!S||J[0]&8)&&g!==(g=l[3].t("Error")+"")&&K(v,g),(!S||J[0]&8)&&b!==(b=l[3].t("Success")+"")&&K(I,b),J[0]&4&&xt(s,l[38].type),(!S||J[0]&8&&k!==(k=l[3].t("Content")))&&o(w,"placeholder",k),J[0]&4&&w.value!==l[38].content&&se(w,l[38].content);const X={};J[0]&8&&(X.content=l[3].t("Dismissible")),J[0]&4|J[1]&32768&&(X.$$scope={dirty:J,ctx:l}),O.$set(X)},i(F){S||(G(O.$$.fragment,F),S=!0)},o(F){W(O.$$.fragment,F),S=!1},d(F){F&&c(e),L&&L.d(),ve(O),q=!1,gl(Y)}}}function Rn(l){let e,t,s,a=l[3].t("Default Prompt Suggestions")+"",i,n,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',h,E,g,v,m,b=Vt(l[1]),I=[];for(let w=0;w<b.length;w+=1)I[w]=Cn(Tn(l,b,w));let T=l[1].length>0&&Un(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("button"),u.innerHTML=f,h=A(),E=d("div");for(let w=0;w<I.length;w+=1)I[w].c();g=A(),T&&T.c(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=p(e);t=_(k,"DIV",{class:!0});var D=p(t);s=_(D,"DIV",{class:!0});var $=p(s);i=C($,a),$.forEach(c),n=y(D),u=_(D,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt(u)!=="svelte-huk1q2"&&(u.innerHTML=f),D.forEach(c),h=y(k),E=_(k,"DIV",{class:!0});var O=p(E);for(let P=0;P<I.length;P+=1)I[P].l(O);O.forEach(c),g=y(k),T&&T.l(k),k.forEach(c),this.h()},h(){o(s,"class","self-center text-sm font-semibold"),o(u,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(u,"type","button"),o(t,"class","flex w-full justify-between mb-2"),o(E,"class","grid lg:grid-cols-2 flex-col gap-1.5"),o(e,"class","space-y-3")},m(w,k){H(w,e,k),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(e,h),r(e,E);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(E,null);r(e,g),T&&T.m(e,null),v||(m=fe(u,"click",l[27]),v=!0)},p(w,k){if(k[0]&8&&a!==(a=w[3].t("Default Prompt Suggestions")+"")&&K(i,a),k[0]&10){b=Vt(w[1]);let D;for(D=0;D<b.length;D+=1){const $=Tn(w,b,D);I[D]?I[D].p($,k):(I[D]=Cn($),I[D].c(),I[D].m(E,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=b.length}w[1].length>0?T?T.p(w,k):(T=Un(w),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(w){w&&c(e),wl(I,w),T&&T.d(),v=!1,m()}}}function Cn(l){let e,t,s,a,i,n,u,f,h,E,g,v,m,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',I,T,w;function k(){l[28].call(a,l[36],l[37])}function D(){l[29].call(u,l[36],l[37])}function $(){l[30].call(E,l[36],l[37])}function O(){return l[31](l[37])}return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("input"),n=A(),u=d("input"),h=A(),E=d("textarea"),v=A(),m=d("button"),m.innerHTML=b,I=A(),this.h()},l(P){e=_(P,"DIV",{class:!0});var M=p(e);t=_(M,"DIV",{class:!0});var N=p(t);s=_(N,"DIV",{class:!0});var V=p(s);a=_(V,"INPUT",{class:!0,placeholder:!0}),n=y(V),u=_(V,"INPUT",{class:!0,placeholder:!0}),V.forEach(c),h=y(N),E=_(N,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(E).forEach(c),N.forEach(c),v=y(M),m=_(M,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt(m)!=="svelte-nde82b"&&(m.innerHTML=b),I=y(M),M.forEach(c),this.h()},h(){o(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),o(a,"placeholder",i=l[3].t("Title (e.g. Tell me a fun fact)")),o(u,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),o(u,"placeholder",f=l[3].t("Subtitle (e.g. about the Roman Empire)")),o(s,"class","flex border-b border-gray-100 dark:border-gray-850 w-full"),o(E,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850 resize-none"),o(E,"placeholder",g=l[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),o(E,"rows","3"),o(t,"class","flex flex-col flex-1 pl-1"),o(m,"class","px-3"),o(m,"type","button"),o(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(P,M){H(P,e,M),r(e,t),r(t,s),r(s,a),se(a,l[35].title[0]),r(s,n),r(s,u),se(u,l[35].title[1]),r(t,h),r(t,E),se(E,l[35].content),r(e,v),r(e,m),r(e,I),T||(w=[fe(a,"input",k),fe(u,"input",D),fe(E,"input",$),fe(m,"click",O)],T=!0)},p(P,M){l=P,M[0]&8&&i!==(i=l[3].t("Title (e.g. Tell me a fun fact)"))&&o(a,"placeholder",i),M[0]&2&&a.value!==l[35].title[0]&&se(a,l[35].title[0]),M[0]&8&&f!==(f=l[3].t("Subtitle (e.g. about the Roman Empire)"))&&o(u,"placeholder",f),M[0]&2&&u.value!==l[35].title[1]&&se(u,l[35].title[1]),M[0]&8&&g!==(g=l[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&o(E,"placeholder",g),M[0]&2&&se(E,l[35].content)},d(P){P&&c(e),T=!1,gl(w)}}}function Un(l){let e,t=l[3].t("Adjusting these settings will apply changes universally to all users.")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&K(s,t)},d(a){a&&c(e)}}}function gc(l){let e,t,s=l[0]&&$n(l);return{c(){s&&s.c(),e=rl()},l(a){s&&s.l(a),e=rl()},m(a,i){s&&s.m(a,i),H(a,e,i),t=!0},p(a,i){a[0]?s?(s.p(a,i),i[0]&1&&G(s,1)):(s=$n(a),s.c(),G(s,1),s.m(e.parentNode,e)):s&&(wt(),W(s,1,1,()=>{s=null}),kt())},i(a){t||(G(s),t=!0)},o(a){W(s),t=!1},d(a){a&&c(e),s&&s.d(a)}}}const Bn=l=>l.owned_by==="ollama";function Ec(l,e,t){let s,a,i,n;el(l,ss,ae=>t(33,s=ae)),el(l,Ll,ae=>t(4,i=ae)),el(l,Xs,ae=>t(5,n=ae));const u=Ms(),f=Ml("i18n");el(l,f,ae=>t(3,a=ae));let h={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",ENABLE_TITLE_GENERATION:!0,TITLE_GENERATION_PROMPT_TEMPLATE:"",IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE:"",ENABLE_AUTOCOMPLETE_GENERATION:!0,AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH:-1,TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:"",TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE:""},E=[],g=[];const v=async()=>{t(0,h=await Bo(localStorage.token,h)),t(1,E=await qo(localStorage.token,E)),await m(),await ss.set(await js())};as(async()=>{t(0,h=await Uo(localStorage.token)),t(1,E=(s==null?void 0:s.default_prompt_suggestions)??[]),t(2,g=await Yo(localStorage.token))});const m=async()=>{Ao.set(await Wo(localStorage.token,g))};function b(){h.TASK_MODEL=Pl(this),t(0,h)}function I(){h.TASK_MODEL_EXTERNAL=Pl(this),t(0,h)}function T(ae){l.$$.not_equal(h.ENABLE_TITLE_GENERATION,ae)&&(h.ENABLE_TITLE_GENERATION=ae,t(0,h))}function w(ae){l.$$.not_equal(h.TITLE_GENERATION_PROMPT_TEMPLATE,ae)&&(h.TITLE_GENERATION_PROMPT_TEMPLATE=ae,t(0,h))}function k(ae){l.$$.not_equal(h.ENABLE_TAGS_GENERATION,ae)&&(h.ENABLE_TAGS_GENERATION=ae,t(0,h))}function D(ae){l.$$.not_equal(h.TAGS_GENERATION_PROMPT_TEMPLATE,ae)&&(h.TAGS_GENERATION_PROMPT_TEMPLATE=ae,t(0,h))}function $(ae){l.$$.not_equal(h.ENABLE_RETRIEVAL_QUERY_GENERATION,ae)&&(h.ENABLE_RETRIEVAL_QUERY_GENERATION=ae,t(0,h))}function O(ae){l.$$.not_equal(h.ENABLE_SEARCH_QUERY_GENERATION,ae)&&(h.ENABLE_SEARCH_QUERY_GENERATION=ae,t(0,h))}function P(ae){l.$$.not_equal(h.QUERY_GENERATION_PROMPT_TEMPLATE,ae)&&(h.QUERY_GENERATION_PROMPT_TEMPLATE=ae,t(0,h))}function M(ae){l.$$.not_equal(h.ENABLE_AUTOCOMPLETE_GENERATION,ae)&&(h.ENABLE_AUTOCOMPLETE_GENERATION=ae,t(0,h))}function N(){h.AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH=this.value,t(0,h)}function V(ae){l.$$.not_equal(h.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,ae)&&(h.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE=ae,t(0,h))}function S(ae){l.$$.not_equal(h.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,ae)&&(h.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE=ae,t(0,h))}const q=()=>{(g.length===0||g.at(-1).content!=="")&&t(2,g=[...g,{id:nu(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function Y(ae,Q){ae[Q].type=Pl(this),t(2,g)}function L(ae,Q){ae[Q].content=this.value,t(2,g)}function U(ae,Q){l.$$.not_equal(Q.dismissible,ae)&&(Q.dismissible=ae,t(2,g))}const B=ae=>{g.splice(ae,1),t(2,g)},j=()=>{(E.length===0||E.at(-1).content!=="")&&t(1,E=[...E,{content:"",title:["",""]}])};function F(ae,Q){ae[Q].title[0]=this.value,t(1,E)}function J(ae,Q){ae[Q].title[1]=this.value,t(1,E)}function X(ae,Q){ae[Q].content=this.value,t(1,E)}return[h,E,g,a,i,n,u,f,v,b,I,T,w,k,D,$,O,P,M,N,V,S,q,Y,L,U,B,j,F,J,X,ae=>{E.splice(ae,1),t(1,E)},()=>{v(),u("save")}]}class bc extends $l{constructor(e){super(),Vl(this,e,Ec,gc,yl,{},null,[-1,-1])}}function Hn(l,e,t){const s=l.slice();return s[11]=e[t],s[13]=t,s}function Ic(l){let e,t=l[3].t("No models found")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i&8&&t!==(t=a[3].t("No models found")+"")&&K(s,t)},i:gt,o:gt,d(a){a&&c(e)}}}function wc(l){let e,t=[],s=new Map,a,i=Vt(l[0]);const n=u=>u[11];for(let u=0;u<i.length;u+=1){let f=Hn(l,i,u),h=n(f);s.set(h,t[u]=Gn(h,f))}return{c(){e=d("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=_(u,"DIV",{class:!0});var f=p(e);for(let h=0;h<t.length;h+=1)t[h].l(f);f.forEach(c),this.h()},h(){o(e,"class","flex flex-col -translate-x-1")},m(u,f){H(u,e,f);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);l[7](e),a=!0},p(u,f){f&5&&(i=Vt(u[0]),wt(),t=ro(t,f,n,1,u,i,s,e,no,Gn,null,Hn),kt())},i(u){if(!a){for(let f=0;f<i.length;f+=1)G(t[f]);a=!0}},o(u){for(let f=0;f<t.length;f+=1)W(t[f]);a=!1},d(u){u&&c(e);for(let f=0;f<t.length;f+=1)t[f].d();l[7](null)}}}function kc(l){let e=l[11]+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a&1&&e!==(e=s[11]+"")&&K(t,e)},d(s){s&&c(t)}}}function Tc(l){let e=l[2].find(s).name+"",t;function s(...a){return l[6](l[11],...a)}return{c(){t=R(e)},l(a){t=C(a,e)},m(a,i){H(a,t,i)},p(a,i){l=a,i&5&&e!==(e=l[2].find(s).name+"")&&K(t,e)},d(a){a&&c(t)}}}function Dc(l){let e,t,s,a,i,n;function u(...g){return l[5](l[11],...g)}t=new wu({props:{className:"size-4 cursor-move"}});function f(g,v){return v&5&&(i=null),i==null&&(i=!!g[2].find(u)),i?Tc:kc}let h=f(l,-1),E=h(l);return{c(){e=d("div"),_e(t.$$.fragment),s=A(),a=d("div"),E.c(),this.h()},l(g){e=_(g,"DIV",{class:!0});var v=p(e);he(t.$$.fragment,v),s=y(v),a=_(v,"DIV",{class:!0});var m=p(a);E.l(m),m.forEach(c),v.forEach(c),this.h()},h(){o(a,"class","text-sm flex-1 py-1 rounded-lg"),o(e,"class","flex items-center gap-1")},m(g,v){H(g,e,v),pe(t,e,null),r(e,s),r(e,a),E.m(a,null),n=!0},p(g,v){l=g,h===(h=f(l,v))&&E?E.p(l,v):(E.d(1),E=h(l),E&&(E.c(),E.m(a,null)))},i(g){n||(G(t.$$.fragment,g),n=!0)},o(g){W(t.$$.fragment,g),n=!1},d(g){g&&c(e),ve(t),E.d()}}}function Gn(l,e){let t,s,a,i,n;return s=new Yt({props:{content:e[11],placement:"top-start",$$slots:{default:[Dc]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=d("div"),_e(s.$$.fragment),a=A(),this.h()},l(u){t=_(u,"DIV",{class:!0,id:!0});var f=p(t);he(s.$$.fragment,f),a=y(f),f.forEach(c),this.h()},h(){o(t,"class","flex gap-2 w-full justify-between items-center"),o(t,"id",i="model-item-"+e[11]),this.first=t},m(u,f){H(u,t,f),pe(s,t,null),r(t,a),n=!0},p(u,f){e=u;const h={};f&1&&(h.content=e[11]),f&16389&&(h.$$scope={dirty:f,ctx:e}),s.$set(h),(!n||f&1&&i!==(i="model-item-"+e[11]))&&o(t,"id",i)},i(u){n||(G(s.$$.fragment,u),n=!0)},o(u){W(s.$$.fragment,u),n=!1},d(u){u&&c(t),ve(s)}}}function Ac(l){let e,t,s,a;const i=[wc,Ic],n=[];function u(f,h){return f[0].length>0?0:1}return e=u(l),t=n[e]=i[e](l),{c(){t.c(),s=rl()},l(f){t.l(f),s=rl()},m(f,h){n[e].m(f,h),H(f,s,h),a=!0},p(f,[h]){let E=e;e=u(f),e===E?n[e].p(f,h):(wt(),W(n[E],1,1,()=>{n[E]=null}),kt(),t=n[e],t?t.p(f,h):(t=n[e]=i[e](f),t.c()),G(t,1),t.m(s.parentNode,s))},i(f){a||(G(t),a=!0)},o(f){W(t),a=!1},d(f){f&&c(s),n[e].d(f)}}}function yc(l,e,t){let s,a;el(l,Ll,b=>t(2,s=b));const i=Ml("i18n");el(l,i,b=>t(3,a=b));let{modelIds:n=[]}=e,u=null,f=null;const h=()=>{const b=Array.from(f.children).map(I=>I.id.replace("model-item-",""));t(0,n=b)},E=()=>{u&&u.destroy(),f&&(u=Iu.create(f,{animation:150,onUpdate:async b=>{h()}}))},g=(b,I)=>I.id===b,v=(b,I)=>I.id===b;function m(b){Xe[b?"unshift":"push"](()=>{f=b,t(1,f)})}return l.$$set=b=>{"modelIds"in b&&t(0,n=b.modelIds)},l.$$.update=()=>{l.$$.dirty&1&&n&&E()},[n,f,s,a,i,g,v,m]}class $c extends $l{constructor(e){super(),Vl(this,e,yc,Ac,yl,{modelIds:0})}}function jn(l,e,t){const s=l.slice();return s[28]=e[t],s[30]=t,s}function Kn(l,e,t){const s=l.slice();return s[31]=e[t],s}function Vc(l){let e,t,s;return t=new Cs({}),{c(){e=d("div"),_e(t.$$.fragment)},l(a){e=_(a,"DIV",{});var i=p(e);he(t.$$.fragment,i),i.forEach(c)},m(a,i){H(a,e,i),pe(t,e,null),s=!0},p:gt,i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&c(e),ve(t)}}}function Nc(l){let e,t,s,a,i,n=l[10].t("Reorder Models")+"",u,f,h,E,g,v,m,b,I,T,w,k,D,$,O=l[10].t("Default Models")+"",P,M,N,V,S,q=l[10].t("Select a model")+"",Y,L,U,B,j,F,J,X,ne,ie,ae=l[10].t("Save")+"",Q,Z,te,ee,z,be;const re=[Pc,Oc],ue=[];function oe(x,ce){return x[6]==="model"?0:1}h=oe(l),E=ue[h]=re[h](l);function Te(x){l[18](x)}let ge={};l[5]!==void 0&&(ge.modelIds=l[5]),v=new $c({props:ge}),Xe.push(()=>lt(v,"modelIds",Te));let me=Vt(l[11]),De=[];for(let x=0;x<me.length;x+=1)De[x]=Yn(Kn(l,me,x));const Se=[Rc,Lc],ke=[];function we(x,ce){return x[4].length>0?0:1}B=we(l),j=ke[B]=Se[B](l),X=new Yt({props:{content:l[10].t("This will delete all models including custom models"),$$slots:{default:[Cc]},$$scope:{ctx:l}}});let Ae=l[8]&&Wn();return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("button"),i=d("div"),u=R(n),f=A(),E.c(),g=A(),_e(v.$$.fragment),b=A(),I=d("hr"),T=A(),w=d("div"),k=d("div"),D=d("div"),$=d("div"),P=R(O),M=A(),N=d("div"),V=d("select"),S=d("option"),Y=R(q);for(let x=0;x<De.length;x+=1)De[x].c();U=A(),j.c(),F=A(),J=d("div"),_e(X.$$.fragment),ne=A(),ie=d("button"),Q=R(ae),Z=A(),Ae&&Ae.c(),this.h()},l(x){e=_(x,"FORM",{class:!0});var ce=p(e);t=_(ce,"DIV",{});var Be=p(t);s=_(Be,"DIV",{class:!0});var Ce=p(s);a=_(Ce,"BUTTON",{class:!0,type:!0});var le=p(a);i=_(le,"DIV",{class:!0});var de=p(i);u=C(de,n),de.forEach(c),f=y(le),E.l(le),le.forEach(c),g=y(Ce),he(v.$$.fragment,Ce),Ce.forEach(c),Be.forEach(c),b=y(ce),I=_(ce,"HR",{class:!0}),T=y(ce),w=_(ce,"DIV",{});var $e=p(w);k=_($e,"DIV",{class:!0});var Ne=p(k);D=_(Ne,"DIV",{class:!0});var Oe=p(D);$=_(Oe,"DIV",{class:!0});var He=p($);P=C(He,O),He.forEach(c),Oe.forEach(c),M=y(Ne),N=_(Ne,"DIV",{class:!0});var We=p(N);V=_(We,"SELECT",{class:!0});var Ze=p(V);S=_(Ze,"OPTION",{});var je=p(S);Y=C(je,q),je.forEach(c);for(let ht=0;ht<De.length;ht+=1)De[ht].l(Ze);Ze.forEach(c),We.forEach(c),U=y(Ne),j.l(Ne),Ne.forEach(c),$e.forEach(c),F=y(ce),J=_(ce,"DIV",{class:!0});var Ie=p(J);he(X.$$.fragment,Ie),ne=y(Ie),ie=_(Ie,"BUTTON",{class:!0,type:!0});var ye=p(ie);Q=C(ye,ae),Z=y(ye),Ae&&Ae.l(ye),ye.forEach(c),Ie.forEach(c),ce.forEach(c),this.h()},h(){o(i,"class","text-xs text-gray-500"),o(a,"class","mb-1 flex gap-2"),o(a,"type","button"),o(s,"class","flex flex-col w-full"),o(I,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o($,"class","text-xs text-gray-500"),o(D,"class","mb-1 flex justify-between"),S.__value="",se(S,S.__value),o(V,"class",L="w-full py-1 text-sm rounded-lg bg-transparent "+(l[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),l[2]===void 0&&Sl(()=>l[19].call(V)),o(N,"class","flex items-center -mr-1"),o(k,"class","flex flex-col w-full"),o(ie,"class",te="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[8]?" cursor-not-allowed":"")),o(ie,"type","submit"),ie.disabled=l[8],o(J,"class","flex justify-between pt-3 text-sm font-medium gap-1.5"),o(e,"class","flex flex-col w-full")},m(x,ce){H(x,e,ce),r(e,t),r(t,s),r(s,a),r(a,i),r(i,u),r(a,f),ue[h].m(a,null),r(s,g),pe(v,s,null),r(e,b),r(e,I),r(e,T),r(e,w),r(w,k),r(k,D),r(D,$),r($,P),r(k,M),r(k,N),r(N,V),r(V,S),r(S,Y);for(let Be=0;Be<De.length;Be+=1)De[Be]&&De[Be].m(V,null);xt(V,l[2],!0),r(k,U),ke[B].m(k,null),r(e,F),r(e,J),pe(X,J,null),r(J,ne),r(J,ie),r(ie,Q),r(ie,Z),Ae&&Ae.m(ie,null),ee=!0,z||(be=[fe(a,"click",l[17]),fe(V,"change",l[19]),fe(e,"submit",vs(l[23]))],z=!0)},p(x,ce){(!ee||ce[0]&1024)&&n!==(n=x[10].t("Reorder Models")+"")&&K(u,n);let Be=h;h=oe(x),h===Be?ue[h].p(x,ce):(wt(),W(ue[Be],1,1,()=>{ue[Be]=null}),kt(),E=ue[h],E?E.p(x,ce):(E=ue[h]=re[h](x),E.c()),G(E,1),E.m(a,null));const Ce={};if(!m&&ce[0]&32&&(m=!0,Ce.modelIds=x[5],tt(()=>m=!1)),v.$set(Ce),(!ee||ce[0]&1024)&&O!==(O=x[10].t("Default Models")+"")&&K(P,O),(!ee||ce[0]&1024)&&q!==(q=x[10].t("Select a model")+"")&&K(Y,q),ce[0]&2048){me=Vt(x[11]);let $e;for($e=0;$e<me.length;$e+=1){const Ne=Kn(x,me,$e);De[$e]?De[$e].p(Ne,ce):(De[$e]=Yn(Ne),De[$e].c(),De[$e].m(V,null))}for(;$e<De.length;$e+=1)De[$e].d(1);De.length=me.length}(!ee||ce[0]&2052&&L!==(L="w-full py-1 text-sm rounded-lg bg-transparent "+(x[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&o(V,"class",L),ce[0]&2052&&xt(V,x[2]);let le=B;B=we(x),B===le?ke[B].p(x,ce):(wt(),W(ke[le],1,1,()=>{ke[le]=null}),kt(),j=ke[B],j?j.p(x,ce):(j=ke[B]=Se[B](x),j.c()),G(j,1),j.m(k,null));const de={};ce[0]&1024&&(de.content=x[10].t("This will delete all models including custom models")),ce[0]&1536|ce[1]&8&&(de.$$scope={dirty:ce,ctx:x}),X.$set(de),(!ee||ce[0]&1024)&&ae!==(ae=x[10].t("Save")+"")&&K(Q,ae),x[8]?Ae||(Ae=Wn(),Ae.c(),Ae.m(ie,null)):Ae&&(Ae.d(1),Ae=null),(!ee||ce[0]&256&&te!==(te="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(x[8]?" cursor-not-allowed":"")))&&o(ie,"class",te),(!ee||ce[0]&256)&&(ie.disabled=x[8])},i(x){ee||(G(E),G(v.$$.fragment,x),G(j),G(X.$$.fragment,x),ee=!0)},o(x){W(E),W(v.$$.fragment,x),W(j),W(X.$$.fragment,x),ee=!1},d(x){x&&c(e),ue[h].d(),ve(v),wl(De,x),ke[B].d(),ve(X),Ae&&Ae.d(),z=!1,gl(be)}}}function Oc(l){let e,t,s;return t=new io({props:{className:"size-3"}}),{c(){e=d("span"),_e(t.$$.fragment),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=p(e);he(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","invisible")},m(a,i){H(a,e,i),pe(t,e,null),s=!0},p:gt,i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&c(e),ve(t)}}}function Pc(l){let e,t,s,a;const i=[Mc,Sc],n=[];function u(f,h){return f[7]==="asc"?0:1}return t=u(l),s=n[t]=i[t](l),{c(){e=d("span"),s.c(),this.h()},l(f){e=_(f,"SPAN",{class:!0});var h=p(e);s.l(h),h.forEach(c),this.h()},h(){o(e,"class","font-normal self-center")},m(f,h){H(f,e,h),n[t].m(e,null),a=!0},p(f,h){let E=t;t=u(f),t!==E&&(wt(),W(n[E],1,1,()=>{n[E]=null}),kt(),s=n[t],s||(s=n[t]=i[t](f),s.c()),G(s,1),s.m(e,null))},i(f){a||(G(s),a=!0)},o(f){W(s),a=!1},d(f){f&&c(e),n[t].d()}}}function Sc(l){let e,t;return e=new ku({props:{className:"size-3"}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function Mc(l){let e,t;return e=new io({props:{className:"size-3"}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function Yn(l){let e,t=l[31].name+"",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[31].id,se(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&2048&&t!==(t=i[31].name+"")&&K(s,t),n[0]&2048&&a!==(a=i[31].id)&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function Lc(l){let e,t=l[10].t("No models selected")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&1024&&t!==(t=a[10].t("No models selected")+"")&&K(s,t)},i:gt,o:gt,d(a){a&&c(e)}}}function Rc(l){let e,t,s=Vt(l[4]),a=[];for(let n=0;n<s.length;n+=1)a[n]=qn(jn(l,s,n));const i=n=>W(a[n],1,1,()=>{a[n]=null});return{c(){e=d("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=_(n,"DIV",{class:!0});var u=p(e);for(let f=0;f<a.length;f+=1)a[f].l(u);u.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(n,u){H(n,e,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);t=!0},p(n,u){if(u[0]&2064){s=Vt(n[4]);let f;for(f=0;f<s.length;f+=1){const h=jn(n,s,f);a[f]?(a[f].p(h,u),G(a[f],1)):(a[f]=qn(h),a[f].c(),G(a[f],1),a[f].m(e,null))}for(wt(),f=s.length;f<a.length;f+=1)i(f);kt()}},i(n){if(!t){for(let u=0;u<s.length;u+=1)G(a[u]);t=!0}},o(n){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)W(a[u]);t=!1},d(n){n&&c(e),wl(a,n)}}}function qn(l){var I;let e,t,s=((I=l[11].find(m))==null?void 0:I.name)+"",a,i,n,u,f,h,E,g,v;function m(...T){return l[20](l[28],...T)}f=new ao({props:{strokeWidth:"2",className:"size-3.5"}});function b(){return l[21](l[30])}return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("button"),_e(f.$$.fragment),h=A(),this.h()},l(T){e=_(T,"DIV",{class:!0});var w=p(e);t=_(w,"DIV",{class:!0});var k=p(t);a=C(k,s),k.forEach(c),i=y(w),n=_(w,"DIV",{class:!0});var D=p(n);u=_(D,"BUTTON",{type:!0});var $=p(u);he(f.$$.fragment,$),$.forEach(c),D.forEach(c),h=y(w),w.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(u,"type","button"),o(n,"class","shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(T,w){H(T,e,w),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),pe(f,u,null),r(e,h),E=!0,g||(v=fe(u,"click",b),g=!0)},p(T,w){var k;l=T,(!E||w[0]&2064)&&s!==(s=((k=l[11].find(m))==null?void 0:k.name)+"")&&K(a,s)},i(T){E||(G(f.$$.fragment,T),E=!0)},o(T){W(f.$$.fragment,T),E=!1},d(T){T&&c(e),ve(f),g=!1,v()}}}function Cc(l){let e,t=l[10].t("Reset All Models")+"",s,a,i;return{c(){e=d("button"),s=R(t),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);s=C(u,t),u.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(n,u){H(n,e,u),r(e,s),a||(i=fe(e,"click",l[22]),a=!0)},p(n,u){u[0]&1024&&t!==(t=n[10].t("Reset All Models")+"")&&K(s,t)},d(n){n&&c(e),a=!1,i()}}}function Wn(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-178pk2u"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function Uc(l){let e,t,s,a=l[10].t("Settings")+"",i,n,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,E,g,v,m,b,I,T;const w=[Nc,Vc],k=[];function D($,O){return $[3]?0:1}return v=D(l),m=k[v]=w[v](l),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("button"),u.innerHTML=f,h=A(),E=d("div"),g=d("div"),m.c(),this.h()},l($){e=_($,"DIV",{});var O=p(e);t=_(O,"DIV",{class:!0});var P=p(t);s=_(P,"DIV",{class:!0});var M=p(s);i=C(M,a),M.forEach(c),n=y(P),u=_(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Qt(u)!=="svelte-745w2y"&&(u.innerHTML=f),P.forEach(c),h=y(O),E=_(O,"DIV",{class:!0});var N=p(E);g=_(N,"DIV",{class:!0});var V=p(g);m.l(V),V.forEach(c),N.forEach(c),O.forEach(c),this.h()},h(){o(s,"class","text-lg font-medium self-center font-primary"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(E,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m($,O){H($,e,O),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(e,h),r(e,E),r(E,g),k[v].m(g,null),b=!0,I||(T=fe(u,"click",l[16]),I=!0)},p($,O){(!b||O[0]&1024)&&a!==(a=$[10].t("Settings")+"")&&K(i,a);let P=v;v=D($),v===P?k[v].p($,O):(wt(),W(k[P],1,1,()=>{k[P]=null}),kt(),m=k[v],m?m.p($,O):(m=k[v]=w[v]($),m.c()),G(m,1),m.m(g,null))},i($){b||(G(m),b=!0)},o($){W(m),b=!1},d($){$&&c(e),k[v].d(),I=!1,T()}}}function Bc(l){let e,t,s,a,i,n;function u(g){l[15](g)}let f={title:l[10].t("Reset All Models"),message:l[10].t("This will delete all models including custom models and cannot be undone."),onConfirm:l[14]};l[9]!==void 0&&(f.show=l[9]),e=new Da({props:f}),Xe.push(()=>lt(e,"show",u));function h(g){l[24](g)}let E={size:"sm",$$slots:{default:[Uc]},$$scope:{ctx:l}};return l[0]!==void 0&&(E.show=l[0]),a=new ya({props:E}),Xe.push(()=>lt(a,"show",h)),{c(){_e(e.$$.fragment),s=A(),_e(a.$$.fragment)},l(g){he(e.$$.fragment,g),s=y(g),he(a.$$.fragment,g)},m(g,v){pe(e,g,v),H(g,s,v),pe(a,g,v),n=!0},p(g,v){const m={};v[0]&1024&&(m.title=g[10].t("Reset All Models")),v[0]&1024&&(m.message=g[10].t("This will delete all models including custom models and cannot be undone.")),v[0]&1026&&(m.onConfirm=g[14]),!t&&v[0]&512&&(t=!0,m.show=g[9],tt(()=>t=!1)),e.$set(m);const b={};v[0]&4093|v[1]&8&&(b.$$scope={dirty:v,ctx:g}),!i&&v[0]&1&&(i=!0,b.show=g[0],tt(()=>i=!1)),a.$set(b)},i(g){n||(G(e.$$.fragment,g),G(a.$$.fragment,g),n=!0)},o(g){W(e.$$.fragment,g),W(a.$$.fragment,g),n=!1},d(g){g&&c(s),ve(e,g),ve(a,g)}}}function Hc(l,e,t){let s,a;el(l,Ll,U=>t(11,a=U));const i=Ml("i18n");el(l,i,U=>t(10,s=U)),Ms();let{show:n=!1}=e,{initHandler:u=()=>{}}=e,f=null,h="",E=[],g=[],v="",m="",b=!1,I=!1;const T=()=>{if(h!==""){if(E.includes(h)){t(2,h="");return}t(4,E=[...E,h]),t(2,h="")}},w=async()=>{t(3,f=await Fo(localStorage.token)),f!=null&&f.DEFAULT_MODELS?t(4,E=f==null?void 0:f.DEFAULT_MODELS.split(",").filter(F=>F)):t(4,E=[]);const U=f.MODEL_ORDER_LIST||[],B=a.map(F=>F.id),j=new Set(U);t(5,g=[...U.filter(F=>j.has(F)&&B.includes(F)),...B.filter(F=>!j.has(F)).sort((F,J)=>F.localeCompare(J))]),t(6,v=""),t(7,m="")},k=async()=>{t(8,b=!0),await Zo(localStorage.token,{DEFAULT_MODELS:E.join(","),MODEL_ORDER_LIST:g})?(et.success(s.t("Models configuration saved successfully")),u(),t(0,n=!1)):et.error(s.t("Failed to save models configuration")),t(8,b=!1)};as(async()=>{w()});const D=async()=>{pu(localStorage.token)&&(et.success(s.t("All models deleted successfully")),u())};function $(U){I=U,t(9,I)}const O=()=>{t(0,n=!1)},P=()=>{t(6,v="model"),m==="asc"?t(7,m="desc"):t(7,m="asc"),t(5,g=g.filter(U=>U!=="").sort((U,B)=>{var J,X;const j=((J=a.find(ne=>ne.id===U))==null?void 0:J.name)||U,F=((X=a.find(ne=>ne.id===B))==null?void 0:X.name)||B;return m==="desc"?j.localeCompare(F):F.localeCompare(j)}))};function M(U){g=U,t(5,g)}function N(){h=Pl(this),t(2,h)}const V=(U,B)=>B.id===U,S=U=>{t(4,E=E.filter((B,j)=>j!==U))},q=()=>{t(9,I=!0)},Y=()=>{k()};function L(U){n=U,t(0,n)}return l.$$set=U=>{"show"in U&&t(0,n=U.show),"initHandler"in U&&t(1,u=U.initHandler)},l.$$.update=()=>{l.$$.dirty[0]&1&&n&&w(),l.$$.dirty[0]&4&&h&&T()},[n,u,h,f,E,g,v,m,b,I,s,a,i,k,D,$,O,P,M,N,V,S,q,Y,L]}class Gc extends $l{constructor(e){super(),Vl(this,e,Hc,Bc,yl,{show:0,initHandler:1},null,[-1,-1])}}function Fn(l,e,t){const s=l.slice();return s[57]=e[t],s}function Zn(l,e,t){const s=l.slice();return s[57]=e[t],s}function jc(l){let e,t,s;return t=new Cs({}),{c(){e=d("div"),_e(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);he(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full py-3")},m(a,i){H(a,e,i),pe(t,e,null),s=!0},p:gt,i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&c(e),ve(t)}}}function Kc(l){let e,t=l[23].t("Failed to fetch models")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full text-xs py-3")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Failed to fetch models")+"")&&K(s,t)},i:gt,o:gt,d(a){a&&c(e)}}}function Yc(l){let e,t,s,a,i,n,u=l[23].t("Pull a model from Ollama.com")+"",f,h,E,g,v,m,b,I,T,w,k,D,$,O=l[23].t("To access the available model names for downloading,")+"",P,M,N,V=l[23].t("click here.")+"",S,q,Y,L=Object.keys(l[22]).length>0,U,B,j,F=l[23].t("Delete a model")+"",J,X,ne,ie,ae,Q,Z,te,ee,z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',be,re,ue,oe=l[23].t("Create a model")+"",Te,ge,me,De,Se,ke,we,Ae,x,ce,Be,Ce,le,de,$e,Ne,Oe,He,We,Ze=l[23].t("Experimental")+"",je,Ie,ye,ht=(l[6]?l[23].t("Hide"):l[23].t("Show"))+"",Je,pt,ze,ot,bt;g=new Yt({props:{content:"Update All Models",placement:"top",$$slots:{default:[qc]},$$scope:{ctx:l}}});function Ve(Me,Ke){return Me[7]?Fc:Wc}let dt=Ve(l),Et=dt(l),ut=l[4]&&zn(l),mt=L&&Jn(l),Tt=!l[21]&&ei(l),yt=Vt(l[3]),_t=[];for(let Me=0;Me<yt.length;Me+=1)_t[Me]=ti(Fn(l,yt,Me));let ct=l[12]!==""&&li(l),vt=l[6]&&ai(l);return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),i=d("div"),n=d("div"),f=R(u),h=A(),E=d("div"),_e(g.$$.fragment),v=A(),m=d("div"),b=d("div"),I=d("input"),w=A(),k=d("button"),Et.c(),D=A(),$=d("div"),P=R(O),M=A(),N=d("a"),S=R(V),q=A(),ut&&ut.c(),Y=A(),mt&&mt.c(),U=A(),B=d("div"),j=d("div"),J=R(F),X=A(),ne=d("div"),ie=d("div"),ae=d("select"),Tt&&Tt.c(),Q=rl();for(let Me=0;Me<_t.length;Me+=1)_t[Me].c();te=A(),ee=d("button"),ee.innerHTML=z,be=A(),re=d("div"),ue=d("div"),Te=R(oe),ge=A(),me=d("div"),De=d("div"),Se=d("input"),we=A(),Ae=d("textarea"),x=A(),ce=d("div"),Be=d("button"),Ce=vl("svg"),le=vl("path"),de=vl("path"),$e=A(),ct&&ct.c(),Ne=A(),Oe=d("div"),He=d("div"),We=d("div"),je=R(Ze),Ie=A(),ye=d("button"),Je=R(ht),pt=A(),vt&&vt.c(),this.h()},l(Me){e=_(Me,"DIV",{class:!0});var Ke=p(e);t=_(Ke,"DIV",{});var Nt=p(t);s=_(Nt,"DIV",{class:!0});var It=p(s);a=_(It,"DIV",{});var Re=p(a);i=_(Re,"DIV",{class:!0});var Ge=p(i);n=_(Ge,"DIV",{});var ft=p(n);f=C(ft,u),ft.forEach(c),h=y(Ge),E=_(Ge,"DIV",{});var jt=p(E);he(g.$$.fragment,jt),jt.forEach(c),Ge.forEach(c),v=y(Re),m=_(Re,"DIV",{class:!0});var Rt=p(m);b=_(Rt,"DIV",{class:!0});var Gt=p(b);I=_(Gt,"INPUT",{class:!0,placeholder:!0}),Gt.forEach(c),w=y(Rt),k=_(Rt,"BUTTON",{class:!0});var Le=p(k);Et.l(Le),Le.forEach(c),Rt.forEach(c),D=y(Re),$=_(Re,"DIV",{class:!0});var Fe=p($);P=C(Fe,O),M=y(Fe),N=_(Fe,"A",{class:!0,href:!0,target:!0});var Ut=p(N);S=C(Ut,V),Ut.forEach(c),Fe.forEach(c),q=y(Re),ut&&ut.l(Re),Y=y(Re),mt&&mt.l(Re),Re.forEach(c),U=y(It),B=_(It,"DIV",{});var Dt=p(B);j=_(Dt,"DIV",{class:!0});var Ue=p(j);J=C(Ue,F),Ue.forEach(c),X=y(Dt),ne=_(Dt,"DIV",{class:!0});var Ee=p(ne);ie=_(Ee,"DIV",{class:!0});var rt=p(ie);ae=_(rt,"SELECT",{class:!0,placeholder:!0});var Pt=p(ae);Tt&&Tt.l(Pt),Q=rl();for(let Wt=0;Wt<_t.length;Wt+=1)_t[Wt].l(Pt);Pt.forEach(c),rt.forEach(c),te=y(Ee),ee=_(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),Qt(ee)!=="svelte-1c45g2d"&&(ee.innerHTML=z),Ee.forEach(c),Dt.forEach(c),be=y(It),re=_(It,"DIV",{});var Ct=p(re);ue=_(Ct,"DIV",{class:!0});var $t=p(ue);Te=C($t,oe),$t.forEach(c),ge=y(Ct),me=_(Ct,"DIV",{class:!0});var Mt=p(me);De=_(Mt,"DIV",{class:!0});var Lt=p(De);Se=_(Lt,"INPUT",{class:!0,placeholder:!0}),we=y(Lt),Ae=_(Lt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),p(Ae).forEach(c),Lt.forEach(c),x=y(Mt),ce=_(Mt,"DIV",{class:!0});var At=p(ce);Be=_(At,"BUTTON",{class:!0});var Ye=p(Be);Ce=ml(Ye,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var nt=p(Ce);le=ml(nt,"path",{d:!0}),p(le).forEach(c),de=ml(nt,"path",{d:!0}),p(de).forEach(c),nt.forEach(c),Ye.forEach(c),At.forEach(c),Mt.forEach(c),$e=y(Ct),ct&&ct.l(Ct),Ct.forEach(c),Ne=y(It),Oe=_(It,"DIV",{class:!0});var Ot=p(Oe);He=_(Ot,"DIV",{class:!0});var Kt=p(He);We=_(Kt,"DIV",{class:!0});var st=p(We);je=C(st,Ze),st.forEach(c),Ie=y(Kt),ye=_(Kt,"BUTTON",{class:!0,type:!0});var sl=p(ye);Je=C(sl,ht),sl.forEach(c),Kt.forEach(c),Ot.forEach(c),pt=y(It),vt&&vt.l(It),It.forEach(c),Nt.forEach(c),Ke.forEach(c),this.h()},h(){o(i,"class","mb-2 text-sm font-medium flex items-center gap-1.5"),o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(I,"placeholder",T=l[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),o(b,"class","flex-1 mr-2"),o(k,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),k.disabled=l[7],o(m,"class","flex w-full"),o(N,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(N,"href","https://ollama.com/library"),o(N,"target","_blank"),o($,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(j,"class","mb-2 text-sm font-medium"),o(ae,"class","w-full py-2 px-4 text-sm outline-hidden bg-transparent"),o(ae,"placeholder",Z=l[23].t("Select a model")),l[21]===void 0&&Sl(()=>l[38].call(ae)),o(ie,"class","flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(ee,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(ne,"class","flex w-full"),o(ue,"class","mb-2 text-sm font-medium"),o(Se,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Se,"placeholder",ke=l[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),Se.disabled=l[9],o(Ae,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none scrollbar-hidden"),o(Ae,"rows","6"),o(Ae,"placeholder",'e.g. {"model": "my-modelfile", "from": "ollama:7b"})'),Ae.disabled=l[9],o(De,"class","flex-1 mr-2 flex flex-col gap-2"),o(le,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(de,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(Ce,"xmlns","http://www.w3.org/2000/svg"),o(Ce,"viewBox","0 0 16 16"),o(Ce,"fill","currentColor"),o(Ce,"class","size-4"),o(Be,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),Be.disabled=l[9],o(ce,"class","flex self-start"),o(me,"class","flex w-full"),o(We,"class","text-sm font-medium"),o(ye,"class","text-xs font-medium text-gray-500"),o(ye,"type","button"),o(He,"class","flex justify-between items-center text-xs"),o(Oe,"class","pt-1"),o(s,"class","space-y-2"),o(e,"class","flex flex-col w-full")},m(Me,Ke){H(Me,e,Ke),r(e,t),r(t,s),r(s,a),r(a,i),r(i,n),r(n,f),r(i,h),r(i,E),pe(g,E,null),r(a,v),r(a,m),r(m,b),r(b,I),se(I,l[8]),r(m,w),r(m,k),Et.m(k,null),r(a,D),r(a,$),r($,P),r($,M),r($,N),r(N,S),r(a,q),ut&&ut.m(a,null),r(a,Y),mt&&mt.m(a,null),r(s,U),r(s,B),r(B,j),r(j,J),r(B,X),r(B,ne),r(ne,ie),r(ie,ae),Tt&&Tt.m(ae,null),r(ae,Q);for(let Nt=0;Nt<_t.length;Nt+=1)_t[Nt]&&_t[Nt].m(ae,null);xt(ae,l[21],!0),r(ne,te),r(ne,ee),r(s,be),r(s,re),r(re,ue),r(ue,Te),r(re,ge),r(re,me),r(me,De),r(De,Se),se(Se,l[10]),r(De,we),r(De,Ae),se(Ae,l[11]),r(me,x),r(me,ce),r(ce,Be),r(Be,Ce),r(Ce,le),r(Ce,de),r(re,$e),ct&&ct.m(re,null),r(s,Ne),r(s,Oe),r(Oe,He),r(He,We),r(We,je),r(He,Ie),r(He,ye),r(ye,Je),r(s,pt),vt&&vt.m(s,null),ze=!0,ot||(bt=[fe(I,"input",l[35]),fe(k,"click",l[36]),fe(ae,"change",l[38]),fe(ee,"click",l[39]),fe(Se,"input",l[40]),fe(Ae,"input",l[41]),fe(Be,"click",l[42]),fe(ye,"click",l[43])],ot=!0)},p(Me,Ke){(!ze||Ke[0]&8388608)&&u!==(u=Me[23].t("Pull a model from Ollama.com")+"")&&K(f,u);const Nt={};if(Ke[2]&1&&(Nt.$$scope={dirty:Ke,ctx:Me}),g.$set(Nt),(!ze||Ke[0]&8388608&&T!==(T=Me[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&o(I,"placeholder",T),Ke[0]&256&&I.value!==Me[8]&&se(I,Me[8]),dt!==(dt=Ve(Me))&&(Et.d(1),Et=dt(Me),Et&&(Et.c(),Et.m(k,null))),(!ze||Ke[0]&128)&&(k.disabled=Me[7]),(!ze||Ke[0]&8388608)&&O!==(O=Me[23].t("To access the available model names for downloading,")+"")&&K(P,O),(!ze||Ke[0]&8388608)&&V!==(V=Me[23].t("click here.")+"")&&K(S,V),Me[4]?ut?ut.p(Me,Ke):(ut=zn(Me),ut.c(),ut.m(a,Y)):ut&&(ut.d(1),ut=null),Ke[0]&4194304&&(L=Object.keys(Me[22]).length>0),L?mt?(mt.p(Me,Ke),Ke[0]&4194304&&G(mt,1)):(mt=Jn(Me),mt.c(),G(mt,1),mt.m(a,null)):mt&&(wt(),W(mt,1,1,()=>{mt=null}),kt()),(!ze||Ke[0]&8388608)&&F!==(F=Me[23].t("Delete a model")+"")&&K(J,F),Me[21]?Tt&&(Tt.d(1),Tt=null):Tt?Tt.p(Me,Ke):(Tt=ei(Me),Tt.c(),Tt.m(ae,Q)),Ke[0]&8){yt=Vt(Me[3]);let It;for(It=0;It<yt.length;It+=1){const Re=Fn(Me,yt,It);_t[It]?_t[It].p(Re,Ke):(_t[It]=ti(Re),_t[It].c(),_t[It].m(ae,null))}for(;It<_t.length;It+=1)_t[It].d(1);_t.length=yt.length}(!ze||Ke[0]&8388608&&Z!==(Z=Me[23].t("Select a model")))&&o(ae,"placeholder",Z),Ke[0]&2097160&&xt(ae,Me[21]),(!ze||Ke[0]&8388608)&&oe!==(oe=Me[23].t("Create a model")+"")&&K(Te,oe),(!ze||Ke[0]&8388608&&ke!==(ke=Me[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&o(Se,"placeholder",ke),(!ze||Ke[0]&512)&&(Se.disabled=Me[9]),Ke[0]&1024&&Se.value!==Me[10]&&se(Se,Me[10]),(!ze||Ke[0]&512)&&(Ae.disabled=Me[9]),Ke[0]&2048&&se(Ae,Me[11]),(!ze||Ke[0]&512)&&(Be.disabled=Me[9]),Me[12]!==""?ct?ct.p(Me,Ke):(ct=li(Me),ct.c(),ct.m(re,null)):ct&&(ct.d(1),ct=null),(!ze||Ke[0]&8388608)&&Ze!==(Ze=Me[23].t("Experimental")+"")&&K(je,Ze),(!ze||Ke[0]&8388672)&&ht!==(ht=(Me[6]?Me[23].t("Hide"):Me[23].t("Show"))+"")&&K(Je,ht),Me[6]?vt?vt.p(Me,Ke):(vt=ai(Me),vt.c(),vt.m(s,null)):vt&&(vt.d(1),vt=null)},i(Me){ze||(G(g.$$.fragment,Me),G(mt),ze=!0)},o(Me){W(g.$$.fragment,Me),W(mt),ze=!1},d(Me){Me&&c(e),ve(g),Et.d(),ut&&ut.d(),mt&&mt.d(),Tt&&Tt.d(),wl(_t,Me),ct&&ct.d(),vt&&vt.d(),ot=!1,gl(bt)}}}function qc(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',s,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=_(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-91van"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex gap-2 items-center bg-transparent rounded-lg transition")},m(i,n){H(i,e,n),s||(a=fe(e,"click",l[34]),s=!0)},p:gt,d(i){i&&c(e),s=!1,a()}}}function Wc(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{d:!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){H(a,e,i),r(e,t),r(e,s)},d(a){a&&c(e)}}}function Fc(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function zn(l){let e,t,s,a,i=l[5]?`(${l[5]}%)`:"",n;return{c(){e=d("div"),t=R('Updating "'),s=R(l[4]),a=R('" '),n=R(i),this.h()},l(u){e=_(u,"DIV",{class:!0});var f=p(e);t=C(f,'Updating "'),s=C(f,l[4]),a=C(f,'" '),n=C(f,i),f.forEach(c),this.h()},h(){o(e,"class","text-xs")},m(u,f){H(u,e,f),r(e,t),r(e,s),r(e,a),r(e,n)},p(u,f){f[0]&16&&K(s,u[4]),f[0]&32&&i!==(i=u[5]?`(${u[5]}%)`:"")&&K(n,i)},d(u){u&&c(e)}}}function Jn(l){let e,t,s=Vt(Object.keys(l[22])),a=[];for(let n=0;n<s.length;n+=1)a[n]=xn(Zn(l,s,n));const i=n=>W(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=rl()},l(n){for(let u=0;u<a.length;u+=1)a[u].l(n);e=rl()},m(n,u){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(n,u);H(n,e,u),t=!0},p(n,u){if(u[0]&549453824){s=Vt(Object.keys(n[22]));let f;for(f=0;f<s.length;f+=1){const h=Zn(n,s,f);a[f]?(a[f].p(h,u),G(a[f],1)):(a[f]=xn(h),a[f].c(),G(a[f],1),a[f].m(e.parentNode,e))}for(wt(),f=s.length;f<a.length;f+=1)i(f);kt()}},i(n){if(!t){for(let u=0;u<s.length;u+=1)G(a[u]);t=!0}},o(n){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)W(a[u]);t=!1},d(n){n&&c(e),wl(a,n)}}}function Xn(l){let e,t,s=l[57]+"",a,i,n,u,f,h,E=(l[22][l[57]].pullProgress??0)+"",g,v,m,b,I,T,w;b=new Yt({props:{content:l[23].t("Cancel"),$$slots:{default:[Zc]},$$scope:{ctx:l}}});let k="digest"in l[22][l[57]]&&Qn(l);return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("div"),h=d("div"),g=R(E),v=R("%"),m=A(),_e(b.$$.fragment),I=A(),k&&k.c(),T=A(),this.h()},l(D){e=_(D,"DIV",{class:!0});var $=p(e);t=_($,"DIV",{class:!0});var O=p(t);a=C(O,s),O.forEach(c),i=y($),n=_($,"DIV",{class:!0});var P=p(n);u=_(P,"DIV",{class:!0});var M=p(u);f=_(M,"DIV",{class:!0});var N=p(f);h=_(N,"DIV",{class:!0,style:!0});var V=p(h);g=C(V,E),v=C(V,"%"),V.forEach(c),N.forEach(c),m=y(M),he(b.$$.fragment,M),M.forEach(c),I=y(P),k&&k.l(P),P.forEach(c),T=y($),$.forEach(c),this.h()},h(){o(t,"class","font-medium mb-1"),o(h,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Ps(h,"width",Math.max(15,l[22][l[57]].pullProgress??0)+"%"),o(f,"class","flex-1"),o(u,"class","flex flex-row justify-between space-x-4 pr-2"),o(n,"class",""),o(e,"class","flex flex-col")},m(D,$){H(D,e,$),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),r(f,h),r(h,g),r(h,v),r(u,m),pe(b,u,null),r(n,I),k&&k.m(n,null),r(e,T),w=!0},p(D,$){(!w||$[0]&4194304)&&s!==(s=D[57]+"")&&K(a,s),(!w||$[0]&4194304)&&E!==(E=(D[22][D[57]].pullProgress??0)+"")&&K(g,E),(!w||$[0]&4194304)&&Ps(h,"width",Math.max(15,D[22][D[57]].pullProgress??0)+"%");const O={};$[0]&8388608&&(O.content=D[23].t("Cancel")),$[0]&4194304|$[2]&1&&(O.$$scope={dirty:$,ctx:D}),b.$set(O),"digest"in D[22][D[57]]?k?k.p(D,$):(k=Qn(D),k.c(),k.m(n,null)):k&&(k.d(1),k=null)},i(D){w||(G(b.$$.fragment,D),w=!0)},o(D){W(b.$$.fragment,D),w=!1},d(D){D&&c(e),ve(b),k&&k.d()}}}function Zc(l){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',s,a;function i(){return l[37](l[57])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=_(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-aeotdp"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-gray-800 dark:text-gray-100")},m(n,u){H(n,e,u),s||(a=fe(e,"click",i),s=!0)},p(n,u){l=n},d(n){n&&c(e),s=!1,a()}}}function Qn(l){let e,t=l[22][l[57]].digest+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0,style:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),Ps(e,"font-size","0.5rem")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&4194304&&t!==(t=a[22][a[57]].digest+"")&&K(s,t)},d(a){a&&c(e)}}}function xn(l){let e,t,s="pullProgress"in l[22][l[57]]&&Xn(l);return{c(){s&&s.c(),e=rl()},l(a){s&&s.l(a),e=rl()},m(a,i){s&&s.m(a,i),H(a,e,i),t=!0},p(a,i){"pullProgress"in a[22][a[57]]?s?(s.p(a,i),i[0]&4194304&&G(s,1)):(s=Xn(a),s.c(),G(s,1),s.m(e.parentNode,e)):s&&(wt(),W(s,1,1,()=>{s=null}),kt())},i(a){t||(G(s),t=!0)},o(a){W(s),t=!1},d(a){a&&c(e),s&&s.d(a)}}}function ei(l){let e,t=l[23].t("Select a model")+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value="",se(e,e.__value),e.disabled=!0,e.selected=!0},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Select a model")+"")&&K(s,t)},d(a){a&&c(e)}}}function ti(l){let e,t=l[57].name+" ("+(l[57].size/1073741824).toFixed(1)+" GB)",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[57].id,se(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&8&&t!==(t=i[57].name+" ("+(i[57].size/1024**3).toFixed(1)+" GB)")&&K(s,t),n[0]&8&&a!==(a=i[57].id)&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function li(l){let e,t,s,a,i,n,u,f,h=(l[13]??0)+"",E,g,v,m=l[12]&&si(l);return{c(){e=d("div"),t=d("div"),s=R(createModelTag),a=A(),i=d("div"),n=d("div"),u=d("div"),f=d("div"),E=R(h),g=R("%"),v=A(),m&&m.c(),this.h()},l(b){e=_(b,"DIV",{class:!0});var I=p(e);t=_(I,"DIV",{class:!0});var T=p(t);s=C(T,createModelTag),T.forEach(c),a=y(I),i=_(I,"DIV",{class:!0});var w=p(i);n=_(w,"DIV",{class:!0});var k=p(n);u=_(k,"DIV",{class:!0});var D=p(u);f=_(D,"DIV",{class:!0,style:!0});var $=p(f);E=C($,h),g=C($,"%"),$.forEach(c),D.forEach(c),k.forEach(c),v=y(w),m&&m.l(w),w.forEach(c),I.forEach(c),this.h()},h(){o(t,"class","font-medium mb-1"),o(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Ps(f,"width",Math.max(15,l[13]??0)+"%"),o(u,"class","flex-1"),o(n,"class","flex flex-row justify-between space-x-4 pr-2"),o(i,"class",""),o(e,"class","flex flex-col mt-1")},m(b,I){H(b,e,I),r(e,t),r(t,s),r(e,a),r(e,i),r(i,n),r(n,u),r(u,f),r(f,E),r(f,g),r(i,v),m&&m.m(i,null)},p(b,I){I[0]&8192&&h!==(h=(b[13]??0)+"")&&K(E,h),I[0]&8192&&Ps(f,"width",Math.max(15,b[13]??0)+"%"),b[12]?m?m.p(b,I):(m=si(b),m.c(),m.m(i,null)):m&&(m.d(1),m=null)},d(b){b&&c(e),m&&m.d()}}}function si(l){let e,t;return{c(){e=d("div"),t=R(l[12]),this.h()},l(s){e=_(s,"DIV",{class:!0,style:!0});var a=p(e);t=C(a,l[12]),a.forEach(c),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),Ps(e,"font-size","0.5rem")},m(s,a){H(s,e,a),r(e,t)},p(s,a){a[0]&4096&&K(t,s[12])},d(s){s&&c(e)}}}function ai(l){let e,t,s,a=l[23].t("Upload a GGUF model")+"",i,n,u,f,h,E,g,v,m,b,I=l[23].t("To access the GGUF models available for downloading,")+"",T,w,k,D=l[23].t("click here.")+"",$,O,P,M;function N(X,ne){return X[14]==="file"?Jc:zc}let V=N(l),S=V(l);function q(X,ne){return X[14]==="file"?Qc:Xc}let Y=q(l),L=Y(l),U=(l[14]==="file"&&l[15]&&l[15].length>0||l[14]==="url"&&l[16]!=="")&&ri(l),B=(l[14]==="file"&&l[15]&&l[15].length>0||l[14]==="url"&&l[16]!=="")&&ni(l);function j(X,ne){if(X[20])return ad;if(X[19]!==null)return sd}let F=j(l),J=F&&F(l);return{c(){e=d("form"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("button"),S.c(),f=A(),h=d("div"),E=d("div"),L.c(),g=A(),U&&U.c(),v=A(),B&&B.c(),m=A(),b=d("div"),T=R(I),w=A(),k=d("a"),$=R(D),O=A(),J&&J.c(),this.h()},l(X){e=_(X,"FORM",{});var ne=p(e);t=_(ne,"DIV",{class:!0});var ie=p(t);s=_(ie,"DIV",{class:!0});var ae=p(s);i=C(ae,a),ae.forEach(c),n=y(ie),u=_(ie,"BUTTON",{class:!0,type:!0});var Q=p(u);S.l(Q),Q.forEach(c),ie.forEach(c),f=y(ne),h=_(ne,"DIV",{class:!0});var Z=p(h);E=_(Z,"DIV",{class:!0});var te=p(E);L.l(te),te.forEach(c),g=y(Z),U&&U.l(Z),Z.forEach(c),v=y(ne),B&&B.l(ne),m=y(ne),b=_(ne,"DIV",{class:!0});var ee=p(b);T=C(ee,I),w=y(ee),k=_(ee,"A",{class:!0,href:!0,target:!0});var z=p(k);$=C(z,D),z.forEach(c),ee.forEach(c),O=y(ne),J&&J.l(ne),ne.forEach(c),this.h()},h(){o(s,"class","text-sm font-medium"),o(u,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(u,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(E,"class","flex flex-col w-full"),o(h,"class","flex w-full mb-1.5"),o(k,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(k,"href","https://huggingface.co/models?search=gguf"),o(k,"target","_blank"),o(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(X,ne){H(X,e,ne),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),S.m(u,null),r(e,f),r(e,h),r(h,E),L.m(E,null),r(h,g),U&&U.m(h,null),r(e,v),B&&B.m(e,null),r(e,m),r(e,b),r(b,T),r(b,w),r(b,k),r(k,$),r(e,O),J&&J.m(e,null),P||(M=[fe(u,"click",l[44]),fe(e,"submit",vs(l[51]))],P=!0)},p(X,ne){ne[0]&8388608&&a!==(a=X[23].t("Upload a GGUF model")+"")&&K(i,a),V===(V=N(X))&&S?S.p(X,ne):(S.d(1),S=V(X),S&&(S.c(),S.m(u,null))),Y===(Y=q(X))&&L?L.p(X,ne):(L.d(1),L=Y(X),L&&(L.c(),L.m(E,null))),X[14]==="file"&&X[15]&&X[15].length>0||X[14]==="url"&&X[16]!==""?U?U.p(X,ne):(U=ri(X),U.c(),U.m(h,null)):U&&(U.d(1),U=null),X[14]==="file"&&X[15]&&X[15].length>0||X[14]==="url"&&X[16]!==""?B?B.p(X,ne):(B=ni(X),B.c(),B.m(e,m)):B&&(B.d(1),B=null),ne[0]&8388608&&I!==(I=X[23].t("To access the GGUF models available for downloading,")+"")&&K(T,I),ne[0]&8388608&&D!==(D=X[23].t("click here.")+"")&&K($,D),F===(F=j(X))&&J?J.p(X,ne):(J&&J.d(1),J=F&&F(X),J&&(J.c(),J.m(e,null)))},d(X){X&&c(e),S.d(),L.d(),U&&U.d(),B&&B.d(),J&&J.d(),P=!1,gl(M)}}}function zc(l){let e,t=l[23].t("URL Mode")+"",s;return{c(){e=d("span"),s=R(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("URL Mode")+"")&&K(s,t)},d(a){a&&c(e)}}}function Jc(l){let e,t=l[23].t("File Mode")+"",s;return{c(){e=d("span"),s=R(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("File Mode")+"")&&K(s,t)},d(a){a&&c(e)}}}function Xc(l){let e,t,s,a,i,n,u;return{c(){e=d("div"),t=d("input"),this.h()},l(f){e=_(f,"DIV",{class:!0});var h=p(e);t=_(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(c),this.h()},h(){o(t,"class",s="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden "+(l[16]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder",a=l[23].t("Type Hugging Face Resolve (Download) URL")),o(e,"class",i="flex-1 "+(l[16]!==""?"mr-2":""))},m(f,h){H(f,e,h),r(e,t),se(t,l[16]),n||(u=fe(t,"input",l[49]),n=!0)},p(f,h){h[0]&65536&&s!==(s="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden "+(f[16]!==""?"mr-2":""))&&o(t,"class",s),h[0]&8388608&&a!==(a=f[23].t("Type Hugging Face Resolve (Download) URL"))&&o(t,"placeholder",a),h[0]&65536&&t.value!==f[16]&&se(t,f[16]),h[0]&65536&&i!==(i="flex-1 "+(f[16]!==""?"mr-2":""))&&o(e,"class",i)},d(f){f&&c(e),n=!1,u()}}}function Qc(l){let e,t,s,a,i,n,u;function f(g,v){return g[15]&&g[15].length>0?ed:xc}let h=f(l),E=h(l);return{c(){e=d("div"),t=d("input"),s=A(),a=d("button"),E.c(),this.h()},l(g){e=_(g,"DIV",{class:!0});var v=p(e);t=_(v,"INPUT",{id:!0,type:!0,accept:!0}),s=y(v),a=_(v,"BUTTON",{type:!0,class:!0});var m=p(a);E.l(m),m.forEach(c),v.forEach(c),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(a,"type","button"),o(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(l[15]&&l[15].length>0?"mr-2":""))},m(g,v){H(g,e,v),r(e,t),l[45](t),r(e,s),r(e,a),E.m(a,null),n||(u=[fe(t,"change",l[46]),fe(t,"change",l[47]),fe(a,"click",l[48])],n=!0)},p(g,v){h===(h=f(g))&&E?E.p(g,v):(E.d(1),E=h(g),E&&(E.c(),E.m(a,null))),v[0]&32768&&i!==(i="flex-1 "+(g[15]&&g[15].length>0?"mr-2":""))&&o(e,"class",i)},d(g){g&&c(e),l[45](null),E.d(),n=!1,gl(u)}}}function xc(l){let e=l[23].t("Click here to select")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&8388608&&e!==(e=s[23].t("Click here to select")+"")&&K(t,e)},d(s){s&&c(t)}}}function ed(l){let e=l[15][0].name+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&32768&&e!==(e=s[15][0].name+"")&&K(t,e)},d(s){s&&c(t)}}}function ri(l){let e;function t(i,n){return i[7]?ld:td}let s=t(l),a=s(l);return{c(){e=d("button"),a.c(),this.h()},l(i){e=_(i,"BUTTON",{class:!0,type:!0});var n=p(e);a.l(n),n.forEach(c),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),o(e,"type","submit"),e.disabled=l[7]},m(i,n){H(i,e,n),a.m(e,null)},p(i,n){s!==(s=t(i))&&(a.d(1),a=s(i),a&&(a.c(),a.m(e,null))),n[0]&128&&(e.disabled=i[7])},d(i){i&&c(e),a.d()}}}function td(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{d:!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){H(a,e,i),r(e,t),r(e,s)},d(a){a&&c(e)}}}function ld(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function ni(l){let e,t,s,a=l[23].t("Modelfile Content")+"",i,n,u,f,h;return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("textarea"),this.h()},l(E){e=_(E,"DIV",{});var g=p(e);t=_(g,"DIV",{});var v=p(t);s=_(v,"DIV",{class:!0});var m=p(s);i=C(m,a),m.forEach(c),n=y(v),u=_(v,"TEXTAREA",{class:!0,rows:!0}),p(u).forEach(c),v.forEach(c),g.forEach(c),this.h()},h(){o(s,"class","my-2.5 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none"),o(u,"rows","6")},m(E,g){H(E,e,g),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),se(u,l[17]),f||(h=fe(u,"input",l[50]),f=!0)},p(E,g){g[0]&8388608&&a!==(a=E[23].t("Modelfile Content")+"")&&K(i,a),g[0]&131072&&se(u,E[17])},d(E){E&&c(e),f=!1,h()}}}function sd(l){let e,t,s=l[23].t("Upload Progress")+"",a,i,n,u,f=(l[19]??0)+"",h,E,g,v,m;return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),h=R(f),E=R("%"),g=A(),v=d("div"),m=R(l[18]),this.h()},l(b){e=_(b,"DIV",{class:!0});var I=p(e);t=_(I,"DIV",{class:!0});var T=p(t);a=C(T,s),T.forEach(c),i=y(I),n=_(I,"DIV",{class:!0});var w=p(n);u=_(w,"DIV",{class:!0,style:!0});var k=p(u);h=C(k,f),E=C(k,"%"),k.forEach(c),w.forEach(c),g=y(I),v=_(I,"DIV",{class:!0,style:!0});var D=p(v);m=C(D,l[18]),D.forEach(c),I.forEach(c),this.h()},h(){o(t,"class","mb-2 text-xs"),o(u,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Ps(u,"width",Math.max(15,l[19]??0)+"%"),o(n,"class","w-full rounded-full dark:bg-gray-800"),o(v,"class","mt-1 text-xs dark:text-gray-500"),Ps(v,"font-size","0.5rem"),o(e,"class","mt-2")},m(b,I){H(b,e,I),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,h),r(u,E),r(e,g),r(e,v),r(v,m)},p(b,I){I[0]&8388608&&s!==(s=b[23].t("Upload Progress")+"")&&K(a,s),I[0]&524288&&f!==(f=(b[19]??0)+"")&&K(h,f),I[0]&524288&&Ps(u,"width",Math.max(15,b[19]??0)+"%"),I[0]&262144&&K(m,b[18])},d(b){b&&c(e)}}}function ad(l){let e,t,s=l[23].t("Upload Progress")+"",a,i,n,u,f,h,E,g;return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=R(l[20]),h=A(),E=d("div"),g=R(l[18]),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);a=C(b,s),b.forEach(c),i=y(m),n=_(m,"DIV",{class:!0});var I=p(n);u=_(I,"DIV",{class:!0,style:!0});var T=p(u);f=C(T,l[20]),T.forEach(c),I.forEach(c),h=y(m),E=_(m,"DIV",{class:!0,style:!0});var w=p(E);g=C(w,l[18]),w.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","mb-2 text-xs"),o(u,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Ps(u,"width","100%"),o(n,"class","w-full rounded-full dark:bg-gray-800"),o(E,"class","mt-1 text-xs dark:text-gray-500"),Ps(E,"font-size","0.5rem"),o(e,"class","mt-2")},m(v,m){H(v,e,m),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),r(e,h),r(e,E),r(E,g)},p(v,m){m[0]&8388608&&s!==(s=v[23].t("Upload Progress")+"")&&K(a,s),m[0]&1048576&&K(f,v[20]),m[0]&262144&&K(g,v[18])},d(v){v&&c(e)}}}function rd(l){let e,t,s,a,i,n,u;function f(m){l[32](m)}let h={};l[1]!==void 0&&(h.show=l[1]),e=new Da({props:h}),Xe.push(()=>lt(e,"show",f)),e.$on("confirm",l[33]);const E=[Yc,Kc,jc],g=[];function v(m,b){return m[2]?m[3]===null?1:2:0}return a=v(l),i=g[a]=E[a](l),{c(){_e(e.$$.fragment),s=A(),i.c(),n=rl()},l(m){he(e.$$.fragment,m),s=y(m),i.l(m),n=rl()},m(m,b){pe(e,m,b),H(m,s,b),g[a].m(m,b),H(m,n,b),u=!0},p(m,b){const I={};!t&&b[0]&2&&(t=!0,I.show=m[1],tt(()=>t=!1)),e.$set(I);let T=a;a=v(m),a===T?g[a].p(m,b):(wt(),W(g[T],1,1,()=>{g[T]=null}),kt(),i=g[a],i?i.p(m,b):(i=g[a]=E[a](m),i.c()),G(i,1),i.m(n.parentNode,n))},i(m){u||(G(e.$$.fragment,m),G(i),u=!0)},o(m){W(e.$$.fragment,m),W(i),u=!1},d(m){m&&(c(s),c(n)),ve(e,m),g[a].d(m)}}}const nd=3;function id(l,e,t){let s,a,i,n;el(l,Js,le=>t(54,s=le)),el(l,ss,le=>t(55,a=le)),el(l,Fs,le=>t(22,i=le));const u=Ml("i18n");el(l,u,le=>t(23,n=le));let f,h=!1,E=!0,{urlIdx:g=null}=e,v=[],m=null,b=null,I=!1,T=!1,w="",k=!1,D="",$="",O="",P=null,M="",N=null,V="file",S=null,q="",Y=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,L="",U=null,B="",j="";const F=async()=>{for(const le of v){console.log(le),t(4,m=le.id);const[de,$e]=await yr(localStorage.token,le.id,g).catch(Ne=>(et.error(`${Ne}`),null));if(de){const Ne=de.body.pipeThrough(new TextDecoderStream).pipeThrough(sa(`
`)).getReader();for(;;)try{const{value:Oe,done:He}=await Ne.read();if(He)break;let We=Oe.split(`
`);for(const Ze of We)if(Ze!==""){let je=JSON.parse(Ze);if(console.log(je),je.error)throw je.error;if(je.detail)throw je.detail;je.status&&(je.digest?(t(5,b=0),je.completed?t(5,b=Math.round(je.completed/je.total*1e3)/10):t(5,b=100)):et.success(je.status))}}catch(Oe){console.log(Oe)}}}t(4,m=null),t(5,b=null)},J=async()=>{var Ne;const le=w.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(i),i[le]){et.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:le}));return}if(Object.keys(i).length===nd){et.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[de,$e]=await yr(localStorage.token,le,g).catch(Oe=>(et.error(`${Oe}`),null));if(de){const Oe=de.body.pipeThrough(new TextDecoderStream).pipeThrough(sa(`
`)).getReader();for(Fs.set({...i,[le]:{...i[le],abortController:$e,reader:Oe,done:!1}});;)try{const{value:He,done:We}=await Oe.read();if(We)break;let Ze=He.split(`
`);for(const je of Ze)if(je!==""){let Ie=JSON.parse(je);if(console.log(Ie),Ie.error)throw Ie.error;if(Ie.detail)throw Ie.detail;if(Ie.status)if(Ie.digest){let ye=0;Ie.completed?ye=Math.round(Ie.completed/Ie.total*1e3)/10:ye=100,Fs.set({...i,[le]:{...i[le],pullProgress:ye,digest:Ie.digest}})}else et.success(Ie.status),Fs.set({...i,[le]:{...i[le],done:Ie.status==="success"}})}}catch(He){console.log(He),typeof He!="string"&&(He=He.message),et.error(`${He}`)}console.log(i[le]),i[le].done?(et.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:le})),Ll.set(await Xl(localStorage.token,((Ne=a==null?void 0:a.features)==null?void 0:Ne.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))):et.error(n.t("Download canceled")),delete i[le],Fs.set({...i})}t(8,w=""),t(7,T=!1)},X=async()=>{var Ne;t(7,T=!0);let le=!1,de=null,$e="";if(V==="file"){const Oe=S?S[0]:null;Oe&&(t(20,B="Uploading..."),de=await Du(localStorage.token,Oe,g).catch(He=>(et.error(`${He}`),null)))}else t(19,U=0),de=await Au(localStorage.token,q,g).catch(Oe=>(et.error(`${Oe}`),null));if(de&&de.ok){const Oe=de.body.pipeThrough(new TextDecoderStream).pipeThrough(sa(`
`)).getReader();for(;;){const{value:He,done:We}=await Oe.read();if(We)break;try{let Ze=He.split(`
`);for(const je of Ze)if(je!==""){let Ie=JSON.parse(je.replace(/^data: /,""));if(Ie.progress&&(B&&t(20,B=""),t(19,U=Ie.progress)),Ie.error)throw Ie.error;Ie.done&&(t(18,L=Ie.blob),$e=Ie.name,le=!0)}}catch(Ze){console.log(Ze)}}}else{const Oe=await(de==null?void 0:de.json());et.error((Oe==null?void 0:Oe.detail)??Oe)}if(le){const Oe=await Vr(localStorage.token,`${$e}:latest`,`FROM @${L}
${Y}`);if(Oe&&Oe.ok){const He=Oe.body.pipeThrough(new TextDecoderStream).pipeThrough(sa(`
`)).getReader();for(;;){const{value:We,done:Ze}=await He.read();if(Ze)break;try{let je=We.split(`
`);for(const Ie of je)if(Ie!==""){console.log(Ie);let ye=JSON.parse(Ie);if(console.log(ye),ye.error)throw ye.error;if(ye.detail)throw ye.detail;ye.status&&(!ye.digest&&!ye.status.includes("writing")&&!ye.status.includes("sha256")?et.success(ye.status):ye.digest&&(M=ye.digest,ye.completed?N=Math.round(ye.completed/ye.total*1e3)/10:N=100))}}catch(je){console.log(je),et.error(`${je}`)}}}}t(16,q=""),f&&t(0,f.value="",f),t(15,S=null),t(7,T=!1),t(19,U=null),Ll.set(await Xl(localStorage.token,((Ne=a==null?void 0:a.features)==null?void 0:Ne.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))},ne=async()=>{var de;await $r(localStorage.token,j,g).catch($e=>{et.error(`${$e}`)})&&et.success(n.t("Deleted {{deleteModelTag}}",{deleteModelTag:j})),t(21,j=""),Ll.set(await Xl(localStorage.token,((de=a==null?void 0:a.features)==null?void 0:de.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))},ie=async le=>{const{reader:de,abortController:$e}=i[le];$e&&$e.abort(),de&&(await de.cancel(),delete i[le],Fs.set({...i}),await $r(localStorage.token,le),et.success(`${le} download has been canceled`))},ae=async()=>{var $e;t(9,k=!0);let le={};try{le=JSON.parse($)}catch(Ne){et.error(`${Ne}`),t(9,k=!1);return}const de=await Vr(localStorage.token,{model:D,...le},g).catch(Ne=>(et.error(`${Ne}`),null));if(de&&de.ok){const Ne=de.body.pipeThrough(new TextDecoderStream).pipeThrough(sa(`
`)).getReader();for(;;){const{value:Oe,done:He}=await Ne.read();if(He)break;try{let We=Oe.split(`
`);for(const Ze of We)if(Ze!==""){console.log(Ze);let je=JSON.parse(Ze);if(console.log(je),je.error)throw je.error;if(je.detail)throw je.detail;je.status&&(!je.digest&&!je.status.includes("writing")&&!je.status.includes("sha256")?et.success(je.status):je.digest&&(t(12,O=je.digest),je.completed?t(13,P=Math.round(je.completed/je.total*1e3)/10):t(13,P=100)))}}catch(We){console.log(We),et.error(`${We}`)}}}Ll.set(await Xl(localStorage.token,(($e=a==null?void 0:a.features)==null?void 0:$e.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),t(9,k=!1),t(10,D=""),t(11,$=""),t(12,O=""),t(13,P=null)},Q=async()=>{t(2,E=!0),t(3,v=await Tu(localStorage.token,g).catch(le=>(et.error(`${le}`),null))),v&&t(2,E=!1)};function Z(le){h=le,t(1,h)}const te=()=>{ne()},ee=()=>{F()};function z(){w=this.value,t(8,w)}const be=()=>{J()},re=le=>{ie(le)};function ue(){j=Pl(this),t(21,j),t(3,v)}const oe=()=>{t(1,h=!0)};function Te(){D=this.value,t(10,D)}function ge(){$=this.value,t(11,$)}const me=()=>{ae()},De=()=>{t(6,I=!I)},Se=()=>{V==="file"?t(14,V="url"):t(14,V="file")};function ke(le){Xe[le?"unshift":"push"](()=>{f=le,t(0,f)})}function we(){S=this.files,t(15,S)}const Ae=()=>{console.log(S)},x=()=>{f.click()};function ce(){q=this.value,t(16,q)}function Be(){Y=this.value,t(17,Y)}const Ce=()=>{X()};return l.$$set=le=>{"urlIdx"in le&&t(31,g=le.urlIdx)},l.$$.update=()=>{l.$$.dirty[1]&1&&g!==null&&Q()},[f,h,E,v,m,b,I,T,w,k,D,$,O,P,V,S,q,Y,L,U,B,j,i,n,u,F,J,X,ne,ie,ae,g,Z,te,ee,z,be,re,ue,oe,Te,ge,me,De,Se,ke,we,Ae,x,ce,Be,Ce]}class _o extends $l{constructor(e){super(),Vl(this,e,id,rd,yl,{urlIdx:31},null,[-1,-1,-1])}}function ii(l,e,t){const s=l.slice();return s[5]=e[t],s[7]=t,s}function oi(l){let e,t,s,a,i,n,u,f,h=Vt(l[0].OLLAMA_BASE_URLS),E=[];for(let g=0;g<h.length;g+=1)E[g]=ui(ii(l,h,g));return i=new _o({props:{urlIdx:l[1]}}),{c(){e=d("div"),t=d("select");for(let g=0;g<E.length;g+=1)E[g].c();a=A(),_e(i.$$.fragment),this.h()},l(g){e=_(g,"DIV",{class:!0});var v=p(e);t=_(v,"SELECT",{class:!0,placeholder:!0});var m=p(t);for(let b=0;b<E.length;b+=1)E[b].l(m);m.forEach(c),v.forEach(c),a=y(g),he(i.$$.fragment,g),this.h()},h(){o(t,"class","w-full py-2 px-4 text-sm outline-hidden bg-transparent"),o(t,"placeholder",s=l[2].t("Select an Ollama instance")),l[1]===void 0&&Sl(()=>l[4].call(t)),o(e,"class","flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850")},m(g,v){H(g,e,v),r(e,t);for(let m=0;m<E.length;m+=1)E[m]&&E[m].m(t,null);xt(t,l[1],!0),H(g,a,v),pe(i,g,v),n=!0,u||(f=fe(t,"change",l[4]),u=!0)},p(g,v){if(v&1){h=Vt(g[0].OLLAMA_BASE_URLS);let b;for(b=0;b<h.length;b+=1){const I=ii(g,h,b);E[b]?E[b].p(I,v):(E[b]=ui(I),E[b].c(),E[b].m(t,null))}for(;b<E.length;b+=1)E[b].d(1);E.length=h.length}(!n||v&4&&s!==(s=g[2].t("Select an Ollama instance")))&&o(t,"placeholder",s),v&2&&xt(t,g[1]);const m={};v&2&&(m.urlIdx=g[1]),i.$set(m)},i(g){n||(G(i.$$.fragment,g),n=!0)},o(g){W(i.$$.fragment,g),n=!1},d(g){g&&(c(e),c(a)),wl(E,g),ve(i,g),u=!1,f()}}}function ui(l){let e,t=l[5]+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value=l[7],se(e,e.__value)},m(a,i){H(a,e,i),r(e,s)},p(a,i){i&1&&t!==(t=a[5]+"")&&K(s,t)},d(a){a&&c(e)}}}function od(l){let e,t,s=l[0]&&oi(l);return{c(){s&&s.c(),e=rl()},l(a){s&&s.l(a),e=rl()},m(a,i){s&&s.m(a,i),H(a,e,i),t=!0},p(a,[i]){a[0]?s?(s.p(a,i),i&1&&G(s,1)):(s=oi(a),s.c(),G(s,1),s.m(e.parentNode,e)):s&&(wt(),W(s,1,1,()=>{s=null}),kt())},i(a){t||(G(s),t=!0)},o(a){W(s),t=!1},d(a){a&&c(e),s&&s.d(a)}}}function ud(l,e,t){let s;const a=Ml("i18n");el(l,a,f=>t(2,s=f));let{ollamaConfig:i=null}=e,n=0;function u(){n=Pl(this),t(1,n)}return l.$$set=f=>{"ollamaConfig"in f&&t(0,i=f.ollamaConfig)},[i,n,s,a,u]}class fd extends $l{constructor(e){super(),Vl(this,e,ud,od,yl,{ollamaConfig:0})}}function cd(l){let e,t,s;return t=new Cs({}),{c(){e=d("div"),_e(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);he(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","py-5")},m(a,i){H(a,e,i),pe(t,e,null),s=!0},p:gt,i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&c(e),ve(t)}}}function dd(l){let e,t,s,a=l[3].t("Ollama")+"",i,n,u,f,h,E,g,v=l[1]==="ollama"&&fi(l);return{c(){e=d("div"),t=d("div"),s=d("button"),i=R(a),u=A(),f=d("div"),v&&v.c(),this.h()},l(m){e=_(m,"DIV",{class:!0});var b=p(e);t=_(b,"DIV",{class:!0});var I=p(t);s=_(I,"BUTTON",{class:!0});var T=p(s);i=C(T,a),T.forEach(c),I.forEach(c),u=y(b),f=_(b,"DIV",{class:!0});var w=p(f);v&&v.l(w),w.forEach(c),b.forEach(c),this.h()},h(){o(s,"class",n="min-w-fit rounded-full p-1.5 "+(l[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),o(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),o(f,"class","px-1.5 py-1"),o(e,"class","flex w-full flex-col")},m(m,b){H(m,e,b),r(e,t),r(t,s),r(s,i),r(e,u),r(e,f),v&&v.m(f,null),h=!0,E||(g=fe(s,"click",l[6]),E=!0)},p(m,b){(!h||b&8)&&a!==(a=m[3].t("Ollama")+"")&&K(i,a),(!h||b&2&&n!==(n="min-w-fit rounded-full p-1.5 "+(m[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"))&&o(s,"class",n),m[1]==="ollama"?v?(v.p(m,b),b&2&&G(v,1)):(v=fi(m),v.c(),G(v,1),v.m(f,null)):v&&(wt(),W(v,1,1,()=>{v=null}),kt())},i(m){h||(G(v),h=!0)},o(m){W(v),h=!1},d(m){m&&c(e),v&&v.d(),E=!1,g()}}}function _d(l){let e,t,s=l[3].t("No inference engine with management support found")+"",a;return{c(){e=d("div"),t=d("div"),a=R(s),this.h()},l(i){e=_(i,"DIV",{class:!0});var n=p(e);t=_(n,"DIV",{});var u=p(t);a=C(u,s),u.forEach(c),n.forEach(c),this.h()},h(){o(e,"class","py-5 text-gray-400 text-xs")},m(i,n){H(i,e,n),r(e,t),r(t,a)},p(i,n){n&8&&s!==(s=i[3].t("No inference engine with management support found")+"")&&K(a,s)},i:gt,o:gt,d(i){i&&c(e)}}}function fi(l){let e,t;return e=new fd({props:{ollamaConfig:l[2]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a&4&&(i.ollamaConfig=s[2]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function hd(l){let e,t,s,a=l[3].t("Manage Models")+"",i,n,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,E,g,v,m,b,I,T;const w=[_d,dd,cd],k=[];function D($,O){return $[1]===""?0:$[1]!==null?1:2}return v=D(l),m=k[v]=w[v](l),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("button"),u.innerHTML=f,h=A(),E=d("div"),g=d("div"),m.c(),this.h()},l($){e=_($,"DIV",{});var O=p(e);t=_(O,"DIV",{class:!0});var P=p(t);s=_(P,"DIV",{class:!0});var M=p(s);i=C(M,a),M.forEach(c),n=y(P),u=_(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Qt(u)!=="svelte-745w2y"&&(u.innerHTML=f),P.forEach(c),h=y(O),E=_(O,"DIV",{class:!0});var N=p(E);g=_(N,"DIV",{class:!0});var V=p(g);m.l(V),V.forEach(c),N.forEach(c),O.forEach(c),this.h()},h(){o(s,"class","text-lg font-medium self-center font-primary"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4"),o(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(E,"class","flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200")},m($,O){H($,e,O),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(e,h),r(e,E),r(E,g),k[v].m(g,null),b=!0,I||(T=fe(u,"click",l[5]),I=!0)},p($,O){(!b||O&8)&&a!==(a=$[3].t("Manage Models")+"")&&K(i,a);let P=v;v=D($),v===P?k[v].p($,O):(wt(),W(k[P],1,1,()=>{k[P]=null}),kt(),m=k[v],m?m.p($,O):(m=k[v]=w[v]($),m.c()),G(m,1),m.m(g,null))},i($){b||(G(m),b=!0)},o($){W(m),b=!1},d($){$&&c(e),k[v].d(),I=!1,T()}}}function pd(l){let e,t,s;function a(n){l[7](n)}let i={size:"sm",$$slots:{default:[hd]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.show=l[0]),e=new ya({props:i}),Xe.push(()=>lt(e,"show",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,[u]){const f={};u&1039&&(f.$$scope={dirty:u,ctx:n}),!t&&u&1&&(t=!0,f.show=n[0],tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function vd(l,e,t){let s,a;el(l,Xs,v=>t(8,s=v));const i=Ml("i18n");el(l,i,v=>t(3,a=v)),Ms();let{show:n=!1}=e,u=null,f=null;as(async()=>{if(s.role==="admin"){if(await Promise.all([(async()=>{t(2,f=await uo(localStorage.token))})()]),f){t(1,u="ollama");return}t(1,u="")}});const h=()=>{t(0,n=!1)},E=()=>{t(1,u="ollama")};function g(v){n=v,t(0,n)}return l.$$set=v=>{"show"in v&&t(0,n=v.show)},[n,u,f,a,i,h,E,g]}class md extends $l{constructor(e){super(),Vl(this,e,vd,pd,yl,{show:0})}}function ci(l,e,t){const s=l.slice();return s[37]=e[t],s[38]=e,s[39]=t,s}function gd(l){let e,t,s;return t=new Cs({}),{c(){e=d("div"),_e(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);he(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","h-full w-full flex justify-center items-center")},m(a,i){H(a,e,i),pe(t,e,null),s=!0},p:gt,i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&c(e),ve(t)}}}function Ed(l){let e,t,s,a;const i=[Id,bd],n=[];function u(f,h){return f[5]===null?0:1}return e=u(l),t=n[e]=i[e](l),{c(){t.c(),s=rl()},l(f){t.l(f),s=rl()},m(f,h){n[e].m(f,h),H(f,s,h),a=!0},p(f,h){let E=e;e=u(f),e===E?n[e].p(f,h):(wt(),W(n[E],1,1,()=>{n[E]=null}),kt(),t=n[e],t?t.p(f,h):(t=n[e]=i[e](f),t.c()),G(t,1),t.m(s.parentNode,s))},i(f){a||(G(t),a=!0)},o(f){W(t),a=!1},d(f){f&&c(s),n[e].d(f)}}}function bd(l){let e,t;return e=new bu({props:{edit:!0,model:l[0].find(l[31]),preset:!1,onSubmit:l[32],onBack:l[33]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a[0]&33&&(i.model=s[0].find(s[31])),a[0]&32&&(i.onSubmit=s[32]),a[0]&32&&(i.onBack=s[33]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function Id(l){var ae;let e,t,s,a=l[10].t("Models")+"",i,n,u,f,h,E=l[4].length+"",g,v,m,b,I,T,w,k,D,$,O,P,M,N,V,S,q,Y,L,U,B,j,F;b=new Yt({props:{content:l[10].t("Manage Models"),$$slots:{default:[wd]},$$scope:{ctx:l}}}),T=new Yt({props:{content:l[10].t("Settings"),$$slots:{default:[kd]},$$scope:{ctx:l}}}),O=new Eu({props:{className:"size-3.5"}});const J=[Dd,Td],X=[];function ne(Q,Z){return Q[0].length>0?0:1}q=ne(l),Y=X[q]=J[q](l);let ie=((ae=l[11])==null?void 0:ae.role)==="admin"&&_i(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=A(),h=d("span"),g=R(E),v=A(),m=d("div"),_e(b.$$.fragment),I=A(),_e(T.$$.fragment),w=A(),k=d("div"),D=d("div"),$=d("div"),_e(O.$$.fragment),P=A(),M=d("input"),V=A(),S=d("div"),Y.c(),L=A(),ie&&ie.c(),U=rl(),this.h()},l(Q){e=_(Q,"DIV",{class:!0});var Z=p(e);t=_(Z,"DIV",{class:!0});var te=p(t);s=_(te,"DIV",{class:!0});var ee=p(s);i=C(ee,a),n=y(ee),u=_(ee,"DIV",{class:!0}),p(u).forEach(c),f=y(ee),h=_(ee,"SPAN",{class:!0});var z=p(h);g=C(z,E),z.forEach(c),ee.forEach(c),v=y(te),m=_(te,"DIV",{class:!0});var be=p(m);he(b.$$.fragment,be),I=y(be),he(T.$$.fragment,be),be.forEach(c),te.forEach(c),w=y(Z),k=_(Z,"DIV",{class:!0});var re=p(k);D=_(re,"DIV",{class:!0});var ue=p(D);$=_(ue,"DIV",{class:!0});var oe=p($);he(O.$$.fragment,oe),oe.forEach(c),P=y(ue),M=_(ue,"INPUT",{class:!0,placeholder:!0}),ue.forEach(c),re.forEach(c),Z.forEach(c),V=y(Q),S=_(Q,"DIV",{class:!0,id:!0});var Te=p(S);Y.l(Te),Te.forEach(c),L=y(Q),ie&&ie.l(Q),U=rl(),this.h()},h(){o(u,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),o(h,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),o(s,"class","flex items-center md:self-center text-xl font-medium px-0.5"),o(m,"class","flex items-center gap-1.5"),o(t,"class","flex justify-between items-center"),o($,"class","self-center ml-1 mr-3"),o(M,"class","w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"),o(M,"placeholder",N=l[10].t("Search Models")),o(D,"class","flex flex-1 items-center"),o(k,"class","flex flex-1 items-center w-full space-x-2"),o(e,"class","flex flex-col gap-1 mt-1.5 mb-2"),o(S,"class","my-2 mb-5"),o(S,"id","model-list")},m(Q,Z){H(Q,e,Z),r(e,t),r(t,s),r(s,i),r(s,n),r(s,u),r(s,f),r(s,h),r(h,g),r(t,v),r(t,m),pe(b,m,null),r(m,I),pe(T,m,null),r(e,w),r(e,k),r(k,D),r(D,$),pe(O,$,null),r(D,P),r(D,M),se(M,l[1]),H(Q,V,Z),H(Q,S,Z),X[q].m(S,null),H(Q,L,Z),ie&&ie.m(Q,Z),H(Q,U,Z),B=!0,j||(F=fe(M,"input",l[21]),j=!0)},p(Q,Z){var be;(!B||Z[0]&1024)&&a!==(a=Q[10].t("Models")+"")&&K(i,a),(!B||Z[0]&16)&&E!==(E=Q[4].length+"")&&K(g,E);const te={};Z[0]&1024&&(te.content=Q[10].t("Manage Models")),Z[0]&128|Z[1]&512&&(te.$$scope={dirty:Z,ctx:Q}),b.$set(te);const ee={};Z[0]&1024&&(ee.content=Q[10].t("Settings")),Z[0]&64|Z[1]&512&&(ee.$$scope={dirty:Z,ctx:Q}),T.$set(ee),(!B||Z[0]&1024&&N!==(N=Q[10].t("Search Models")))&&o(M,"placeholder",N),Z[0]&2&&M.value!==Q[1]&&se(M,Q[1]);let z=q;q=ne(Q),q===z?X[q].p(Q,Z):(wt(),W(X[z],1,1,()=>{X[z]=null}),kt(),Y=X[q],Y?Y.p(Q,Z):(Y=X[q]=J[q](Q),Y.c()),G(Y,1),Y.m(S,null)),((be=Q[11])==null?void 0:be.role)==="admin"?ie?ie.p(Q,Z):(ie=_i(Q),ie.c(),ie.m(U.parentNode,U)):ie&&(ie.d(1),ie=null)},i(Q){B||(G(b.$$.fragment,Q),G(T.$$.fragment,Q),G(O.$$.fragment,Q),G(Y),B=!0)},o(Q){W(b.$$.fragment,Q),W(T.$$.fragment,Q),W(O.$$.fragment,Q),W(Y),B=!1},d(Q){Q&&(c(e),c(V),c(S),c(L),c(U)),ve(b),ve(T),ve(O),X[q].d(),ie&&ie.d(Q),j=!1,F()}}}function wd(l){let e,t,s,a,i;return t=new oo({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[19]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function kd(l){let e,t,s,a,i;return t=new Aa({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[20]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function Td(l){let e,t,s=l[10].t("No models found")+"",a;return{c(){e=d("div"),t=d("div"),a=R(s),this.h()},l(i){e=_(i,"DIV",{class:!0});var n=p(e);t=_(n,"DIV",{class:!0});var u=p(t);a=C(u,s),u.forEach(c),n.forEach(c),this.h()},h(){o(t,"class","text-gray-500 dark:text-gray-400 text-xs"),o(e,"class","flex flex-col items-center justify-center w-full h-20")},m(i,n){H(i,e,n),r(e,t),r(t,a)},p(i,n){n[0]&1024&&s!==(s=i[10].t("No models found")+"")&&K(a,s)},i:gt,o:gt,d(i){i&&c(e)}}}function Dd(l){let e=[],t=new Map,s,a,i=Vt(l[4]);const n=u=>u[37].id;for(let u=0;u<i.length;u+=1){let f=ci(l,i,u),h=n(f);t.set(h,e[u]=di(h,f))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();s=rl()},l(u){for(let f=0;f<e.length;f+=1)e[f].l(u);s=rl()},m(u,f){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(u,f);H(u,s,f),a=!0},p(u,f){f[0]&66608&&(i=Vt(u[4]),wt(),e=ro(e,f,n,1,u,i,t,s.parentNode,no,di,s,ci),kt())},i(u){if(!a){for(let f=0;f<i.length;f+=1)G(e[f]);a=!0}},o(u){for(let f=0;f<e.length;f+=1)W(e[f]);a=!1},d(u){u&&c(s);for(let f=0;f<e.length;f+=1)e[f].d(u)}}}function Ad(l){let e,t=l[37].name+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","font-semibold line-clamp-1")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&16&&t!==(t=a[37].name+"")&&K(s,t)},d(a){a&&c(e)}}}function yd(l){let e,t,s;function a(u){l[24](u,l[37])}function i(){return l[25](l[37])}let n={};return l[37].is_active!==void 0&&(n.state=l[37].is_active),e=new pl({props:n}),Xe.push(()=>lt(e,"state",a)),e.$on("change",i),{c(){_e(e.$$.fragment)},l(u){he(e.$$.fragment,u)},m(u,f){pe(e,u,f),s=!0},p(u,f){l=u;const h={};!t&&f[0]&16&&(t=!0,h.state=l[37].is_active,tt(()=>t=!1)),e.$set(h)},i(u){s||(G(e.$$.fragment,u),s=!0)},o(u){W(e.$$.fragment,u),s=!1},d(u){ve(e,u)}}}function di(l,e){var j,F,J,X,ne,ie,ae,Q,Z,te,ee,z,be,re,ue,oe,Te,ge,me;let t,s,a,i,n,u,f,h,E,g,v,m,b,I=((F=(j=e[37])==null?void 0:j.meta)!=null&&F.description?(X=(J=e[37])==null?void 0:J.meta)==null?void 0:X.description:(ie=(ne=e[37])==null?void 0:ne.ollama)!=null&&ie.digest?`${e[37].id} (${(Q=(ae=e[37])==null?void 0:ae.ollama)==null?void 0:Q.digest})`:e[37].id)+"",T,w,k,D,$,O='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',P,M,N,V,S,q,Y,L;g=new Yt({props:{content:kr.parse((te=(Z=e[37])==null?void 0:Z.meta)!=null&&te.description?(z=(ee=e[37])==null?void 0:ee.meta)==null?void 0:z.description:(re=(be=e[37])==null?void 0:be.ollama)!=null&&re.digest?`${(oe=(ue=e[37])==null?void 0:ue.ollama)==null?void 0:oe.digest} **(${(ge=(Te=e[37])==null?void 0:Te.ollama)==null?void 0:ge.modified_at})**`:e[37].id),className:" w-fit",placement:"top-start",$$slots:{default:[Ad]},$$scope:{ctx:e}}});function U(){return e[22](e[37])}function B(){return e[23](e[37])}return N=new Yt({props:{content:((me=e[37])==null?void 0:me.is_active)??!0?e[10].t("Enabled"):e[10].t("Disabled"),$$slots:{default:[yd]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=d("div"),s=d("button"),a=d("div"),i=d("div"),n=d("img"),h=A(),E=d("div"),_e(g.$$.fragment),v=A(),m=d("div"),b=d("span"),T=R(I),k=A(),D=d("div"),$=d("button"),$.innerHTML=O,P=A(),M=d("div"),_e(N.$$.fragment),V=A(),this.h()},l(De){t=_(De,"DIV",{class:!0,id:!0});var Se=p(t);s=_(Se,"BUTTON",{class:!0,type:!0});var ke=p(s);a=_(ke,"DIV",{class:!0});var we=p(a);i=_(we,"DIV",{class:!0});var Ae=p(i);n=_(Ae,"IMG",{src:!0,alt:!0,class:!0}),Ae.forEach(c),we.forEach(c),h=y(ke),E=_(ke,"DIV",{class:!0});var x=p(E);he(g.$$.fragment,x),v=y(x),m=_(x,"DIV",{class:!0});var ce=p(m);b=_(ce,"SPAN",{class:!0});var Be=p(b);T=C(Be,I),Be.forEach(c),ce.forEach(c),x.forEach(c),ke.forEach(c),k=y(Se),D=_(Se,"DIV",{class:!0});var Ce=p(D);$=_(Ce,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qt($)!=="svelte-1q2s9zz"&&($.innerHTML=O),P=y(Ce),M=_(Ce,"DIV",{class:!0});var le=p(M);he(N.$$.fragment,le),le.forEach(c),Ce.forEach(c),V=y(Se),Se.forEach(c),this.h()},h(){var De,Se,ke,we;zs(n.src,u=((Se=(De=e[37])==null?void 0:De.meta)==null?void 0:Se.profile_image_url)??"/static/favicon.png")||o(n,"src",u),o(n,"alt","modelfile profile"),o(n,"class","rounded-full w-full h-auto object-cover"),o(i,"class",f="rounded-full object-cover "+(((ke=e[37])==null?void 0:ke.is_active)??!0?"":"opacity-50 dark:opacity-50")),o(a,"class","self-center w-8"),o(b,"class","line-clamp-1"),o(m,"class","text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"),o(E,"class",w="flex-1 self-center "+(((we=e[37])==null?void 0:we.is_active)??!0?"":"text-gray-500")),o(s,"class","flex flex-1 text-left space-x-3.5 cursor-pointer w-full"),o(s,"type","button"),o($,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o($,"type","button"),o(M,"class","ml-1"),o(D,"class","flex flex-row gap-0.5 items-center self-center"),o(t,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition"),o(t,"id",S="model-item-"+e[37].id),this.first=t},m(De,Se){H(De,t,Se),r(t,s),r(s,a),r(a,i),r(i,n),r(s,h),r(s,E),pe(g,E,null),r(E,v),r(E,m),r(m,b),r(b,T),r(t,k),r(t,D),r(D,$),r(D,P),r(D,M),pe(N,M,null),r(t,V),q=!0,Y||(L=[fe(s,"click",U),fe($,"click",B)],Y=!0)},p(De,Se){var Ae,x,ce,Be,Ce,le,de,$e,Ne,Oe,He,We,Ze,je,Ie,ye,ht,Je,pt,ze,ot,bt,Ve;e=De,(!q||Se[0]&16&&!zs(n.src,u=((x=(Ae=e[37])==null?void 0:Ae.meta)==null?void 0:x.profile_image_url)??"/static/favicon.png"))&&o(n,"src",u),(!q||Se[0]&16&&f!==(f="rounded-full object-cover "+(((ce=e[37])==null?void 0:ce.is_active)??!0?"":"opacity-50 dark:opacity-50")))&&o(i,"class",f);const ke={};Se[0]&16&&(ke.content=kr.parse((Ce=(Be=e[37])==null?void 0:Be.meta)!=null&&Ce.description?(de=(le=e[37])==null?void 0:le.meta)==null?void 0:de.description:(Ne=($e=e[37])==null?void 0:$e.ollama)!=null&&Ne.digest?`${(He=(Oe=e[37])==null?void 0:Oe.ollama)==null?void 0:He.digest} **(${(Ze=(We=e[37])==null?void 0:We.ollama)==null?void 0:Ze.modified_at})**`:e[37].id)),Se[0]&16|Se[1]&512&&(ke.$$scope={dirty:Se,ctx:e}),g.$set(ke),(!q||Se[0]&16)&&I!==(I=((Ie=(je=e[37])==null?void 0:je.meta)!=null&&Ie.description?(ht=(ye=e[37])==null?void 0:ye.meta)==null?void 0:ht.description:(pt=(Je=e[37])==null?void 0:Je.ollama)!=null&&pt.digest?`${e[37].id} (${(ot=(ze=e[37])==null?void 0:ze.ollama)==null?void 0:ot.digest})`:e[37].id)+"")&&K(T,I),(!q||Se[0]&16&&w!==(w="flex-1 self-center "+(((bt=e[37])==null?void 0:bt.is_active)??!0?"":"text-gray-500")))&&o(E,"class",w);const we={};Se[0]&1040&&(we.content=((Ve=e[37])==null?void 0:Ve.is_active)??!0?e[10].t("Enabled"):e[10].t("Disabled")),Se[0]&16|Se[1]&512&&(we.$$scope={dirty:Se,ctx:e}),N.$set(we),(!q||Se[0]&16&&S!==(S="model-item-"+e[37].id))&&o(t,"id",S)},i(De){q||(G(g.$$.fragment,De),G(N.$$.fragment,De),q=!0)},o(De){W(g.$$.fragment,De),W(N.$$.fragment,De),q=!1},d(De){De&&c(t),ve(g),ve(N),Y=!1,gl(L)}}}function _i(l){let e,t,s,a,i,n,u=l[10].t("Import Presets")+"",f,h,E,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',v,m,b,I=l[10].t("Export Presets")+"",T,w,k,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',$,O;return{c(){e=d("div"),t=d("div"),s=d("input"),a=A(),i=d("button"),n=d("div"),f=R(u),h=A(),E=d("div"),E.innerHTML=g,v=A(),m=d("button"),b=d("div"),T=R(I),w=A(),k=d("div"),k.innerHTML=D,this.h()},l(P){e=_(P,"DIV",{class:!0});var M=p(e);t=_(M,"DIV",{class:!0});var N=p(t);s=_(N,"INPUT",{id:!0,type:!0,accept:!0}),a=y(N),i=_(N,"BUTTON",{class:!0});var V=p(i);n=_(V,"DIV",{class:!0});var S=p(n);f=C(S,u),S.forEach(c),h=y(V),E=_(V,"DIV",{class:!0,"data-svelte-h":!0}),Qt(E)!=="svelte-1ikvh1y"&&(E.innerHTML=g),V.forEach(c),v=y(N),m=_(N,"BUTTON",{class:!0});var q=p(m);b=_(q,"DIV",{class:!0});var Y=p(b);T=C(Y,I),Y.forEach(c),w=y(q),k=_(q,"DIV",{class:!0,"data-svelte-h":!0}),Qt(k)!=="svelte-1v8dg5r"&&(k.innerHTML=D),q.forEach(c),N.forEach(c),M.forEach(c),this.h()},h(){o(s,"id","models-import-input"),o(s,"type","file"),o(s,"accept",".json"),s.hidden=!0,o(n,"class","self-center mr-2 font-medium line-clamp-1"),o(E,"class","self-center"),o(i,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(b,"class","self-center mr-2 font-medium line-clamp-1"),o(k,"class","self-center"),o(m,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(t,"class","flex space-x-1"),o(e,"class","flex justify-end w-full mb-3")},m(P,M){H(P,e,M),r(e,t),r(t,s),l[26](s),r(t,a),r(t,i),r(i,n),r(n,f),r(i,h),r(i,E),r(t,v),r(t,m),r(m,b),r(b,T),r(m,w),r(m,k),$||(O=[fe(s,"change",l[27]),fe(s,"change",l[28]),fe(i,"click",l[29]),fe(m,"click",l[30])],$=!0)},p(P,M){M[0]&1024&&u!==(u=P[10].t("Import Presets")+"")&&K(f,u),M[0]&1024&&I!==(I=P[10].t("Export Presets")+"")&&K(T,I)},d(P){P&&c(e),l[26](null),$=!1,gl(O)}}}function $d(l){let e,t,s,a,i,n,u,f,h,E;function g(k){l[17](k)}let v={initHandler:l[14]};l[6]!==void 0&&(v.show=l[6]),e=new Gc({props:v}),Xe.push(()=>lt(e,"show",g));function m(k){l[18](k)}let b={};l[7]!==void 0&&(b.show=l[7]),a=new md({props:b}),Xe.push(()=>lt(a,"show",m));const I=[Ed,gd],T=[];function w(k,D){return k[0]!==null?0:1}return u=w(l),f=T[u]=I[u](l),{c(){_e(e.$$.fragment),s=A(),_e(a.$$.fragment),n=A(),f.c(),h=rl()},l(k){he(e.$$.fragment,k),s=y(k),he(a.$$.fragment,k),n=y(k),f.l(k),h=rl()},m(k,D){pe(e,k,D),H(k,s,D),pe(a,k,D),H(k,n,D),T[u].m(k,D),H(k,h,D),E=!0},p(k,D){const $={};!t&&D[0]&64&&(t=!0,$.show=k[6],tt(()=>t=!1)),e.$set($);const O={};!i&&D[0]&128&&(i=!0,O.show=k[7],tt(()=>i=!1)),a.$set(O);let P=u;u=w(k),u===P?T[u].p(k,D):(wt(),W(T[P],1,1,()=>{T[P]=null}),kt(),f=T[u],f?f.p(k,D):(f=T[u]=I[u](k),f.c()),G(f,1),f.m(h.parentNode,h))},i(k){E||(G(e.$$.fragment,k),G(a.$$.fragment,k),G(f),E=!0)},o(k){W(e.$$.fragment,k),W(a.$$.fragment,k),W(f),E=!1},d(k){k&&(c(s),c(n),c(h)),ve(e,k),ve(a,k),T[u].d(k)}}}function Vd(l,e,t){let s,a,i,n;el(l,Js,Z=>t(8,s=Z)),el(l,ss,Z=>t(9,a=Z)),el(l,Xs,Z=>t(11,n=Z));const{saveAs:u}=so,f=Ml("i18n");el(l,f,Z=>t(10,i=Z));let h,E,g=null,v=null,m=null,b=[],I=null,T=!1,w=!1,k="";const D=async Z=>{let te=new Blob([JSON.stringify(Z)],{type:"application/json"});u(te,`models-export-${Date.now()}.json`)},$=async()=>{v=await vu(localStorage.token),m=await Xl(localStorage.token,null,!0),t(0,g=m.map(Z=>{const te=v.find(ee=>ee.id===Z.id);return te?{...Z,...te}:{...Z,id:Z.id,name:Z.name,is_active:!0}}))},O=async Z=>{var te;Z.base_model_id=null,v.find(ee=>ee.id===Z.id)?await mu(localStorage.token,Z.id,Z).catch(z=>null)&&et.success(i.t("Model updated successfully")):await Ar(localStorage.token,Z).catch(z=>null)&&et.success(i.t("Model updated successfully")),Ll.set(await Xl(localStorage.token,((te=a==null?void 0:a.features)==null?void 0:te.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),await $()},P=async Z=>{var te;Object.keys(Z).includes("base_model_id")?await gu(localStorage.token,Z.id):await Ar(localStorage.token,{id:Z.id,name:Z.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:Z.is_active}).catch(ee=>null),Ll.set(await Xl(localStorage.token,((te=a==null?void 0:a.features)==null?void 0:te.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))};as(async()=>{$()});function M(Z){T=Z,t(6,T)}function N(Z){w=Z,t(7,w)}const V=()=>{t(7,w=!0)},S=()=>{t(6,T=!0)};function q(){k=this.value,t(1,k)}const Y=Z=>{t(5,I=Z.id)},L=Z=>{t(5,I=Z.id)};function U(Z,te){l.$$.not_equal(te.is_active,Z)&&(te.is_active=Z,t(4,b),t(0,g),t(1,k))}const B=async Z=>{P(Z)};function j(Z){Xe[Z?"unshift":"push"](()=>{E=Z,t(3,E)})}function F(){h=this.files,t(2,h)}const J=()=>{console.log(h);let Z=new FileReader;Z.onload=async te=>{var z;let ee=JSON.parse(te.target.result);console.log(ee);for(const be of ee)Object.keys(be).includes("base_model_id")?be.base_model_id===null&&O(be):((be==null?void 0:be.info)??!1)&&be.info.base_model_id===null&&O(be.info);await Ll.set(await Xl(localStorage.token,((z=a==null?void 0:a.features)==null?void 0:z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),$()},Z.readAsText(h[0])},X=()=>{E.click()},ne=async()=>{D(g)},ie=Z=>Z.id===I,ae=Z=>{console.log(Z),O(Z),t(5,I=null)},Q=()=>{t(5,I=null)};return l.$$.update=()=>{l.$$.dirty[0]&3&&g&&t(4,b=g.filter(Z=>k===""||Z.name.toLowerCase().includes(k.toLowerCase())).sort((Z,te)=>Z.name.localeCompare(te.name)))},[g,k,h,E,b,I,T,w,s,a,i,n,f,D,$,O,P,M,N,V,S,q,Y,L,U,B,j,F,J,X,ne,ie,ae,Q]}class Nd extends $l{constructor(e){super(),Vl(this,e,Vd,$d,yl,{},null,[-1,-1])}}function hi(l){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),p(e).forEach(c),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,s){H(t,e,s)},d(t){t&&c(e)}}}function pi(l){let e,t,s;return t=new Yt({props:{content:"Pipelines",$$slots:{default:[Od]},$$scope:{ctx:l}}}),{c(){e=d("div"),_e(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);he(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","absolute top-0.5 right-2.5")},m(a,i){H(a,e,i),pe(t,e,null),s=!0},i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&c(e),ve(t)}}}function Od(l){let e,t,s,a;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),a=vl("path"),this.h()},l(i){e=ml(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);t=ml(n,"path",{d:!0}),p(t).forEach(c),s=ml(n,"path",{d:!0}),p(s).forEach(c),a=ml(n,"path",{d:!0}),p(a).forEach(c),n.forEach(c),this.h()},h(){o(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),o(s,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),o(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(i,n){H(i,e,n),r(e,t),r(e,s),r(e,a)},p:gt,d(i){i&&c(e)}}}function Pd(l){var k;let e,t,s,a,i,n,u,f,h,E,g,v,m,b=!(((k=l[2])==null?void 0:k.enable)??!0)&&hi(),I=l[5]&&pi(l);function T(D){l[12](D)}let w={inputClassName:" outline-hidden bg-transparent w-full",placeholder:l[7].t("API Key")};return l[1]!==void 0&&(w.value=l[1]),h=new kl({props:w}),Xe.push(()=>lt(h,"value",T)),{c(){b&&b.c(),e=A(),t=d("div"),s=d("div"),a=d("input"),u=A(),I&&I.c(),f=A(),_e(h.$$.fragment),this.h()},l(D){b&&b.l(D),e=y(D),t=_(D,"DIV",{class:!0});var $=p(t);s=_($,"DIV",{class:!0});var O=p(s);a=_(O,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),u=y(O),I&&I.l(O),O.forEach(c),f=y($),he(h.$$.fragment,$),$.forEach(c),this.h()},h(){o(a,"class",i="outline-hidden w-full bg-transparent "+(l[5]?"pr-8":"")),o(a,"placeholder",n=l[7].t("API Base URL")),o(a,"autocomplete","off"),o(s,"class","flex-1 relative"),o(t,"class","flex w-full")},m(D,$){b&&b.m(D,$),H(D,e,$),H(D,t,$),r(t,s),r(s,a),se(a,l[0]),r(s,u),I&&I.m(s,null),r(t,f),pe(h,t,null),g=!0,v||(m=fe(a,"input",l[11]),v=!0)},p(D,$){var P;((P=D[2])==null?void 0:P.enable)??!0?b&&(b.d(1),b=null):b||(b=hi(),b.c(),b.m(e.parentNode,e)),(!g||$&32&&i!==(i="outline-hidden w-full bg-transparent "+(D[5]?"pr-8":"")))&&o(a,"class",i),(!g||$&128&&n!==(n=D[7].t("API Base URL")))&&o(a,"placeholder",n),$&1&&a.value!==D[0]&&se(a,D[0]),D[5]?I?$&32&&G(I,1):(I=pi(D),I.c(),G(I,1),I.m(s,null)):I&&(wt(),W(I,1,1,()=>{I=null}),kt());const O={};$&128&&(O.placeholder=D[7].t("API Key")),!E&&$&2&&(E=!0,O.value=D[1],tt(()=>E=!1)),h.$set(O)},i(D){g||(G(I),G(h.$$.fragment,D),g=!0)},o(D){W(I),W(h.$$.fragment,D),g=!1},d(D){D&&(c(e),c(t)),b&&b.d(D),I&&I.d(),ve(h),v=!1,m()}}}function Sd(l){let e,t,s,a,i;return t=new Aa({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[13]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function Md(l){let e,t,s,a,i,n,u,f,h;function E(v){l[10](v)}let g={edit:!0,connection:{url:l[0],key:l[1],config:l[2]},onDelete:l[3],onSubmit:l[9]};return l[6]!==void 0&&(g.show=l[6]),e=new ka({props:g}),Xe.push(()=>lt(e,"show",E)),i=new Yt({props:{className:"w-full relative",content:l[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:l[0]}),placement:"top-start",$$slots:{default:[Pd]},$$scope:{ctx:l}}}),f=new Yt({props:{content:l[7].t("Configure"),className:"self-start",$$slots:{default:[Sd]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment),s=A(),a=d("div"),_e(i.$$.fragment),n=A(),u=d("div"),_e(f.$$.fragment),this.h()},l(v){he(e.$$.fragment,v),s=y(v),a=_(v,"DIV",{class:!0});var m=p(a);he(i.$$.fragment,m),n=y(m),u=_(m,"DIV",{class:!0});var b=p(u);he(f.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(u,"class","flex gap-1"),o(a,"class","flex w-full gap-2 items-center")},m(v,m){pe(e,v,m),H(v,s,m),H(v,a,m),pe(i,a,null),r(a,n),r(a,u),pe(f,u,null),h=!0},p(v,[m]){const b={};m&7&&(b.connection={url:v[0],key:v[1],config:v[2]}),m&8&&(b.onDelete=v[3]),m&23&&(b.onSubmit=v[9]),!t&&m&64&&(t=!0,b.show=v[6],tt(()=>t=!1)),e.$set(b);const I={};m&129&&(I.content=v[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:v[0]})),m&16551&&(I.$$scope={dirty:m,ctx:v}),i.$set(I);const T={};m&128&&(T.content=v[7].t("Configure")),m&16448&&(T.$$scope={dirty:m,ctx:v}),f.$set(T)},i(v){h||(G(e.$$.fragment,v),G(i.$$.fragment,v),G(f.$$.fragment,v),h=!0)},o(v){W(e.$$.fragment,v),W(i.$$.fragment,v),W(f.$$.fragment,v),h=!1},d(v){v&&(c(s),c(a)),ve(e,v),ve(i),ve(f)}}}function Ld(l,e,t){let s;const a=Ml("i18n");el(l,a,w=>t(7,s=w));let{onDelete:i=()=>{}}=e,{onSubmit:n=()=>{}}=e,{pipeline:u=!1}=e,{url:f=""}=e,{key:h=""}=e,{config:E={}}=e,g=!1;const v=w=>{t(0,f=w.url),t(1,h=w.key),t(2,E=w.config),n(w)};function m(w){g=w,t(6,g)}function b(){f=this.value,t(0,f)}function I(w){h=w,t(1,h)}const T=()=>{t(6,g=!0)};return l.$$set=w=>{"onDelete"in w&&t(3,i=w.onDelete),"onSubmit"in w&&t(4,n=w.onSubmit),"pipeline"in w&&t(5,u=w.pipeline),"url"in w&&t(0,f=w.url),"key"in w&&t(1,h=w.key),"config"in w&&t(2,E=w.config)},[f,h,E,i,n,u,g,s,a,v,m,b,I,T]}class Rd extends $l{constructor(e){super(),Vl(this,e,Ld,Md,yl,{onDelete:3,onSubmit:4,pipeline:5,url:0,key:1,config:2})}}function Cd(l){let e,t,s,a,i=l[2].t("Manage Ollama")+"",n,u,f,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,g,v,m,b,I;return v=new _o({props:{urlIdx:l[1]}}),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),n=R(i),u=A(),f=d("button"),f.innerHTML=h,E=A(),g=d("div"),_e(v.$$.fragment),this.h()},l(T){e=_(T,"DIV",{});var w=p(e);t=_(w,"DIV",{class:!0});var k=p(t);s=_(k,"DIV",{class:!0});var D=p(s);a=_(D,"DIV",{class:!0});var $=p(a);n=C($,i),$.forEach(c),D.forEach(c),u=y(k),f=_(k,"BUTTON",{class:!0,"data-svelte-h":!0}),Qt(f)!=="svelte-745w2y"&&(f.innerHTML=h),k.forEach(c),E=y(w),g=_(w,"DIV",{class:!0});var O=p(g);he(v.$$.fragment,O),O.forEach(c),w.forEach(c),this.h()},h(){o(a,"class","shrink-0"),o(s,"class","flex w-full justify-between items-center text-lg font-medium self-center font-primary"),o(f,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(T,w){H(T,e,w),r(e,t),r(t,s),r(s,a),r(a,n),r(t,u),r(t,f),r(e,E),r(e,g),pe(v,g,null),m=!0,b||(I=fe(f,"click",l[4]),b=!0)},p(T,w){(!m||w&4)&&i!==(i=T[2].t("Manage Ollama")+"")&&K(n,i);const k={};w&2&&(k.urlIdx=T[1]),v.$set(k)},i(T){m||(G(v.$$.fragment,T),m=!0)},o(T){W(v.$$.fragment,T),m=!1},d(T){T&&c(e),ve(v),b=!1,I()}}}function Ud(l){let e,t,s;function a(n){l[5](n)}let i={size:"sm",$$slots:{default:[Cd]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.show=l[0]),e=new ya({props:i}),Xe.push(()=>lt(e,"show",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,[u]){const f={};u&71&&(f.$$scope={dirty:u,ctx:n}),!t&&u&1&&(t=!0,f.show=n[0],tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function Bd(l,e,t){let s;const a=Ml("i18n");el(l,a,h=>t(2,s=h));let{show:i=!1}=e,{urlIdx:n=null}=e;const u=()=>{t(0,i=!1)};function f(h){i=h,t(0,i)}return l.$$set=h=>{"show"in h&&t(0,i=h.show),"urlIdx"in h&&t(1,n=h.urlIdx)},[i,n,s,a,u,f]}class Hd extends $l{constructor(e){super(),Vl(this,e,Bd,Ud,yl,{show:0,urlIdx:1})}}function vi(l){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),p(e).forEach(c),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,s){H(t,e,s)},d(t){t&&c(e)}}}function Gd(l){var u;let e,t,s,a,i,n=!(((u=l[1])==null?void 0:u.enable)??!0)&&vi();return{c(){n&&n.c(),e=A(),t=d("input"),this.h()},l(f){n&&n.l(f),e=y(f),t=_(f,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(t,"class","w-full text-sm bg-transparent outline-hidden"),o(t,"placeholder",s=l[7].t("Enter URL (e.g. http://localhost:11434)"))},m(f,h){n&&n.m(f,h),H(f,e,h),H(f,t,h),se(t,l[0]),a||(i=fe(t,"input",l[12]),a=!0)},p(f,h){var E;((E=f[1])==null?void 0:E.enable)??!0?n&&(n.d(1),n=null):n||(n=vi(),n.c(),n.m(e.parentNode,e)),h&128&&s!==(s=f[7].t("Enter URL (e.g. http://localhost:11434)"))&&o(t,"placeholder",s),h&1&&t.value!==f[0]&&se(t,f[0])},d(f){f&&(c(e),c(t)),n&&n.d(f),a=!1,i()}}}function jd(l){let e,t,s,a,i;return t=new oo({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[13]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function Kd(l){let e,t,s,a,i;return t=new Aa({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[14]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function Yd(l){var D;let e,t,s,a,i,n,u,f,h,E,g,v,m,b;function I($){l[10]($)}let T={ollama:!0,edit:!0,connection:{url:l[0],key:((D=l[1])==null?void 0:D.key)??"",config:l[1]},onDelete:l[2],onSubmit:l[9]};l[6]!==void 0&&(T.show=l[6]),e=new ka({props:T}),Xe.push(()=>lt(e,"show",I));function w($){l[11]($)}let k={urlIdx:l[4]};return l[5]!==void 0&&(k.show=l[5]),a=new Hd({props:k}),Xe.push(()=>lt(a,"show",w)),f=new Yt({props:{className:"w-full relative",content:l[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:l[0]}),placement:"top-start",$$slots:{default:[Gd]},$$scope:{ctx:l}}}),g=new Yt({props:{content:l[7].t("Manage"),className:"self-start",$$slots:{default:[jd]},$$scope:{ctx:l}}}),m=new Yt({props:{content:l[7].t("Configure"),className:"self-start",$$slots:{default:[Kd]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment),s=A(),_e(a.$$.fragment),n=A(),u=d("div"),_e(f.$$.fragment),h=A(),E=d("div"),_e(g.$$.fragment),v=A(),_e(m.$$.fragment),this.h()},l($){he(e.$$.fragment,$),s=y($),he(a.$$.fragment,$),n=y($),u=_($,"DIV",{class:!0});var O=p(u);he(f.$$.fragment,O),h=y(O),E=_(O,"DIV",{class:!0});var P=p(E);he(g.$$.fragment,P),v=y(P),he(m.$$.fragment,P),P.forEach(c),O.forEach(c),this.h()},h(){o(E,"class","flex gap-1"),o(u,"class","flex gap-1.5")},m($,O){pe(e,$,O),H($,s,O),pe(a,$,O),H($,n,O),H($,u,O),pe(f,u,null),r(u,h),r(u,E),pe(g,E,null),r(E,v),pe(m,E,null),b=!0},p($,[O]){var q;const P={};O&3&&(P.connection={url:$[0],key:((q=$[1])==null?void 0:q.key)??"",config:$[1]}),O&4&&(P.onDelete=$[2]),O&11&&(P.onSubmit=$[9]),!t&&O&64&&(t=!0,P.show=$[6],tt(()=>t=!1)),e.$set(P);const M={};O&16&&(M.urlIdx=$[4]),!i&&O&32&&(i=!0,M.show=$[5],tt(()=>i=!1)),a.$set(M);const N={};O&129&&(N.content=$[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:$[0]})),O&32899&&(N.$$scope={dirty:O,ctx:$}),f.$set(N);const V={};O&128&&(V.content=$[7].t("Manage")),O&32800&&(V.$$scope={dirty:O,ctx:$}),g.$set(V);const S={};O&128&&(S.content=$[7].t("Configure")),O&32832&&(S.$$scope={dirty:O,ctx:$}),m.$set(S)},i($){b||(G(e.$$.fragment,$),G(a.$$.fragment,$),G(f.$$.fragment,$),G(g.$$.fragment,$),G(m.$$.fragment,$),b=!0)},o($){W(e.$$.fragment,$),W(a.$$.fragment,$),W(f.$$.fragment,$),W(g.$$.fragment,$),W(m.$$.fragment,$),b=!1},d($){$&&(c(s),c(n),c(u)),ve(e,$),ve(a,$),ve(f),ve(g),ve(m)}}}function qd(l,e,t){let s;const a=Ml("i18n");el(l,a,k=>t(7,s=k));let{onDelete:i=()=>{}}=e,{onSubmit:n=()=>{}}=e,{url:u=""}=e,{idx:f=0}=e,{config:h={}}=e,E=!1,g=!1;const v=k=>{t(0,u=k.url),t(1,h={...k.config,key:k.key}),n(k)};function m(k){g=k,t(6,g)}function b(k){E=k,t(5,E)}function I(){u=this.value,t(0,u)}const T=()=>{t(5,E=!0)},w=()=>{t(6,g=!0)};return l.$$set=k=>{"onDelete"in k&&t(2,i=k.onDelete),"onSubmit"in k&&t(3,n=k.onSubmit),"url"in k&&t(0,u=k.url),"idx"in k&&t(4,f=k.idx),"config"in k&&t(1,h=k.config)},[u,h,i,n,f,E,g,s,a,v,m,b,I,T,w]}class Wd extends $l{constructor(e){super(),Vl(this,e,qd,Yd,yl,{onDelete:2,onSubmit:3,url:0,idx:4,config:1})}}function mi(l,e,t){const s=l.slice();return s[43]=e[t],s[44]=e,s[45]=t,s}function gi(l,e,t){const s=l.slice();return s[43]=e[t],s[46]=e,s[45]=t,s}function Fd(l){let e,t,s,a;return s=new Cs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),_e(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var n=p(e);t=_(n,"DIV",{class:!0});var u=p(t);he(s.$$.fragment,u),u.forEach(c),n.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,n){H(i,e,n),r(e,t),pe(s,t,null),a=!0},p:gt,i(i){a||(G(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&c(e),ve(s)}}}function Zd(l){let e,t,s,a,i=l[11].t("OpenAI API")+"",n,u,f,h,E,g,v,m,b,I,T,w,k,D=l[11].t("Ollama API")+"",$,O,P,M,N,V,S,q,Y,L,U,B,j=l[11].t("Direct Connections")+"",F,J,X,ne,ie,ae,Q,Z,te,ee=l[11].t("Direct Connections allow users to connect to their own OpenAI compatible API endpoints.")+"",z,be;function re(ke){l[21](ke)}let ue={};l[5]!==void 0&&(ue.state=l[5]),E=new pl({props:ue}),Xe.push(()=>lt(E,"state",re)),E.$on("change",l[22]);let oe=l[5]&&Ei(l);function Te(ke){l[29](ke)}let ge={};l[6]!==void 0&&(ge.state=l[6]),M=new pl({props:ge}),Xe.push(()=>lt(M,"state",Te)),M.$on("change",l[30]);let me=l[6]&&Ii(l);function De(ke){l[36](ke)}let Se={};return l[7].ENABLE_DIRECT_CONNECTIONS!==void 0&&(Se.state=l[7].ENABLE_DIRECT_CONNECTIONS),ie=new pl({props:Se}),Xe.push(()=>lt(ie,"state",De)),ie.$on("change",l[37]),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),n=R(i),u=A(),f=d("div"),h=d("div"),_e(E.$$.fragment),v=A(),oe&&oe.c(),m=A(),b=d("hr"),I=A(),T=d("div"),w=d("div"),k=d("div"),$=R(D),O=A(),P=d("div"),_e(M.$$.fragment),V=A(),me&&me.c(),S=A(),q=d("hr"),Y=A(),L=d("div"),U=d("div"),B=d("div"),F=R(j),J=A(),X=d("div"),ne=d("div"),_e(ie.$$.fragment),Q=A(),Z=d("div"),te=d("div"),z=R(ee),this.h()},l(ke){e=_(ke,"DIV",{class:!0});var we=p(e);t=_(we,"DIV",{class:!0});var Ae=p(t);s=_(Ae,"DIV",{class:!0});var x=p(s);a=_(x,"DIV",{class:!0});var ce=p(a);n=C(ce,i),ce.forEach(c),u=y(x),f=_(x,"DIV",{class:!0});var Be=p(f);h=_(Be,"DIV",{class:!0});var Ce=p(h);he(E.$$.fragment,Ce),Ce.forEach(c),Be.forEach(c),x.forEach(c),v=y(Ae),oe&&oe.l(Ae),Ae.forEach(c),we.forEach(c),m=y(ke),b=_(ke,"HR",{class:!0}),I=y(ke),T=_(ke,"DIV",{class:!0});var le=p(T);w=_(le,"DIV",{class:!0});var de=p(w);k=_(de,"DIV",{class:!0});var $e=p(k);$=C($e,D),$e.forEach(c),O=y(de),P=_(de,"DIV",{class:!0});var Ne=p(P);he(M.$$.fragment,Ne),Ne.forEach(c),de.forEach(c),V=y(le),me&&me.l(le),le.forEach(c),S=y(ke),q=_(ke,"HR",{class:!0}),Y=y(ke),L=_(ke,"DIV",{class:!0});var Oe=p(L);U=_(Oe,"DIV",{class:!0});var He=p(U);B=_(He,"DIV",{class:!0});var We=p(B);F=C(We,j),We.forEach(c),J=y(He),X=_(He,"DIV",{class:!0});var Ze=p(X);ne=_(Ze,"DIV",{class:!0});var je=p(ne);he(ie.$$.fragment,je),je.forEach(c),Ze.forEach(c),He.forEach(c),Q=y(Oe),Z=_(Oe,"DIV",{class:!0});var Ie=p(Z);te=_(Ie,"DIV",{class:!0});var ye=p(te);z=C(ye,ee),ye.forEach(c),Ie.forEach(c),Oe.forEach(c),this.h()},h(){o(a,"class","font-medium"),o(h,"class",""),o(f,"class","flex items-center"),o(s,"class","flex justify-between items-center text-sm"),o(t,"class","mt-2 space-y-2 pr-1.5"),o(e,"class","my-2"),o(b,"class","border-gray-100 dark:border-gray-850"),o(k,"class","font-medium"),o(P,"class","mt-1"),o(w,"class","flex justify-between items-center text-sm mb-2"),o(T,"class","pr-1.5 my-2"),o(q,"class","border-gray-100 dark:border-gray-850"),o(B,"class","font-medium"),o(ne,"class",""),o(X,"class","flex items-center"),o(U,"class","flex justify-between items-center text-sm"),o(te,"class","text-xs text-gray-500"),o(Z,"class","mt-1.5"),o(L,"class","pr-1.5 my-2")},m(ke,we){H(ke,e,we),r(e,t),r(t,s),r(s,a),r(a,n),r(s,u),r(s,f),r(f,h),pe(E,h,null),r(t,v),oe&&oe.m(t,null),H(ke,m,we),H(ke,b,we),H(ke,I,we),H(ke,T,we),r(T,w),r(w,k),r(k,$),r(w,O),r(w,P),pe(M,P,null),r(T,V),me&&me.m(T,null),H(ke,S,we),H(ke,q,we),H(ke,Y,we),H(ke,L,we),r(L,U),r(U,B),r(B,F),r(U,J),r(U,X),r(X,ne),pe(ie,ne,null),r(L,Q),r(L,Z),r(Z,te),r(te,z),be=!0},p(ke,we){(!be||we[0]&2048)&&i!==(i=ke[11].t("OpenAI API")+"")&&K(n,i);const Ae={};!g&&we[0]&32&&(g=!0,Ae.state=ke[5],tt(()=>g=!1)),E.$set(Ae),ke[5]?oe?(oe.p(ke,we),we[0]&32&&G(oe,1)):(oe=Ei(ke),oe.c(),G(oe,1),oe.m(t,null)):oe&&(wt(),W(oe,1,1,()=>{oe=null}),kt()),(!be||we[0]&2048)&&D!==(D=ke[11].t("Ollama API")+"")&&K($,D);const x={};!N&&we[0]&64&&(N=!0,x.state=ke[6],tt(()=>N=!1)),M.$set(x),ke[6]?me?(me.p(ke,we),we[0]&64&&G(me,1)):(me=Ii(ke),me.c(),G(me,1),me.m(T,null)):me&&(wt(),W(me,1,1,()=>{me=null}),kt()),(!be||we[0]&2048)&&j!==(j=ke[11].t("Direct Connections")+"")&&K(F,j);const ce={};!ae&&we[0]&128&&(ae=!0,ce.state=ke[7].ENABLE_DIRECT_CONNECTIONS,tt(()=>ae=!1)),ie.$set(ce),(!be||we[0]&2048)&&ee!==(ee=ke[11].t("Direct Connections allow users to connect to their own OpenAI compatible API endpoints.")+"")&&K(z,ee)},i(ke){be||(G(E.$$.fragment,ke),G(oe),G(M.$$.fragment,ke),G(me),G(ie.$$.fragment,ke),be=!0)},o(ke){W(E.$$.fragment,ke),W(oe),W(M.$$.fragment,ke),W(me),W(ie.$$.fragment,ke),be=!1},d(ke){ke&&(c(e),c(m),c(b),c(I),c(T),c(S),c(q),c(Y),c(L)),ve(E),oe&&oe.d(),ve(M),me&&me.d(),ve(ie)}}}function Ei(l){let e,t,s,a,i,n=l[11].t("Manage OpenAI API Connections")+"",u,f,h,E,g,v;h=new Yt({props:{content:l[11].t("Add Connection"),$$slots:{default:[zd]},$$scope:{ctx:l}}});let m=Vt(l[3]),b=[];for(let T=0;T<m.length;T+=1)b[T]=bi(gi(l,m,T));const I=T=>W(b[T],1,1,()=>{b[T]=null});return{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),i=d("div"),u=R(n),f=A(),_e(h.$$.fragment),E=A(),g=d("div");for(let T=0;T<b.length;T+=1)b[T].c();this.h()},l(T){e=_(T,"HR",{class:!0}),t=y(T),s=_(T,"DIV",{class:!0});var w=p(s);a=_(w,"DIV",{class:!0});var k=p(a);i=_(k,"DIV",{class:!0});var D=p(i);u=C(D,n),D.forEach(c),f=y(k),he(h.$$.fragment,k),k.forEach(c),E=y(w),g=_(w,"DIV",{class:!0});var $=p(g);for(let O=0;O<b.length;O+=1)b[O].l($);$.forEach(c),w.forEach(c),this.h()},h(){o(e,"class","border-gray-100 dark:border-gray-850"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(g,"class","flex flex-col gap-1.5 mt-1.5"),o(s,"class","")},m(T,w){H(T,e,w),H(T,t,w),H(T,s,w),r(s,a),r(a,i),r(i,u),r(a,f),pe(h,a,null),r(s,E),r(s,g);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(g,null);v=!0},p(T,w){(!v||w[0]&2048)&&n!==(n=T[11].t("Manage OpenAI API Connections")+"")&&K(u,n);const k={};if(w[0]&2048&&(k.content=T[11].t("Add Connection")),w[0]&512|w[1]&65536&&(k.$$scope={dirty:w,ctx:T}),h.$set(k),w[0]&8476){m=Vt(T[3]);let D;for(D=0;D<m.length;D+=1){const $=gi(T,m,D);b[D]?(b[D].p($,w),G(b[D],1)):(b[D]=bi($),b[D].c(),G(b[D],1),b[D].m(g,null))}for(wt(),D=m.length;D<b.length;D+=1)I(D);kt()}},i(T){if(!v){G(h.$$.fragment,T);for(let w=0;w<m.length;w+=1)G(b[w]);v=!0}},o(T){W(h.$$.fragment,T),b=b.filter(Boolean);for(let w=0;w<b.length;w+=1)W(b[w]);v=!1},d(T){T&&(c(e),c(t),c(s)),ve(h),wl(b,T)}}}function zd(l){let e,t,s,a,i;return t=new $a({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[23]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function bi(l){let e,t,s,a,i;function n(){return l[25](l[45])}function u(g){l[26](g,l[43],l[46],l[45])}function f(g){l[27](g,l[45])}function h(g){l[28](g,l[45])}let E={pipeline:!!l[8][l[43]],onSubmit:l[24],onDelete:n};return l[43]!==void 0&&(E.url=l[43]),l[2][l[45]]!==void 0&&(E.key=l[2][l[45]]),l[4][l[45]]!==void 0&&(E.config=l[4][l[45]]),e=new Rd({props:E}),Xe.push(()=>lt(e,"url",u)),Xe.push(()=>lt(e,"key",f)),Xe.push(()=>lt(e,"config",h)),{c(){_e(e.$$.fragment)},l(g){he(e.$$.fragment,g)},m(g,v){pe(e,g,v),i=!0},p(g,v){l=g;const m={};v[0]&264&&(m.pipeline=!!l[8][l[43]]),v[0]&28&&(m.onDelete=n),!t&&v[0]&8&&(t=!0,m.url=l[43],tt(()=>t=!1)),!s&&v[0]&4&&(s=!0,m.key=l[2][l[45]],tt(()=>s=!1)),!a&&v[0]&16&&(a=!0,m.config=l[4][l[45]],tt(()=>a=!1)),e.$set(m)},i(g){i||(G(e.$$.fragment,g),i=!0)},o(g){W(e.$$.fragment,g),i=!1},d(g){ve(e,g)}}}function Ii(l){let e,t,s,a,i,n=l[11].t("Manage Ollama API Connections")+"",u,f,h,E,g,v,m,b,I=l[11].t("Trouble accessing Ollama?")+"",T,w,k,D=l[11].t("Click here for help.")+"",$,O;h=new Yt({props:{content:l[11].t("Add Connection"),$$slots:{default:[Jd]},$$scope:{ctx:l}}});let P=Vt(l[0]),M=[];for(let V=0;V<P.length;V+=1)M[V]=wi(mi(l,P,V));const N=V=>W(M[V],1,1,()=>{M[V]=null});return{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),i=d("div"),u=R(n),f=A(),_e(h.$$.fragment),E=A(),g=d("div"),v=d("div");for(let V=0;V<M.length;V+=1)M[V].c();m=A(),b=d("div"),T=R(I),w=A(),k=d("a"),$=R(D),this.h()},l(V){e=_(V,"HR",{class:!0}),t=y(V),s=_(V,"DIV",{class:!0});var S=p(s);a=_(S,"DIV",{class:!0});var q=p(a);i=_(q,"DIV",{class:!0});var Y=p(i);u=C(Y,n),Y.forEach(c),f=y(q),he(h.$$.fragment,q),q.forEach(c),E=y(S),g=_(S,"DIV",{class:!0});var L=p(g);v=_(L,"DIV",{class:!0});var U=p(v);for(let F=0;F<M.length;F+=1)M[F].l(U);U.forEach(c),L.forEach(c),m=y(S),b=_(S,"DIV",{class:!0});var B=p(b);T=C(B,I),w=y(B),k=_(B,"A",{class:!0,href:!0,target:!0});var j=p(k);$=C(j,D),j.forEach(c),B.forEach(c),S.forEach(c),this.h()},h(){o(e,"class","border-gray-100 dark:border-gray-850 my-2"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(v,"class","flex-1 flex flex-col gap-1.5 mt-1.5"),o(g,"class","flex w-full gap-1.5"),o(k,"class","text-gray-300 font-medium underline"),o(k,"href","https://github.com/open-webui/open-webui#troubleshooting"),o(k,"target","_blank"),o(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),o(s,"class","")},m(V,S){H(V,e,S),H(V,t,S),H(V,s,S),r(s,a),r(a,i),r(i,u),r(a,f),pe(h,a,null),r(s,E),r(s,g),r(g,v);for(let q=0;q<M.length;q+=1)M[q]&&M[q].m(v,null);r(s,m),r(s,b),r(b,T),r(b,w),r(b,k),r(k,$),O=!0},p(V,S){(!O||S[0]&2048)&&n!==(n=V[11].t("Manage Ollama API Connections")+"")&&K(u,n);const q={};if(S[0]&2048&&(q.content=V[11].t("Add Connection")),S[0]&1024|S[1]&65536&&(q.$$scope={dirty:S,ctx:V}),h.$set(q),S[0]&16387){P=Vt(V[0]);let Y;for(Y=0;Y<P.length;Y+=1){const L=mi(V,P,Y);M[Y]?(M[Y].p(L,S),G(M[Y],1)):(M[Y]=wi(L),M[Y].c(),G(M[Y],1),M[Y].m(v,null))}for(wt(),Y=P.length;Y<M.length;Y+=1)N(Y);kt()}(!O||S[0]&2048)&&I!==(I=V[11].t("Trouble accessing Ollama?")+"")&&K(T,I),(!O||S[0]&2048)&&D!==(D=V[11].t("Click here for help.")+"")&&K($,D)},i(V){if(!O){G(h.$$.fragment,V);for(let S=0;S<P.length;S+=1)G(M[S]);O=!0}},o(V){W(h.$$.fragment,V),M=M.filter(Boolean);for(let S=0;S<M.length;S+=1)W(M[S]);O=!1},d(V){V&&(c(e),c(t),c(s)),ve(h),wl(M,V)}}}function Jd(l){let e,t,s,a,i;return t=new $a({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[31]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function wi(l){let e,t,s,a;function i(){return l[33](l[45])}function n(h){l[34](h,l[43],l[44],l[45])}function u(h){l[35](h,l[45])}let f={idx:l[45],onSubmit:l[32],onDelete:i};return l[43]!==void 0&&(f.url=l[43]),l[1][l[45]]!==void 0&&(f.config=l[1][l[45]]),e=new Wd({props:f}),Xe.push(()=>lt(e,"url",n)),Xe.push(()=>lt(e,"config",u)),{c(){_e(e.$$.fragment)},l(h){he(e.$$.fragment,h)},m(h,E){pe(e,h,E),a=!0},p(h,E){l=h;const g={};E[0]&3&&(g.onDelete=i),!t&&E[0]&1&&(t=!0,g.url=l[43],tt(()=>t=!1)),!s&&E[0]&2&&(s=!0,g.config=l[1][l[45]],tt(()=>s=!1)),e.$set(g)},i(h){a||(G(e.$$.fragment,h),a=!0)},o(h){W(e.$$.fragment,h),a=!1},d(h){ve(e,h)}}}function Xd(l){let e,t,s,a,i,n,u,f,h,E,g,v,m,b=l[11].t("Save")+"",I,T,w,k;function D(S){l[19](S)}let $={onSubmit:l[16]};l[9]!==void 0&&($.show=l[9]),e=new ka({props:$}),Xe.push(()=>lt(e,"show",D));function O(S){l[20](S)}let P={ollama:!0,onSubmit:l[17]};l[10]!==void 0&&(P.show=l[10]),a=new ka({props:P}),Xe.push(()=>lt(a,"show",O));const M=[Zd,Fd],N=[];function V(S,q){return S[5]!==null&&S[6]!==null&&S[7]!==null?0:1}return h=V(l),E=N[h]=M[h](l),{c(){_e(e.$$.fragment),s=A(),_e(a.$$.fragment),n=A(),u=d("form"),f=d("div"),E.c(),g=A(),v=d("div"),m=d("button"),I=R(b),this.h()},l(S){he(e.$$.fragment,S),s=y(S),he(a.$$.fragment,S),n=y(S),u=_(S,"FORM",{class:!0});var q=p(u);f=_(q,"DIV",{class:!0});var Y=p(f);E.l(Y),Y.forEach(c),g=y(q),v=_(q,"DIV",{class:!0});var L=p(v);m=_(L,"BUTTON",{class:!0,type:!0});var U=p(m);I=C(U,b),U.forEach(c),L.forEach(c),q.forEach(c),this.h()},h(){o(f,"class","overflow-y-scroll scrollbar-hidden h-full"),o(m,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(m,"type","submit"),o(v,"class","flex justify-end pt-3 text-sm font-medium"),o(u,"class","flex flex-col h-full justify-between text-sm")},m(S,q){pe(e,S,q),H(S,s,q),pe(a,S,q),H(S,n,q),H(S,u,q),r(u,f),N[h].m(f,null),r(u,g),r(u,v),r(v,m),r(m,I),T=!0,w||(k=fe(u,"submit",vs(l[18])),w=!0)},p(S,q){const Y={};!t&&q[0]&512&&(t=!0,Y.show=S[9],tt(()=>t=!1)),e.$set(Y);const L={};!i&&q[0]&1024&&(i=!0,L.show=S[10],tt(()=>i=!1)),a.$set(L);let U=h;h=V(S),h===U?N[h].p(S,q):(wt(),W(N[U],1,1,()=>{N[U]=null}),kt(),E=N[h],E?E.p(S,q):(E=N[h]=M[h](S),E.c()),G(E,1),E.m(f,null)),(!T||q[0]&2048)&&b!==(b=S[11].t("Save")+"")&&K(I,b)},i(S){T||(G(e.$$.fragment,S),G(a.$$.fragment,S),G(E),T=!0)},o(S){W(e.$$.fragment,S),W(a.$$.fragment,S),W(E),T=!1},d(S){S&&(c(s),c(n),c(u)),ve(e,S),ve(a,S),N[h].d(),w=!1,k()}}}function Qd(l,e,t){let s,a,i,n;el(l,Xs,ue=>t(38,s=ue)),el(l,Js,ue=>t(39,i=ue)),el(l,ss,ue=>t(40,n=ue));const u=Ms(),f=Ml("i18n");el(l,f,ue=>t(11,a=ue));const h=async()=>{var oe;return await Xl(localStorage.token,((oe=n==null?void 0:n.features)==null?void 0:oe.enable_direct_connections)&&((i==null?void 0:i.directConnections)??null))};let E=[""],g={},v=[""],m=[""],b={},I=null,T=null,w=null,k={},D=!1,$=!1;const O=async()=>{if(I!==null){if(t(3,m=m.map(oe=>oe.replace(/\/$/,""))),v.length!==m.length&&(v.length>m.length&&t(2,v=v.slice(0,m.length)),v.length<m.length)){const oe=m.length-v.length;for(let Te=0;Te<oe;Te++)v.push("")}await Nu(localStorage.token,{ENABLE_OPENAI_API:I,OPENAI_API_BASE_URLS:m,OPENAI_API_KEYS:v,OPENAI_API_CONFIGS:b}).catch(oe=>{et.error(`${oe}`)})&&(et.success(a.t("OpenAI API settings updated")),await Ll.set(await h()))}},P=async()=>{T!==null&&(t(0,E=E.map(oe=>oe.replace(/\/$/,""))),await yu(localStorage.token,{ENABLE_OLLAMA_API:T,OLLAMA_BASE_URLS:E,OLLAMA_API_CONFIGS:g}).catch(oe=>{et.error(`${oe}`)})&&(et.success(a.t("Ollama API settings updated")),await Ll.set(await h())))},M=async()=>{await Jo(localStorage.token,w).catch(oe=>{et.error(`${oe}`)})&&(et.success(a.t("Direct Connections settings updated")),await Ll.set(await h()))},N=async ue=>{t(3,m=[...m,ue.url]),t(2,v=[...v,ue.key]),t(4,b[m.length-1]=ue.config,b),await O()},V=async ue=>{t(0,E=[...E,ue.url]),t(1,g[E.length-1]={...ue.config,key:ue.key},g),await P()};as(async()=>{if(s.role==="admin"){let ue={},oe={};if(await Promise.all([(async()=>{ue=await uo(localStorage.token)})(),(async()=>{oe=await $u(localStorage.token)})(),(async()=>{t(7,w=await zo(localStorage.token))})()]),t(5,I=oe.ENABLE_OPENAI_API),t(6,T=ue.ENABLE_OLLAMA_API),t(3,m=oe.OPENAI_API_BASE_URLS),t(2,v=oe.OPENAI_API_KEYS),t(4,b=oe.OPENAI_API_CONFIGS),t(0,E=ue.OLLAMA_BASE_URLS),t(1,g=ue.OLLAMA_API_CONFIGS),I){for(const[Te,ge]of m.entries())b[Te]||t(4,b[Te]=b[ge]||{},b);m.forEach(async(Te,ge)=>{var De;if(t(4,b[ge]=b[ge]||{},b),!(((De=b[ge])==null?void 0:De.enable)??!0))return;(await Vu(localStorage.token,ge)).pipelines&&t(8,k[Te]=!0,k)})}if(T)for(const[Te,ge]of E.entries())g[Te]||t(1,g[Te]=g[ge]||{},g)}});const S=async()=>{O(),P(),M(),u("save")};function q(ue){D=ue,t(9,D)}function Y(ue){$=ue,t(10,$)}function L(ue){I=ue,t(5,I)}const U=async()=>{O()},B=()=>{t(9,D=!0)},j=()=>{O()},F=ue=>{t(3,m=m.filter((Te,ge)=>ue!==ge)),t(2,v=v.filter((Te,ge)=>ue!==ge));let oe={};m.forEach((Te,ge)=>{oe[ge]=b[ge<ue?ge:ge+1]}),t(4,b=oe),O()};function J(ue,oe,Te,ge){Te[ge]=ue,t(3,m)}function X(ue,oe){l.$$.not_equal(v[oe],ue)&&(v[oe]=ue,t(2,v))}function ne(ue,oe){l.$$.not_equal(b[oe],ue)&&(b[oe]=ue,t(4,b))}function ie(ue){T=ue,t(6,T)}const ae=async()=>{P()},Q=()=>{t(10,$=!0)},Z=()=>{P()},te=ue=>{t(0,E=E.filter((Te,ge)=>ue!==ge));let oe={};E.forEach((Te,ge)=>{oe[ge]=g[ge<ue?ge:ge+1]}),t(1,g=oe)};function ee(ue,oe,Te,ge){Te[ge]=ue,t(0,E)}function z(ue,oe){l.$$.not_equal(g[oe],ue)&&(g[oe]=ue,t(1,g))}function be(ue){l.$$.not_equal(w.ENABLE_DIRECT_CONNECTIONS,ue)&&(w.ENABLE_DIRECT_CONNECTIONS=ue,t(7,w))}return[E,g,v,m,b,I,T,w,k,D,$,a,f,O,P,M,N,V,S,q,Y,L,U,B,j,F,J,X,ne,ie,ae,Q,Z,te,ee,z,be,async()=>{M()}]}class xd extends $l{constructor(e){super(),Vl(this,e,Qd,Xd,yl,{},null,[-1,-1])}}function e_(l){let e,t,s,a,i,n,u,f,h;function E(v){l[40](v)}let g={placeholder:l[27].t("Enter Document Intelligence Key")};return l[13]!==void 0&&(g.value=l[13]),i=new kl({props:g}),Xe.push(()=>lt(i,"value",E)),{c(){e=d("div"),t=d("input"),a=A(),_e(i.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"INPUT",{class:!0,placeholder:!0}),a=y(m),he(i.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(t,"placeholder",s=l[27].t("Enter Document Intelligence Endpoint")),o(e,"class","my-0.5 flex gap-2 pr-2")},m(v,m){H(v,e,m),r(e,t),se(t,l[12]),r(e,a),pe(i,e,null),u=!0,f||(h=fe(t,"input",l[39]),f=!0)},p(v,m){(!u||m[0]&134217728&&s!==(s=v[27].t("Enter Document Intelligence Endpoint")))&&o(t,"placeholder",s),m[0]&4096&&t.value!==v[12]&&se(t,v[12]);const b={};m[0]&134217728&&(b.placeholder=v[27].t("Enter Document Intelligence Key")),!n&&m[0]&8192&&(n=!0,b.value=v[13],tt(()=>n=!1)),i.$set(b)},i(v){u||(G(i.$$.fragment,v),u=!0)},o(v){W(i.$$.fragment,v),u=!1},d(v){v&&c(e),ve(i),f=!1,h()}}}function t_(l){let e,t,s,a,i,n;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(u){e=_(u,"DIV",{class:!0});var f=p(e);t=_(f,"DIV",{class:!0});var h=p(t);s=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),f.forEach(c),this.h()},h(){o(s,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(s,"placeholder",a=l[27].t("Enter Tika Server URL")),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full mt-1")},m(u,f){H(u,e,f),r(e,t),r(t,s),se(s,l[11]),i||(n=fe(s,"input",l[38]),i=!0)},p(u,f){f[0]&134217728&&a!==(a=u[27].t("Enter Tika Server URL"))&&o(s,"placeholder",a),f[0]&2048&&s.value!==u[11]&&se(s,u[11])},i:gt,o:gt,d(u){u&&c(e),i=!1,n()}}}function ki(l){let e,t,s=l[27].t("PDF Extract Images (OCR)")+"",a,i,n,u,f,h;function E(v){l[41](v)}let g={};return l[17]!==void 0&&(g.state=l[17]),u=new pl({props:g}),Xe.push(()=>lt(u,"state",E)),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);a=C(b,s),b.forEach(c),i=y(m),n=_(m,"DIV",{class:!0});var I=p(n);he(u.$$.fragment,I),I.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(n,"class","flex items-center relative"),o(e,"class","mb-2.5 flex w-full justify-between")},m(v,m){H(v,e,m),r(e,t),r(t,a),r(e,i),r(e,n),pe(u,n,null),h=!0},p(v,m){(!h||m[0]&134217728)&&s!==(s=v[27].t("PDF Extract Images (OCR)")+"")&&K(a,s);const b={};!f&&m[0]&131072&&(f=!0,b.state=v[17],tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function l_(l){let e=l[27].t("Bypass Embedding and Retrieval")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&134217728&&e!==(e=s[27].t("Bypass Embedding and Retrieval")+"")&&K(t,e)},d(s){s&&c(t)}}}function s_(l){let e,t,s;function a(n){l[42](n)}let i={};return l[19]!==void 0&&(i.state=l[19]),e=new pl({props:i}),Xe.push(()=>lt(e,"state",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};!t&&u[0]&524288&&(t=!0,f.state=n[19],tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function Ti(l){let e,t,s=l[27].t("Text Splitter")+"",a,i,n,u,f,h=l[27].t("Default")+"",E,g,v=l[27].t("Character")+"",m,b,I,T=l[27].t("Token")+"",w,k,D=l[27].t("Tiktoken")+"",$,O,P,M,N,V,S,q=l[27].t("Chunk Size")+"",Y,L,U,B,j,F,J,X,ne=l[27].t("Chunk Overlap")+"",ie,ae,Q,Z,te,ee,z;return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("select"),f=d("option"),E=R(h),g=R(" ("),m=R(v),b=R(")"),I=d("option"),w=R(T),k=R(" ("),$=R(D),O=R(")"),P=A(),M=d("div"),N=d("div"),V=d("div"),S=d("div"),Y=R(q),L=A(),U=d("div"),B=d("input"),F=A(),J=d("div"),X=d("div"),ie=R(ne),ae=A(),Q=d("div"),Z=d("input"),this.h()},l(be){e=_(be,"DIV",{class:!0});var re=p(e);t=_(re,"DIV",{class:!0});var ue=p(t);a=C(ue,s),ue.forEach(c),i=y(re),n=_(re,"DIV",{class:!0});var oe=p(n);u=_(oe,"SELECT",{class:!0});var Te=p(u);f=_(Te,"OPTION",{});var ge=p(f);E=C(ge,h),g=C(ge," ("),m=C(ge,v),b=C(ge,")"),ge.forEach(c),I=_(Te,"OPTION",{});var me=p(I);w=C(me,T),k=C(me," ("),$=C(me,D),O=C(me,")"),me.forEach(c),Te.forEach(c),oe.forEach(c),re.forEach(c),P=y(be),M=_(be,"DIV",{class:!0});var De=p(M);N=_(De,"DIV",{class:!0});var Se=p(N);V=_(Se,"DIV",{class:!0});var ke=p(V);S=_(ke,"DIV",{class:!0});var we=p(S);Y=C(we,q),we.forEach(c),L=y(ke),U=_(ke,"DIV",{class:!0});var Ae=p(U);B=_(Ae,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Ae.forEach(c),ke.forEach(c),F=y(Se),J=_(Se,"DIV",{class:!0});var x=p(J);X=_(x,"DIV",{class:!0});var ce=p(X);ie=C(ce,ne),ce.forEach(c),ae=y(x),Q=_(x,"DIV",{class:!0});var Be=p(Q);Z=_(Be,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Be.forEach(c),x.forEach(c),Se.forEach(c),De.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),f.__value="",se(f,f.__value),I.__value="token",se(I,I.__value),o(u,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),l[14]===void 0&&Sl(()=>l[43].call(u)),o(n,"class","flex items-center relative"),o(e,"class","mb-2.5 flex w-full justify-between"),o(S,"class","self-center text-xs font-medium min-w-fit mb-1"),o(B,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(B,"type","number"),o(B,"placeholder",j=l[27].t("Enter Chunk Size")),o(B,"autocomplete","off"),o(B,"min","0"),o(U,"class","self-center"),o(V,"class","w-full justify-between"),o(X,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Z,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Z,"type","number"),o(Z,"placeholder",te=l[27].t("Enter Chunk Overlap")),o(Z,"autocomplete","off"),o(Z,"min","0"),o(Q,"class","self-center"),o(J,"class","w-full"),o(N,"class","flex gap-1.5 w-full"),o(M,"class","mb-2.5 flex w-full justify-between")},m(be,re){H(be,e,re),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),r(f,E),r(f,g),r(f,m),r(f,b),r(u,I),r(I,w),r(I,k),r(I,$),r(I,O),xt(u,l[14],!0),H(be,P,re),H(be,M,re),r(M,N),r(N,V),r(V,S),r(S,Y),r(V,L),r(V,U),r(U,B),se(B,l[15]),r(N,F),r(N,J),r(J,X),r(X,ie),r(J,ae),r(J,Q),r(Q,Z),se(Z,l[16]),ee||(z=[fe(u,"change",l[43]),fe(B,"input",l[44]),fe(Z,"input",l[45])],ee=!0)},p(be,re){re[0]&134217728&&s!==(s=be[27].t("Text Splitter")+"")&&K(a,s),re[0]&134217728&&h!==(h=be[27].t("Default")+"")&&K(E,h),re[0]&134217728&&v!==(v=be[27].t("Character")+"")&&K(m,v),re[0]&134217728&&T!==(T=be[27].t("Token")+"")&&K(w,T),re[0]&134217728&&D!==(D=be[27].t("Tiktoken")+"")&&K($,D),re[0]&16384&&xt(u,be[14]),re[0]&134217728&&q!==(q=be[27].t("Chunk Size")+"")&&K(Y,q),re[0]&134217728&&j!==(j=be[27].t("Enter Chunk Size"))&&o(B,"placeholder",j),re[0]&32768&&Kl(B.value)!==be[15]&&se(B,be[15]),re[0]&134217728&&ne!==(ne=be[27].t("Chunk Overlap")+"")&&K(ie,ne),re[0]&134217728&&te!==(te=be[27].t("Enter Chunk Overlap"))&&o(Z,"placeholder",te),re[0]&65536&&Kl(Z.value)!==be[16]&&se(Z,be[16])},d(be){be&&(c(e),c(P),c(M)),ee=!1,gl(z)}}}function Di(l){let e,t,s=l[27].t("Embedding")+"",a,i,n,u,f,h,E,g=l[27].t("Embedding Model Engine")+"",v,m,b,I,T,w=l[27].t("Default (SentenceTransformers)")+"",k,D,$=l[27].t("Ollama")+"",O,P,M=l[27].t("OpenAI")+"",N,V,S,q,Y,L,U,B=l[27].t("Embedding Model")+"",j,F,J,X,ne,ie=l[27].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",ae,Q,Z,te,ee,z=l[27].t("Full Context Mode")+"",be,re,ue,oe,Te,ge,me,De=l[27].t("Hybrid Search")+"",Se,ke,we,Ae,x,ce,Be,Ce,le,de=l[27].t("Retrieval")+"",$e,Ne,Oe,He,We,Ze,je=l[27].t("Top K")+"",Ie,ye,ht,Je,pt,ze,ot,bt,Ve,dt=l[27].t("RAG Template")+"",Et,ut,mt,Tt,yt,_t,ct;const vt=[r_,a_],Me=[];function Ke(Le,Fe){return Le[4]==="openai"?0:Le[4]==="ollama"?1:-1}~(S=Ke(l))&&(q=Me[S]=vt[S](l));function Nt(Le,Fe){return Le[4]==="ollama"?i_:n_}let It=Nt(l),Re=It(l),Ge=(l[4]==="ollama"||l[4]==="openai")&&yi(l);oe=new Yt({props:{content:l[18]?"Inject entire contents as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[f_]},$$scope:{ctx:l}}});function ft(Le){l[57](Le)}let jt={};l[26].hybrid!==void 0&&(jt.state=l[26].hybrid),Ae=new pl({props:jt}),Xe.push(()=>lt(Ae,"state",ft)),Ae.$on("change",l[58]);let Rt=l[26].hybrid===!0&&$i(l),Gt=l[26].hybrid===!0&&Vi(l);return Tt=new Yt({props:{content:l[27].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",className:"w-full",$$slots:{default:[__]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("hr"),u=A(),f=d("div"),h=d("div"),E=d("div"),v=R(g),m=A(),b=d("div"),I=d("select"),T=d("option"),k=R(w),D=d("option"),O=R($),P=d("option"),N=R(M),V=A(),q&&q.c(),Y=A(),L=d("div"),U=d("div"),j=R(B),F=A(),J=d("div"),Re.c(),X=A(),ne=d("div"),ae=R(ie),Q=A(),Ge&&Ge.c(),Z=A(),te=d("div"),ee=d("div"),be=R(z),re=A(),ue=d("div"),_e(oe.$$.fragment),Te=A(),ge=d("div"),me=d("div"),Se=R(De),ke=A(),we=d("div"),_e(Ae.$$.fragment),ce=A(),Rt&&Rt.c(),Be=A(),Ce=d("div"),le=d("div"),$e=R(de),Ne=A(),Oe=d("hr"),He=A(),We=d("div"),Ze=d("div"),Ie=R(je),ye=A(),ht=d("div"),Je=d("input"),ze=A(),Gt&&Gt.c(),ot=A(),bt=d("div"),Ve=d("div"),Et=R(dt),ut=A(),mt=d("div"),_e(Tt.$$.fragment),this.h()},l(Le){e=_(Le,"DIV",{class:!0});var Fe=p(e);t=_(Fe,"DIV",{class:!0});var Ut=p(t);a=C(Ut,s),Ut.forEach(c),i=y(Fe),n=_(Fe,"HR",{class:!0}),u=y(Fe),f=_(Fe,"DIV",{class:!0});var Dt=p(f);h=_(Dt,"DIV",{class:!0});var Ue=p(h);E=_(Ue,"DIV",{class:!0});var Ee=p(E);v=C(Ee,g),Ee.forEach(c),m=y(Ue),b=_(Ue,"DIV",{class:!0});var rt=p(b);I=_(rt,"SELECT",{class:!0,placeholder:!0});var Pt=p(I);T=_(Pt,"OPTION",{});var Ct=p(T);k=C(Ct,w),Ct.forEach(c),D=_(Pt,"OPTION",{});var $t=p(D);O=C($t,$),$t.forEach(c),P=_(Pt,"OPTION",{});var Mt=p(P);N=C(Mt,M),Mt.forEach(c),Pt.forEach(c),rt.forEach(c),Ue.forEach(c),V=y(Dt),q&&q.l(Dt),Dt.forEach(c),Y=y(Fe),L=_(Fe,"DIV",{class:!0});var Lt=p(L);U=_(Lt,"DIV",{class:!0});var At=p(U);j=C(At,B),At.forEach(c),F=y(Lt),J=_(Lt,"DIV",{class:!0});var Ye=p(J);Re.l(Ye),Ye.forEach(c),X=y(Lt),ne=_(Lt,"DIV",{class:!0});var nt=p(ne);ae=C(nt,ie),nt.forEach(c),Lt.forEach(c),Q=y(Fe),Ge&&Ge.l(Fe),Z=y(Fe),te=_(Fe,"DIV",{class:!0});var Ot=p(te);ee=_(Ot,"DIV",{class:!0});var Kt=p(ee);be=C(Kt,z),Kt.forEach(c),re=y(Ot),ue=_(Ot,"DIV",{class:!0});var st=p(ue);he(oe.$$.fragment,st),st.forEach(c),Ot.forEach(c),Te=y(Fe),ge=_(Fe,"DIV",{class:!0});var sl=p(ge);me=_(sl,"DIV",{class:!0});var Wt=p(me);Se=C(Wt,De),Wt.forEach(c),ke=y(sl),we=_(sl,"DIV",{class:!0});var Xt=p(we);he(Ae.$$.fragment,Xt),Xt.forEach(c),sl.forEach(c),ce=y(Fe),Rt&&Rt.l(Fe),Fe.forEach(c),Be=y(Le),Ce=_(Le,"DIV",{class:!0});var zt=p(Ce);le=_(zt,"DIV",{class:!0});var al=p(le);$e=C(al,de),al.forEach(c),Ne=y(zt),Oe=_(zt,"HR",{class:!0}),He=y(zt),We=_(zt,"DIV",{class:!0});var it=p(We);Ze=_(it,"DIV",{class:!0});var St=p(Ze);Ie=C(St,je),St.forEach(c),ye=y(it),ht=_(it,"DIV",{class:!0});var Bt=p(ht);Je=_(Bt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Bt.forEach(c),it.forEach(c),ze=y(zt),Gt&&Gt.l(zt),ot=y(zt),bt=_(zt,"DIV",{class:!0});var il=p(bt);Ve=_(il,"DIV",{class:!0});var El=p(Ve);Et=C(El,dt),El.forEach(c),ut=y(il),mt=_(il,"DIV",{class:!0});var dl=p(mt);he(Tt.$$.fragment,dl),dl.forEach(c),il.forEach(c),zt.forEach(c),this.h()},h(){o(t,"class","mb-2.5 text-base font-medium"),o(n,"class","border-gray-100 dark:border-gray-850 my-2"),o(E,"class","self-center text-xs font-medium"),T.__value="",se(T,T.__value),D.__value="ollama",se(D,D.__value),P.__value="openai",se(P,P.__value),o(I,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(I,"placeholder","Select an embedding model engine"),l[4]===void 0&&Sl(()=>l[46].call(I)),o(b,"class","flex items-center relative"),o(h,"class","flex w-full justify-between"),o(f,"class","mb-2.5 flex flex-col w-full justify-between"),o(U,"class","mb-1 text-xs font-medium"),o(J,"class",""),o(ne,"class","mt-1 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(L,"class","mb-2.5 flex flex-col w-full"),o(ee,"class","self-center text-xs font-medium"),o(ue,"class","flex items-center relative"),o(te,"class","mb-2.5 flex w-full justify-between"),o(me,"class","self-center text-xs font-medium"),o(we,"class","flex items-center relative"),o(ge,"class","mb-2.5 flex w-full justify-between"),o(e,"class","mb-3"),o(le,"class","mb-2.5 text-base font-medium"),o(Oe,"class","border-gray-100 dark:border-gray-850 my-2"),o(Ze,"class","self-center text-xs font-medium"),o(Je,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(Je,"type","number"),o(Je,"placeholder",pt=l[27].t("Enter Top K")),o(Je,"autocomplete","off"),o(Je,"min","0"),o(ht,"class","flex items-center relative"),o(We,"class","mb-2.5 flex w-full justify-between"),o(Ve,"class","mb-1 text-xs font-medium"),o(mt,"class","flex w-full items-center relative"),o(bt,"class","mb-2.5 flex flex-col w-full justify-between"),o(Ce,"class","mb-3")},m(Le,Fe){H(Le,e,Fe),r(e,t),r(t,a),r(e,i),r(e,n),r(e,u),r(e,f),r(f,h),r(h,E),r(E,v),r(h,m),r(h,b),r(b,I),r(I,T),r(T,k),r(I,D),r(D,O),r(I,P),r(P,N),xt(I,l[4],!0),r(f,V),~S&&Me[S].m(f,null),r(e,Y),r(e,L),r(L,U),r(U,j),r(L,F),r(L,J),Re.m(J,null),r(L,X),r(L,ne),r(ne,ae),r(e,Q),Ge&&Ge.m(e,null),r(e,Z),r(e,te),r(te,ee),r(ee,be),r(te,re),r(te,ue),pe(oe,ue,null),r(e,Te),r(e,ge),r(ge,me),r(me,Se),r(ge,ke),r(ge,we),pe(Ae,we,null),r(e,ce),Rt&&Rt.m(e,null),H(Le,Be,Fe),H(Le,Ce,Fe),r(Ce,le),r(le,$e),r(Ce,Ne),r(Ce,Oe),r(Ce,He),r(Ce,We),r(We,Ze),r(Ze,Ie),r(We,ye),r(We,ht),r(ht,Je),se(Je,l[26].k),r(Ce,ze),Gt&&Gt.m(Ce,null),r(Ce,ot),r(Ce,bt),r(bt,Ve),r(Ve,Et),r(bt,ut),r(bt,mt),pe(Tt,mt,null),yt=!0,_t||(ct=[fe(I,"change",l[46]),fe(I,"change",l[47]),fe(Je,"input",l[61])],_t=!0)},p(Le,Fe){(!yt||Fe[0]&134217728)&&s!==(s=Le[27].t("Embedding")+"")&&K(a,s),(!yt||Fe[0]&134217728)&&g!==(g=Le[27].t("Embedding Model Engine")+"")&&K(v,g),(!yt||Fe[0]&134217728)&&w!==(w=Le[27].t("Default (SentenceTransformers)")+"")&&K(k,w),(!yt||Fe[0]&134217728)&&$!==($=Le[27].t("Ollama")+"")&&K(O,$),(!yt||Fe[0]&134217728)&&M!==(M=Le[27].t("OpenAI")+"")&&K(N,M),Fe[0]&16&&xt(I,Le[4]);let Ut=S;S=Ke(Le),S===Ut?~S&&Me[S].p(Le,Fe):(q&&(wt(),W(Me[Ut],1,1,()=>{Me[Ut]=null}),kt()),~S?(q=Me[S],q?q.p(Le,Fe):(q=Me[S]=vt[S](Le),q.c()),G(q,1),q.m(f,null)):q=null),(!yt||Fe[0]&134217728)&&B!==(B=Le[27].t("Embedding Model")+"")&&K(j,B),It===(It=Nt(Le))&&Re?Re.p(Le,Fe):(Re.d(1),Re=It(Le),Re&&(Re.c(),Re.m(J,null))),(!yt||Fe[0]&134217728)&&ie!==(ie=Le[27].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&K(ae,ie),Le[4]==="ollama"||Le[4]==="openai"?Ge?Ge.p(Le,Fe):(Ge=yi(Le),Ge.c(),Ge.m(e,Z)):Ge&&(Ge.d(1),Ge=null),(!yt||Fe[0]&134217728)&&z!==(z=Le[27].t("Full Context Mode")+"")&&K(be,z);const Dt={};Fe[0]&262144&&(Dt.content=Le[18]?"Inject entire contents as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),Fe[0]&262144|Fe[2]&16384&&(Dt.$$scope={dirty:Fe,ctx:Le}),oe.$set(Dt),(!yt||Fe[0]&134217728)&&De!==(De=Le[27].t("Hybrid Search")+"")&&K(Se,De);const Ue={};!x&&Fe[0]&67108864&&(x=!0,Ue.state=Le[26].hybrid,tt(()=>x=!1)),Ae.$set(Ue),Le[26].hybrid===!0?Rt?Rt.p(Le,Fe):(Rt=$i(Le),Rt.c(),Rt.m(e,null)):Rt&&(Rt.d(1),Rt=null),(!yt||Fe[0]&134217728)&&de!==(de=Le[27].t("Retrieval")+"")&&K($e,de),(!yt||Fe[0]&134217728)&&je!==(je=Le[27].t("Top K")+"")&&K(Ie,je),(!yt||Fe[0]&134217728&&pt!==(pt=Le[27].t("Enter Top K")))&&o(Je,"placeholder",pt),Fe[0]&67108864&&Kl(Je.value)!==Le[26].k&&se(Je,Le[26].k),Le[26].hybrid===!0?Gt?Gt.p(Le,Fe):(Gt=Vi(Le),Gt.c(),Gt.m(Ce,ot)):Gt&&(Gt.d(1),Gt=null),(!yt||Fe[0]&134217728)&&dt!==(dt=Le[27].t("RAG Template")+"")&&K(Et,dt);const Ee={};Fe[0]&134217728&&(Ee.content=Le[27].t("Leave empty to use the default prompt, or enter a custom prompt")),Fe[0]&201326592|Fe[2]&16384&&(Ee.$$scope={dirty:Fe,ctx:Le}),Tt.$set(Ee)},i(Le){yt||(G(q),G(oe.$$.fragment,Le),G(Ae.$$.fragment,Le),G(Tt.$$.fragment,Le),yt=!0)},o(Le){W(q),W(oe.$$.fragment,Le),W(Ae.$$.fragment,Le),W(Tt.$$.fragment,Le),yt=!1},d(Le){Le&&(c(e),c(Be),c(Ce)),~S&&Me[S].d(),Re.d(),Ge&&Ge.d(),ve(oe),ve(Ae),Rt&&Rt.d(),Gt&&Gt.d(),ve(Tt),_t=!1,gl(ct)}}}function a_(l){let e,t,s,a,i,n,u,f,h;function E(v){l[51](v)}let g={placeholder:l[27].t("API Key"),required:!1};return l[25]!==void 0&&(g.value=l[25]),i=new kl({props:g}),Xe.push(()=>lt(i,"value",E)),{c(){e=d("div"),t=d("input"),a=A(),_e(i.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"INPUT",{class:!0,placeholder:!0}),a=y(m),he(i.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(t,"placeholder",s=l[27].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(v,m){H(v,e,m),r(e,t),se(t,l[24]),r(e,a),pe(i,e,null),u=!0,f||(h=fe(t,"input",l[50]),f=!0)},p(v,m){(!u||m[0]&134217728&&s!==(s=v[27].t("API Base URL")))&&o(t,"placeholder",s),m[0]&16777216&&t.value!==v[24]&&se(t,v[24]);const b={};m[0]&134217728&&(b.placeholder=v[27].t("API Key")),!n&&m[0]&33554432&&(n=!0,b.value=v[25],tt(()=>n=!1)),i.$set(b)},i(v){u||(G(i.$$.fragment,v),u=!0)},o(v){W(i.$$.fragment,v),u=!1},d(v){v&&c(e),ve(i),f=!1,h()}}}function r_(l){let e,t,s,a,i,n,u,f,h;function E(v){l[49](v)}let g={placeholder:l[27].t("API Key")};return l[23]!==void 0&&(g.value=l[23]),i=new kl({props:g}),Xe.push(()=>lt(i,"value",E)),{c(){e=d("div"),t=d("input"),a=A(),_e(i.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"INPUT",{class:!0,placeholder:!0}),a=y(m),he(i.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(t,"placeholder",s=l[27].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(v,m){H(v,e,m),r(e,t),se(t,l[22]),r(e,a),pe(i,e,null),u=!0,f||(h=fe(t,"input",l[48]),f=!0)},p(v,m){(!u||m[0]&134217728&&s!==(s=v[27].t("API Base URL")))&&o(t,"placeholder",s),m[0]&4194304&&t.value!==v[22]&&se(t,v[22]);const b={};m[0]&134217728&&(b.placeholder=v[27].t("API Key")),!n&&m[0]&8388608&&(n=!0,b.value=v[23],tt(()=>n=!1)),i.$set(b)},i(v){u||(G(i.$$.fragment,v),u=!0)},o(v){W(i.$$.fragment,v),u=!1},d(v){v&&c(e),ve(i),f=!1,h()}}}function n_(l){let e,t,s,a,i,n,u,f=l[4]===""&&Ai(l);return{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),f&&f.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var E=p(e);t=_(E,"DIV",{class:!0});var g=p(t);s=_(g,"INPUT",{class:!0,placeholder:!0}),g.forEach(c),i=y(E),f&&f.l(E),E.forEach(c),this.h()},h(){o(s,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(s,"placeholder",a=l[27].t("Set embedding model (e.g. {{model}})",{model:l[5].slice(-40)})),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(h,E){H(h,e,E),r(e,t),r(t,s),se(s,l[5]),r(e,i),f&&f.m(e,null),n||(u=fe(s,"input",l[53]),n=!0)},p(h,E){E[0]&134217760&&a!==(a=h[27].t("Set embedding model (e.g. {{model}})",{model:h[5].slice(-40)}))&&o(s,"placeholder",a),E[0]&32&&s.value!==h[5]&&se(s,h[5]),h[4]===""?f?f.p(h,E):(f=Ai(h),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(h){h&&c(e),f&&f.d(),n=!1,u()}}}function i_(l){let e,t,s,a,i,n;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(u){e=_(u,"DIV",{class:!0});var f=p(e);t=_(f,"DIV",{class:!0});var h=p(t);s=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),f.forEach(c),this.h()},h(){o(s,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(s,"placeholder",a=l[27].t("Set embedding model")),s.required=!0,o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(u,f){H(u,e,f),r(e,t),r(t,s),se(s,l[5]),i||(n=fe(s,"input",l[52]),i=!0)},p(u,f){f[0]&134217728&&a!==(a=u[27].t("Set embedding model"))&&o(s,"placeholder",a),f[0]&32&&s.value!==u[5]&&se(s,u[5])},d(u){u&&c(e),i=!1,n()}}}function Ai(l){let e,t,s;function a(u,f){return u[0]?u_:o_}let i=a(l),n=i(l);return{c(){e=d("button"),n.c(),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var f=p(e);n.l(f),f.forEach(c),this.h()},h(){o(e,"class","px-2.5 bg-transparent text-gray-800 dark:bg-transparent dark:text-gray-100 rounded-lg transition"),e.disabled=l[0]},m(u,f){H(u,e,f),n.m(e,null),t||(s=fe(e,"click",l[54]),t=!0)},p(u,f){i!==(i=a(u))&&(n.d(1),n=i(u),n&&(n.c(),n.m(e,null))),f[0]&1&&(e.disabled=u[0])},d(u){u&&c(e),n.d(),t=!1,s()}}}function o_(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{d:!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){H(a,e,i),r(e,t),r(e,s)},d(a){a&&c(e)}}}function u_(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																transform-origin: center;
																animation: spinner_AtaB 0.75s infinite linear;
															}

															@keyframes spinner_AtaB {
																100% {
																	transform: rotate(360deg);
																}
															}
														</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-15ooe3b"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function yi(l){let e,t,s=l[27].t("Embedding Batch Size")+"",a,i,n,u,f,h;return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("input"),this.h()},l(E){e=_(E,"DIV",{class:!0});var g=p(e);t=_(g,"DIV",{class:!0});var v=p(t);a=C(v,s),v.forEach(c),i=y(g),n=_(g,"DIV",{class:!0});var m=p(n);u=_(m,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),m.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(u,"type","number"),o(u,"class","bg-transparent text-center w-14 outline-none"),o(u,"min","-2"),o(u,"max","16000"),o(u,"step","1"),o(n,"class",""),o(e,"class","mb-2.5 flex w-full justify-between")},m(E,g){H(E,e,g),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),se(u,l[6]),f||(h=fe(u,"input",l[55]),f=!0)},p(E,g){g[0]&134217728&&s!==(s=E[27].t("Embedding Batch Size")+"")&&K(a,s),g[0]&64&&Kl(u.value)!==E[6]&&se(u,E[6])},d(E){E&&c(e),f=!1,h()}}}function f_(l){let e,t,s;function a(n){l[56](n)}let i={};return l[18]!==void 0&&(i.state=l[18]),e=new pl({props:i}),Xe.push(()=>lt(e,"state",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};!t&&u[0]&262144&&(t=!0,f.state=n[18],tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function $i(l){let e,t,s=l[27].t("Reranking Model")+"",a,i,n,u,f,h,E,g,v,m,b;function I(k,D){return k[1]?d_:c_}let T=I(l),w=T(l);return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("div"),h=d("input"),g=A(),v=d("button"),w.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var D=p(e);t=_(D,"DIV",{class:!0});var $=p(t);a=C($,s),$.forEach(c),i=y(D),n=_(D,"DIV",{class:!0});var O=p(n);u=_(O,"DIV",{class:!0});var P=p(u);f=_(P,"DIV",{class:!0});var M=p(f);h=_(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(c),g=y(P),v=_(P,"BUTTON",{class:!0});var N=p(v);w.l(N),N.forEach(c),P.forEach(c),O.forEach(c),D.forEach(c),this.h()},h(){o(t,"class","mb-1 text-xs font-medium"),o(h,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(h,"placeholder",E=l[27].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),o(f,"class","flex-1 mr-2"),o(v,"class","px-2.5 bg-transparent text-gray-800 dark:bg-transparent dark:text-gray-100 rounded-lg transition"),v.disabled=l[1],o(u,"class","flex w-full"),o(n,"class",""),o(e,"class","mb-2.5 flex flex-col w-full")},m(k,D){H(k,e,D),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),r(f,h),se(h,l[7]),r(u,g),r(u,v),w.m(v,null),m||(b=[fe(h,"input",l[59]),fe(v,"click",l[60])],m=!0)},p(k,D){D[0]&134217728&&s!==(s=k[27].t("Reranking Model")+"")&&K(a,s),D[0]&134217728&&E!==(E=k[27].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&o(h,"placeholder",E),D[0]&128&&h.value!==k[7]&&se(h,k[7]),T!==(T=I(k))&&(w.d(1),w=T(k),w&&(w.c(),w.m(v,null))),D[0]&2&&(v.disabled=k[1])},d(k){k&&c(e),w.d(),m=!1,gl(b)}}}function c_(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{d:!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){H(a,e,i),r(e,t),r(e,s)},d(a){a&&c(e)}}}function d_(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}

														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-1d0lqo6"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function Vi(l){let e,t,s,a=l[27].t("Minimum Score")+"",i,n,u,f,h,E,g,v,m=l[27].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",b,I,T;return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=d("input"),g=A(),v=d("div"),b=R(m),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=p(e);t=_(k,"DIV",{class:!0});var D=p(t);s=_(D,"DIV",{class:!0});var $=p(s);i=C($,a),$.forEach(c),n=y(D),u=_(D,"DIV",{class:!0});var O=p(u);f=_(O,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),O.forEach(c),D.forEach(c),g=y(k),v=_(k,"DIV",{class:!0});var P=p(v);b=C(P,m),P.forEach(c),k.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium"),o(f,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(f,"type","number"),o(f,"step","0.01"),o(f,"placeholder",h=l[27].t("Enter Score")),o(f,"autocomplete","off"),o(f,"min","0.0"),o(f,"title",E=l[27].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),o(u,"class","flex items-center relative"),o(t,"class","flex w-full justify-between"),o(v,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),o(e,"class","mb-2.5 flex flex-col w-full justify-between")},m(w,k){H(w,e,k),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(u,f),se(f,l[26].r),r(e,g),r(e,v),r(v,b),I||(T=fe(f,"input",l[62]),I=!0)},p(w,k){k[0]&134217728&&a!==(a=w[27].t("Minimum Score")+"")&&K(i,a),k[0]&134217728&&h!==(h=w[27].t("Enter Score"))&&o(f,"placeholder",h),k[0]&134217728&&E!==(E=w[27].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&o(f,"title",E),k[0]&67108864&&Kl(f.value)!==w[26].r&&se(f,w[26].r),k[0]&134217728&&m!==(m=w[27].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&K(b,m)},d(w){w&&c(e),I=!1,T()}}}function __(l){let e,t,s;function a(n){l[63](n)}let i={placeholder:l[27].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[26].template!==void 0&&(i.value=l[26].template),e=new Ks({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u[0]&134217728&&(f.placeholder=n[27].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&u[0]&67108864&&(t=!0,f.value=n[26].template,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function h_(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(e,"type","number"),o(e,"placeholder",t=l[27].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,n){H(i,e,n),se(e,l[8]),s||(a=fe(e,"input",l[64]),s=!0)},p(i,n){n[0]&134217728&&t!==(t=i[27].t("Leave empty for unlimited"))&&o(e,"placeholder",t),n[0]&256&&Kl(e.value)!==i[8]&&se(e,i[8])},d(i){i&&c(e),s=!1,a()}}}function p_(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(e,"type","number"),o(e,"placeholder",t=l[27].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,n){H(i,e,n),se(e,l[9]),s||(a=fe(e,"input",l[65]),s=!0)},p(i,n){n[0]&134217728&&t!==(t=i[27].t("Leave empty for unlimited"))&&o(e,"placeholder",t),n[0]&512&&Kl(e.value)!==i[9]&&se(e,i[9])},d(i){i&&c(e),s=!1,a()}}}function v_(l){let e,t,s,a,i,n,u,f,h,E,g,v=l[27].t("General")+"",m,b,I,T,w,k,D,$=l[27].t("Content Extraction Engine")+"",O,P,M,N,V,S=l[27].t("Default")+"",q,Y,L,U=l[27].t("Tika")+"",B,j,F=l[27].t("Document Intelligence")+"",J,X,ne,ie,ae,Q,Z,te,ee,z,be,re,ue,oe,Te,ge,me,De=l[27].t("Files")+"",Se,ke,we,Ae,x,ce,Be=l[27].t("Max Upload Size")+"",Ce,le,de,$e,Ne,Oe,He,We=l[27].t("Max Upload Count")+"",Ze,je,Ie,ye,ht,Je,pt,ze=l[27].t("Integration")+"",ot,bt,Ve,dt,Et,ut,mt=l[27].t("Google Drive")+"",Tt,yt,_t,ct,vt,Me,Ke,Nt,It=l[27].t("OneDrive")+"",Re,Ge,ft,jt,Rt,Gt,Le,Fe,Ut=l[27].t("Danger Zone")+"",Dt,Ue,Ee,rt,Pt,Ct,$t=l[27].t("Reset Upload Directory")+"",Mt,Lt,At,Ye,nt=l[27].t("Reset")+"",Ot,Kt,st,sl,Wt=l[27].t("Reset Vector Storage/Knowledge")+"",Xt,zt,al,it,St=l[27].t("Reset")+"",Bt,il,El,dl,Il=l[27].t("Save")+"",qt,tl,Tl,Dl;function ol(qe){l[33](qe)}let Al={};l[3]!==void 0&&(Al.show=l[3]),e=new Da({props:Al}),Xe.push(()=>lt(e,"show",ol)),e.$on("confirm",l[34]);function hl(qe){l[35](qe)}let Nl={};l[2]!==void 0&&(Nl.show=l[2]),a=new Da({props:Nl}),Xe.push(()=>lt(a,"show",hl)),a.$on("confirm",l[36]);const zl=[t_,e_],nl=[];function fs(qe,xe){return qe[10]==="tika"?0:qe[10]==="document_intelligence"?1:-1}~(ne=fs(l))&&(ie=nl[ne]=zl[ne](l));let Jt=l[10]===""&&ki(l);ee=new Yt({props:{content:l[27].t("Full Context Mode"),placement:"top-start",$$slots:{default:[l_]},$$scope:{ctx:l}}}),re=new Yt({props:{content:l[19]?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[s_]},$$scope:{ctx:l}}});let Ft=!l[19]&&Ti(l),fl=!l[19]&&Di(l);$e=new Yt({props:{content:l[27].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[h_]},$$scope:{ctx:l}}}),ye=new Yt({props:{content:l[27].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[p_]},$$scope:{ctx:l}}});function rs(qe){l[66](qe)}let Ql={};l[20]!==void 0&&(Ql.state=l[20]),ct=new pl({props:Ql}),Xe.push(()=>lt(ct,"state",rs));function ns(qe){l[67](qe)}let cl={};return l[21]!==void 0&&(cl.state=l[21]),jt=new pl({props:cl}),Xe.push(()=>lt(jt,"state",ns)),{c(){_e(e.$$.fragment),s=A(),_e(a.$$.fragment),n=A(),u=d("form"),f=d("div"),h=d("div"),E=d("div"),g=d("div"),m=R(v),b=A(),I=d("hr"),T=A(),w=d("div"),k=d("div"),D=d("div"),O=R($),P=A(),M=d("div"),N=d("select"),V=d("option"),q=R(S),Y=A(),L=d("option"),B=R(U),j=d("option"),J=R(F),X=A(),ie&&ie.c(),ae=A(),Jt&&Jt.c(),Q=A(),Z=d("div"),te=d("div"),_e(ee.$$.fragment),z=A(),be=d("div"),_e(re.$$.fragment),ue=A(),Ft&&Ft.c(),oe=A(),fl&&fl.c(),Te=A(),ge=d("div"),me=d("div"),Se=R(De),ke=A(),we=d("hr"),Ae=A(),x=d("div"),ce=d("div"),Ce=R(Be),le=A(),de=d("div"),_e($e.$$.fragment),Ne=A(),Oe=d("div"),He=d("div"),Ze=R(We),je=A(),Ie=d("div"),_e(ye.$$.fragment),ht=A(),Je=d("div"),pt=d("div"),ot=R(ze),bt=A(),Ve=d("hr"),dt=A(),Et=d("div"),ut=d("div"),Tt=R(mt),yt=A(),_t=d("div"),_e(ct.$$.fragment),Me=A(),Ke=d("div"),Nt=d("div"),Re=R(It),Ge=A(),ft=d("div"),_e(jt.$$.fragment),Gt=A(),Le=d("div"),Fe=d("div"),Dt=R(Ut),Ue=A(),Ee=d("hr"),rt=A(),Pt=d("div"),Ct=d("div"),Mt=R($t),Lt=A(),At=d("div"),Ye=d("button"),Ot=R(nt),Kt=A(),st=d("div"),sl=d("div"),Xt=R(Wt),zt=A(),al=d("div"),it=d("button"),Bt=R(St),il=A(),El=d("div"),dl=d("button"),qt=R(Il),this.h()},l(qe){he(e.$$.fragment,qe),s=y(qe),he(a.$$.fragment,qe),n=y(qe),u=_(qe,"FORM",{class:!0});var xe=p(u);f=_(xe,"DIV",{class:!0});var xl=p(f);h=_(xl,"DIV",{class:!0});var ul=p(h);E=_(ul,"DIV",{class:!0});var Pe=p(E);g=_(Pe,"DIV",{class:!0});var at=p(g);m=C(at,v),at.forEach(c),b=y(Pe),I=_(Pe,"HR",{class:!0}),T=y(Pe),w=_(Pe,"DIV",{class:!0});var _l=p(w);k=_(_l,"DIV",{class:!0});var ll=p(k);D=_(ll,"DIV",{class:!0});var Rl=p(D);O=C(Rl,$),Rl.forEach(c),P=y(ll),M=_(ll,"DIV",{class:!0});var Bl=p(M);N=_(Bl,"SELECT",{class:!0});var Yl=p(N);V=_(Yl,"OPTION",{});var Jl=p(V);q=C(Jl,S),Y=y(Jl),Jl.forEach(c),L=_(Yl,"OPTION",{});var is=p(L);B=C(is,U),is.forEach(c),j=_(Yl,"OPTION",{});var ql=p(j);J=C(ql,F),ql.forEach(c),Yl.forEach(c),Bl.forEach(c),ll.forEach(c),X=y(_l),ie&&ie.l(_l),_l.forEach(c),ae=y(Pe),Jt&&Jt.l(Pe),Q=y(Pe),Z=_(Pe,"DIV",{class:!0});var es=p(Z);te=_(es,"DIV",{class:!0});var Zt=p(te);he(ee.$$.fragment,Zt),Zt.forEach(c),z=y(es),be=_(es,"DIV",{class:!0});var Ol=p(be);he(re.$$.fragment,Ol),Ol.forEach(c),es.forEach(c),ue=y(Pe),Ft&&Ft.l(Pe),Pe.forEach(c),oe=y(ul),fl&&fl.l(ul),Te=y(ul),ge=_(ul,"DIV",{class:!0});var Cl=p(ge);me=_(Cl,"DIV",{class:!0});var gs=p(me);Se=C(gs,De),gs.forEach(c),ke=y(Cl),we=_(Cl,"HR",{class:!0}),Ae=y(Cl),x=_(Cl,"DIV",{class:!0});var Es=p(x);ce=_(Es,"DIV",{class:!0});var Ds=p(ce);Ce=C(Ds,Be),Ds.forEach(c),le=y(Es),de=_(Es,"DIV",{class:!0});var As=p(de);he($e.$$.fragment,As),As.forEach(c),Es.forEach(c),Ne=y(Cl),Oe=_(Cl,"DIV",{class:!0});var cs=p(Oe);He=_(cs,"DIV",{class:!0});var Ls=p(He);Ze=C(Ls,We),Ls.forEach(c),je=y(cs),Ie=_(cs,"DIV",{class:!0});var ys=p(Ie);he(ye.$$.fragment,ys),ys.forEach(c),cs.forEach(c),Cl.forEach(c),ht=y(ul),Je=_(ul,"DIV",{class:!0});var Ul=p(Je);pt=_(Ul,"DIV",{class:!0});var $s=p(pt);ot=C($s,ze),$s.forEach(c),bt=y(Ul),Ve=_(Ul,"HR",{class:!0}),dt=y(Ul),Et=_(Ul,"DIV",{class:!0});var Vs=p(Et);ut=_(Vs,"DIV",{class:!0});var Wl=p(ut);Tt=C(Wl,mt),Wl.forEach(c),yt=y(Vs),_t=_(Vs,"DIV",{class:!0});var bs=p(_t);he(ct.$$.fragment,bs),bs.forEach(c),Vs.forEach(c),Me=y(Ul),Ke=_(Ul,"DIV",{class:!0});var ts=p(Ke);Nt=_(ts,"DIV",{class:!0});var Ns=p(Nt);Re=C(Ns,It),Ns.forEach(c),Ge=y(ts),ft=_(ts,"DIV",{class:!0});var Is=p(ft);he(jt.$$.fragment,Is),Is.forEach(c),ts.forEach(c),Ul.forEach(c),Gt=y(ul),Le=_(ul,"DIV",{class:!0});var os=p(Le);Fe=_(os,"DIV",{class:!0});var ds=p(Fe);Dt=C(ds,Ut),ds.forEach(c),Ue=y(os),Ee=_(os,"HR",{class:!0}),rt=y(os),Pt=_(os,"DIV",{class:!0});var Fl=p(Pt);Ct=_(Fl,"DIV",{class:!0});var us=p(Ct);Mt=C(us,$t),us.forEach(c),Lt=y(Fl),At=_(Fl,"DIV",{class:!0});var ws=p(At);Ye=_(ws,"BUTTON",{class:!0});var ms=p(Ye);Ot=C(ms,nt),ms.forEach(c),ws.forEach(c),Fl.forEach(c),Kt=y(os),st=_(os,"DIV",{class:!0});var _s=p(st);sl=_(_s,"DIV",{class:!0});var Rs=p(sl);Xt=C(Rs,Wt),Rs.forEach(c),zt=y(_s),al=_(_s,"DIV",{class:!0});var hs=p(al);it=_(hs,"BUTTON",{class:!0});var ks=p(it);Bt=C(ks,St),ks.forEach(c),hs.forEach(c),_s.forEach(c),os.forEach(c),ul.forEach(c),xl.forEach(c),il=y(xe),El=_(xe,"DIV",{class:!0});var Ts=p(El);dl=_(Ts,"BUTTON",{class:!0,type:!0});var Hl=p(dl);qt=C(Hl,Il),Hl.forEach(c),Ts.forEach(c),xe.forEach(c),this.h()},h(){o(g,"class","mb-2.5 text-base font-medium"),o(I,"class","border-gray-100 dark:border-gray-850 my-2"),o(D,"class","self-center text-xs font-medium"),V.__value="",se(V,V.__value),L.__value="tika",se(L,L.__value),j.__value="document_intelligence",se(j,j.__value),o(N,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),l[10]===void 0&&Sl(()=>l[37].call(N)),o(M,"class",""),o(k,"class","flex w-full justify-between"),o(w,"class","mb-2.5 flex flex-col w-full justify-between"),o(te,"class","self-center text-xs font-medium"),o(be,"class","flex items-center relative"),o(Z,"class","mb-2.5 flex w-full justify-between"),o(E,"class","mb-3"),o(me,"class","mb-2.5 text-base font-medium"),o(we,"class","border-gray-100 dark:border-gray-850 my-2"),o(ce,"class","self-center text-xs font-medium"),o(de,"class","flex items-center relative"),o(x,"class","mb-2.5 flex w-full justify-between"),o(He,"class","self-center text-xs font-medium"),o(Ie,"class","flex items-center relative"),o(Oe,"class","mb-2.5 flex w-full justify-between"),o(ge,"class","mb-3"),o(pt,"class","mb-2.5 text-base font-medium"),o(Ve,"class","border-gray-100 dark:border-gray-850 my-2"),o(ut,"class","self-center text-xs font-medium"),o(_t,"class","flex items-center relative"),o(Et,"class","mb-2.5 flex w-full justify-between"),o(Nt,"class","self-center text-xs font-medium"),o(ft,"class","flex items-center relative"),o(Ke,"class","mb-2.5 flex w-full justify-between"),o(Je,"class","mb-3"),o(Fe,"class","mb-2.5 text-base font-medium"),o(Ee,"class","border-gray-100 dark:border-gray-850 my-2"),o(Ct,"class","self-center text-xs font-medium"),o(Ye,"class","text-xs"),o(At,"class","flex items-center relative"),o(Pt,"class","mb-2.5 flex w-full justify-between"),o(sl,"class","self-center text-xs font-medium"),o(it,"class","text-xs"),o(al,"class","flex items-center relative"),o(st,"class","mb-2.5 flex w-full justify-between"),o(Le,"class","mb-3"),o(h,"class",""),o(f,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(dl,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(dl,"type","submit"),o(El,"class","flex justify-end pt-3 text-sm font-medium"),o(u,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(qe,xe){pe(e,qe,xe),H(qe,s,xe),pe(a,qe,xe),H(qe,n,xe),H(qe,u,xe),r(u,f),r(f,h),r(h,E),r(E,g),r(g,m),r(E,b),r(E,I),r(E,T),r(E,w),r(w,k),r(k,D),r(D,O),r(k,P),r(k,M),r(M,N),r(N,V),r(V,q),r(V,Y),r(N,L),r(L,B),r(N,j),r(j,J),xt(N,l[10],!0),r(w,X),~ne&&nl[ne].m(w,null),r(E,ae),Jt&&Jt.m(E,null),r(E,Q),r(E,Z),r(Z,te),pe(ee,te,null),r(Z,z),r(Z,be),pe(re,be,null),r(E,ue),Ft&&Ft.m(E,null),r(h,oe),fl&&fl.m(h,null),r(h,Te),r(h,ge),r(ge,me),r(me,Se),r(ge,ke),r(ge,we),r(ge,Ae),r(ge,x),r(x,ce),r(ce,Ce),r(x,le),r(x,de),pe($e,de,null),r(ge,Ne),r(ge,Oe),r(Oe,He),r(He,Ze),r(Oe,je),r(Oe,Ie),pe(ye,Ie,null),r(h,ht),r(h,Je),r(Je,pt),r(pt,ot),r(Je,bt),r(Je,Ve),r(Je,dt),r(Je,Et),r(Et,ut),r(ut,Tt),r(Et,yt),r(Et,_t),pe(ct,_t,null),r(Je,Me),r(Je,Ke),r(Ke,Nt),r(Nt,Re),r(Ke,Ge),r(Ke,ft),pe(jt,ft,null),r(h,Gt),r(h,Le),r(Le,Fe),r(Fe,Dt),r(Le,Ue),r(Le,Ee),r(Le,rt),r(Le,Pt),r(Pt,Ct),r(Ct,Mt),r(Pt,Lt),r(Pt,At),r(At,Ye),r(Ye,Ot),r(Le,Kt),r(Le,st),r(st,sl),r(sl,Xt),r(st,zt),r(st,al),r(al,it),r(it,Bt),r(u,il),r(u,El),r(El,dl),r(dl,qt),tl=!0,Tl||(Dl=[fe(N,"change",l[37]),fe(Ye,"click",l[68]),fe(it,"click",l[69]),fe(u,"submit",vs(l[70]))],Tl=!0)},p(qe,xe){const xl={};!t&&xe[0]&8&&(t=!0,xl.show=qe[3],tt(()=>t=!1)),e.$set(xl);const ul={};!i&&xe[0]&4&&(i=!0,ul.show=qe[2],tt(()=>i=!1)),a.$set(ul),(!tl||xe[0]&134217728)&&v!==(v=qe[27].t("General")+"")&&K(m,v),(!tl||xe[0]&134217728)&&$!==($=qe[27].t("Content Extraction Engine")+"")&&K(O,$),(!tl||xe[0]&134217728)&&S!==(S=qe[27].t("Default")+"")&&K(q,S),(!tl||xe[0]&134217728)&&U!==(U=qe[27].t("Tika")+"")&&K(B,U),(!tl||xe[0]&134217728)&&F!==(F=qe[27].t("Document Intelligence")+"")&&K(J,F),xe[0]&1024&&xt(N,qe[10]);let Pe=ne;ne=fs(qe),ne===Pe?~ne&&nl[ne].p(qe,xe):(ie&&(wt(),W(nl[Pe],1,1,()=>{nl[Pe]=null}),kt()),~ne?(ie=nl[ne],ie?ie.p(qe,xe):(ie=nl[ne]=zl[ne](qe),ie.c()),G(ie,1),ie.m(w,null)):ie=null),qe[10]===""?Jt?(Jt.p(qe,xe),xe[0]&1024&&G(Jt,1)):(Jt=ki(qe),Jt.c(),G(Jt,1),Jt.m(E,Q)):Jt&&(wt(),W(Jt,1,1,()=>{Jt=null}),kt());const at={};xe[0]&134217728&&(at.content=qe[27].t("Full Context Mode")),xe[0]&134217728|xe[2]&16384&&(at.$$scope={dirty:xe,ctx:qe}),ee.$set(at);const _l={};xe[0]&524288&&(_l.content=qe[19]?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),xe[0]&524288|xe[2]&16384&&(_l.$$scope={dirty:xe,ctx:qe}),re.$set(_l),qe[19]?Ft&&(Ft.d(1),Ft=null):Ft?Ft.p(qe,xe):(Ft=Ti(qe),Ft.c(),Ft.m(E,null)),qe[19]?fl&&(wt(),W(fl,1,1,()=>{fl=null}),kt()):fl?(fl.p(qe,xe),xe[0]&524288&&G(fl,1)):(fl=Di(qe),fl.c(),G(fl,1),fl.m(h,Te)),(!tl||xe[0]&134217728)&&De!==(De=qe[27].t("Files")+"")&&K(Se,De),(!tl||xe[0]&134217728)&&Be!==(Be=qe[27].t("Max Upload Size")+"")&&K(Ce,Be);const ll={};xe[0]&134217728&&(ll.content=qe[27].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),xe[0]&134217984|xe[2]&16384&&(ll.$$scope={dirty:xe,ctx:qe}),$e.$set(ll),(!tl||xe[0]&134217728)&&We!==(We=qe[27].t("Max Upload Count")+"")&&K(Ze,We);const Rl={};xe[0]&134217728&&(Rl.content=qe[27].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),xe[0]&134218240|xe[2]&16384&&(Rl.$$scope={dirty:xe,ctx:qe}),ye.$set(Rl),(!tl||xe[0]&134217728)&&ze!==(ze=qe[27].t("Integration")+"")&&K(ot,ze),(!tl||xe[0]&134217728)&&mt!==(mt=qe[27].t("Google Drive")+"")&&K(Tt,mt);const Bl={};!vt&&xe[0]&1048576&&(vt=!0,Bl.state=qe[20],tt(()=>vt=!1)),ct.$set(Bl),(!tl||xe[0]&134217728)&&It!==(It=qe[27].t("OneDrive")+"")&&K(Re,It);const Yl={};!Rt&&xe[0]&2097152&&(Rt=!0,Yl.state=qe[21],tt(()=>Rt=!1)),jt.$set(Yl),(!tl||xe[0]&134217728)&&Ut!==(Ut=qe[27].t("Danger Zone")+"")&&K(Dt,Ut),(!tl||xe[0]&134217728)&&$t!==($t=qe[27].t("Reset Upload Directory")+"")&&K(Mt,$t),(!tl||xe[0]&134217728)&&nt!==(nt=qe[27].t("Reset")+"")&&K(Ot,nt),(!tl||xe[0]&134217728)&&Wt!==(Wt=qe[27].t("Reset Vector Storage/Knowledge")+"")&&K(Xt,Wt),(!tl||xe[0]&134217728)&&St!==(St=qe[27].t("Reset")+"")&&K(Bt,St),(!tl||xe[0]&134217728)&&Il!==(Il=qe[27].t("Save")+"")&&K(qt,Il)},i(qe){tl||(G(e.$$.fragment,qe),G(a.$$.fragment,qe),G(ie),G(Jt),G(ee.$$.fragment,qe),G(re.$$.fragment,qe),G(fl),G($e.$$.fragment,qe),G(ye.$$.fragment,qe),G(ct.$$.fragment,qe),G(jt.$$.fragment,qe),tl=!0)},o(qe){W(e.$$.fragment,qe),W(a.$$.fragment,qe),W(ie),W(Jt),W(ee.$$.fragment,qe),W(re.$$.fragment,qe),W(fl),W($e.$$.fragment,qe),W(ye.$$.fragment,qe),W(ct.$$.fragment,qe),W(jt.$$.fragment,qe),tl=!1},d(qe){qe&&(c(s),c(n),c(u)),ve(e,qe),ve(a,qe),~ne&&nl[ne].d(),Jt&&Jt.d(),ve(ee),ve(re),Ft&&Ft.d(),fl&&fl.d(),ve($e),ve(ye),ve(ct),ve(jt),Tl=!1,gl(Dl)}}}function m_(l,e,t){let s;const a=Ms(),i=Ml("i18n");el(l,i,Ve=>t(27,s=Ve));let n=!1,u=!1,f=!1,h=!1,E="",g="",v=1,m="",b=null,I=null,T="default",w="",k="",D="",$="",O=0,P=0,M=!0,N=!1,V=!1,S=!1,q=!1,Y="",L="",U="",B="",j={template:"",r:0,k:4,hybrid:!1};const F=async()=>{if(E===""&&g.split("/").length-1>1){et.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="ollama"&&g===""){et.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="openai"&&g===""){et.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="openai"&&L===""||Y===""){et.error(s.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",g),t(0,n=!0);const Ve=await Ru(localStorage.token,{embedding_engine:E,embedding_model:g,embedding_batch_size:v,ollama_config:{key:B,url:U},openai_config:{key:L,url:Y}}).catch(async dt=>(et.error(`${dt}`),await ne(),null));t(0,n=!1),Ve&&(console.log("embeddingModelUpdateHandler:",Ve),Ve.status===!0&&et.success(s.t('Embedding model set to "{{embedding_model}}"',Ve),{duration:1e3*10}))},J=async()=>{console.log("Update reranking model attempt:",m),t(1,u=!0);const Ve=await Pu(localStorage.token,{reranking_model:m}).catch(async dt=>(et.error(`${dt}`),await ie(),null));t(1,u=!1),Ve&&(console.log("rerankingModelUpdateHandler:",Ve),Ve.status===!0&&(m===""?et.success(s.t("Reranking model disabled",Ve),{duration:1e3*10}):et.success(s.t('Reranking model set to "{{reranking_model}}"',Ve),{duration:1e3*10})))},X=async()=>{if(T==="tika"&&w===""){et.error(s.t("Tika Server URL required."));return}if(T==="document_intelligence"&&(k===""||D==="")){et.error(s.t("Document Intelligence endpoint and key required."));return}V||(await F(),j.hybrid&&await J()),await co(localStorage.token,{pdf_extract_images:M,enable_google_drive_integration:S,enable_onedrive_integration:q,file:{max_size:b===""?null:b,max_count:I===""?null:I},RAG_FULL_CONTEXT:N,BYPASS_EMBEDDING_AND_RETRIEVAL:V,chunk:{text_splitter:$,chunk_overlap:P,chunk_size:O},content_extraction:{engine:T,tika_server_url:w,document_intelligence_config:{key:D,endpoint:k}}}),await Nr(localStorage.token,j),a("save")},ne=async()=>{const Ve=await Su(localStorage.token);Ve&&(t(4,E=Ve.embedding_engine),t(5,g=Ve.embedding_model),t(6,v=Ve.embedding_batch_size??1),t(23,L=Ve.openai_config.key),t(22,Y=Ve.openai_config.url),t(25,B=Ve.ollama_config.key),t(24,U=Ve.ollama_config.url))},ie=async()=>{const Ve=await Mu(localStorage.token);Ve&&t(7,m=Ve.reranking_model)},ae=async()=>{t(26,j=await Nr(localStorage.token,j))};as(async()=>{await ne(),await ie(),t(26,j=await Ou(localStorage.token));const Ve=await fo(localStorage.token);Ve&&(t(17,M=Ve.pdf_extract_images),t(14,$=Ve.chunk.text_splitter),t(15,O=Ve.chunk.chunk_size),t(16,P=Ve.chunk.chunk_overlap),t(18,N=Ve.RAG_FULL_CONTEXT),t(19,V=Ve.BYPASS_EMBEDDING_AND_RETRIEVAL),t(10,T=Ve.content_extraction.engine),t(11,w=Ve.content_extraction.tika_server_url),t(12,k=Ve.content_extraction.document_intelligence_config.endpoint),t(13,D=Ve.content_extraction.document_intelligence_config.key),t(8,b=(Ve==null?void 0:Ve.file.max_size)??""),t(9,I=(Ve==null?void 0:Ve.file.max_count)??""),t(20,S=Ve.enable_google_drive_integration),t(21,q=Ve.enable_onedrive_integration))});function Q(Ve){h=Ve,t(3,h)}const Z=async()=>{await Cu(localStorage.token).catch(dt=>(et.error(`${dt}`),null))&&et.success(s.t("Success"))};function te(Ve){f=Ve,t(2,f)}const ee=()=>{Lu(localStorage.token).catch(dt=>(et.error(`${dt}`),null))&&et.success(s.t("Success"))};function z(){T=Pl(this),t(10,T)}function be(){w=this.value,t(11,w)}function re(){k=this.value,t(12,k)}function ue(Ve){D=Ve,t(13,D)}function oe(Ve){M=Ve,t(17,M)}function Te(Ve){V=Ve,t(19,V)}function ge(){$=Pl(this),t(14,$)}function me(){O=Kl(this.value),t(15,O)}function De(){P=Kl(this.value),t(16,P)}function Se(){E=Pl(this),t(4,E)}const ke=Ve=>{Ve.target.value==="ollama"?t(5,g=""):Ve.target.value==="openai"?t(5,g="text-embedding-3-small"):Ve.target.value===""&&t(5,g="sentence-transformers/all-MiniLM-L6-v2")};function we(){Y=this.value,t(22,Y)}function Ae(Ve){L=Ve,t(23,L)}function x(){U=this.value,t(24,U)}function ce(Ve){B=Ve,t(25,B)}function Be(){g=this.value,t(5,g)}function Ce(){g=this.value,t(5,g)}const le=()=>{F()};function de(){v=Kl(this.value),t(6,v)}function $e(Ve){N=Ve,t(18,N)}function Ne(Ve){l.$$.not_equal(j.hybrid,Ve)&&(j.hybrid=Ve,t(26,j))}const Oe=()=>{ae()};function He(){m=this.value,t(7,m)}const We=()=>{J()};function Ze(){j.k=Kl(this.value),t(26,j)}function je(){j.r=Kl(this.value),t(26,j)}function Ie(Ve){l.$$.not_equal(j.template,Ve)&&(j.template=Ve,t(26,j))}function ye(){b=Kl(this.value),t(8,b)}function ht(){I=Kl(this.value),t(9,I)}function Je(Ve){S=Ve,t(20,S)}function pt(Ve){q=Ve,t(21,q)}return[n,u,f,h,E,g,v,m,b,I,T,w,k,D,$,O,P,M,N,V,S,q,Y,L,U,B,j,s,i,F,J,X,ae,Q,Z,te,ee,z,be,re,ue,oe,Te,ge,me,De,Se,ke,we,Ae,x,ce,Be,Ce,le,de,$e,Ne,Oe,He,We,Ze,je,Ie,ye,ht,Je,pt,()=>{t(3,h=!0)},()=>{t(2,f=!0)},()=>{X()}]}class g_ extends $l{constructor(e){super(),Vl(this,e,m_,v_,yl,{},null,[-1,-1,-1])}}function Ni(l,e,t){const s=l.slice();return s[40]=e[t],s}function Oi(l){let e,t,s,a=l[4].t("General")+"",i,n,u,f,h,E,g=l[4].t("Web Search")+"",v,m,b,I,T,w,k,D,$=l[4].t("Web Search Engine")+"",O,P,M,N,V,S=l[4].t("Select a engine")+"",q,Y,L,U,B,j,F,J,X,ne,ie,ae,Q,Z,te=l[4].t("Trust Proxy Environment")+"",ee,z,be,re,ue,oe,Te,ge=l[4].t("Loader")+"",me,De,Se,ke,we,Ae,x=l[4].t("Bypass SSL verification for Websites")+"",ce,Be,Ce,le,de,$e,Ne,Oe,He=l[4].t("Youtube Language")+"",We,Ze,je,Ie,ye,ht,Je,pt,ze=l[4].t("Youtube Proxy URL")+"",ot,bt,Ve,dt,Et,ut,mt,Tt;function yt(Re){l[8](Re)}let _t={};l[1].search.enabled!==void 0&&(_t.state=l[1].search.enabled),I=new pl({props:_t}),Xe.push(()=>lt(I,"state",yt));let ct=Vt(l[6]),vt=[];for(let Re=0;Re<ct.length;Re+=1)vt[Re]=Pi(Ni(l,ct,Re));let Me=l[1].search.engine!==""&&Si(l),Ke=l[1].search.enabled&&Mi(l);J=new Yt({props:{content:l[4].t("Full Context Mode"),placement:"top-start",$$slots:{default:[L_]},$$scope:{ctx:l}}}),ie=new Yt({props:{content:l[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[R_]},$$scope:{ctx:l}}}),re=new Yt({props:{content:l[1].search.trust_env?"Use proxy designated by http_proxy and https_proxy environment variables to fetch page contents":"Use no proxy to fetch page contents.",$$slots:{default:[C_]},$$scope:{ctx:l}}});function Nt(Re){l[35](Re)}let It={};return l[1].ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION!==void 0&&(It.state=l[1].ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION),le=new pl({props:It}),Xe.push(()=>lt(le,"state",Nt)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("hr"),f=A(),h=d("div"),E=d("div"),v=R(g),m=A(),b=d("div"),_e(I.$$.fragment),w=A(),k=d("div"),D=d("div"),O=R($),P=A(),M=d("div"),N=d("select"),V=d("option"),q=R(S);for(let Re=0;Re<vt.length;Re+=1)vt[Re].c();L=A(),Me&&Me.c(),U=A(),Ke&&Ke.c(),B=A(),j=d("div"),F=d("div"),_e(J.$$.fragment),X=A(),ne=d("div"),_e(ie.$$.fragment),ae=A(),Q=d("div"),Z=d("div"),ee=R(te),z=A(),be=d("div"),_e(re.$$.fragment),ue=A(),oe=d("div"),Te=d("div"),me=R(ge),De=A(),Se=d("hr"),ke=A(),we=d("div"),Ae=d("div"),ce=R(x),Be=A(),Ce=d("div"),_e(le.$$.fragment),$e=A(),Ne=d("div"),Oe=d("div"),We=R(He),Ze=A(),je=d("div"),Ie=d("input"),ht=A(),Je=d("div"),pt=d("div"),ot=R(ze),bt=A(),Ve=d("div"),dt=d("input"),this.h()},l(Re){e=_(Re,"DIV",{class:!0});var Ge=p(e);t=_(Ge,"DIV",{class:!0});var ft=p(t);s=_(ft,"DIV",{class:!0});var jt=p(s);i=C(jt,a),jt.forEach(c),n=y(ft),u=_(ft,"HR",{class:!0}),f=y(ft),h=_(ft,"DIV",{class:!0});var Rt=p(h);E=_(Rt,"DIV",{class:!0});var Gt=p(E);v=C(Gt,g),Gt.forEach(c),m=y(Rt),b=_(Rt,"DIV",{class:!0});var Le=p(b);he(I.$$.fragment,Le),Le.forEach(c),Rt.forEach(c),w=y(ft),k=_(ft,"DIV",{class:!0});var Fe=p(k);D=_(Fe,"DIV",{class:!0});var Ut=p(D);O=C(Ut,$),Ut.forEach(c),P=y(Fe),M=_(Fe,"DIV",{class:!0});var Dt=p(M);N=_(Dt,"SELECT",{class:!0,placeholder:!0});var Ue=p(N);V=_(Ue,"OPTION",{});var Ee=p(V);q=C(Ee,S),Ee.forEach(c);for(let it=0;it<vt.length;it+=1)vt[it].l(Ue);Ue.forEach(c),Dt.forEach(c),Fe.forEach(c),L=y(ft),Me&&Me.l(ft),U=y(ft),Ke&&Ke.l(ft),B=y(ft),j=_(ft,"DIV",{class:!0});var rt=p(j);F=_(rt,"DIV",{class:!0});var Pt=p(F);he(J.$$.fragment,Pt),Pt.forEach(c),X=y(rt),ne=_(rt,"DIV",{class:!0});var Ct=p(ne);he(ie.$$.fragment,Ct),Ct.forEach(c),rt.forEach(c),ae=y(ft),Q=_(ft,"DIV",{class:!0});var $t=p(Q);Z=_($t,"DIV",{class:!0});var Mt=p(Z);ee=C(Mt,te),Mt.forEach(c),z=y($t),be=_($t,"DIV",{class:!0});var Lt=p(be);he(re.$$.fragment,Lt),Lt.forEach(c),$t.forEach(c),ft.forEach(c),ue=y(Ge),oe=_(Ge,"DIV",{class:!0});var At=p(oe);Te=_(At,"DIV",{class:!0});var Ye=p(Te);me=C(Ye,ge),Ye.forEach(c),De=y(At),Se=_(At,"HR",{class:!0}),ke=y(At),we=_(At,"DIV",{class:!0});var nt=p(we);Ae=_(nt,"DIV",{class:!0});var Ot=p(Ae);ce=C(Ot,x),Ot.forEach(c),Be=y(nt),Ce=_(nt,"DIV",{class:!0});var Kt=p(Ce);he(le.$$.fragment,Kt),Kt.forEach(c),nt.forEach(c),$e=y(At),Ne=_(At,"DIV",{class:!0});var st=p(Ne);Oe=_(st,"DIV",{class:!0});var sl=p(Oe);We=C(sl,He),sl.forEach(c),Ze=y(st),je=_(st,"DIV",{class:!0});var Wt=p(je);Ie=_(Wt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Wt.forEach(c),st.forEach(c),ht=y(At),Je=_(At,"DIV",{class:!0});var Xt=p(Je);pt=_(Xt,"DIV",{class:!0});var zt=p(pt);ot=C(zt,ze),zt.forEach(c),bt=y(Xt),Ve=_(Xt,"DIV",{class:!0});var al=p(Ve);dt=_(al,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),al.forEach(c),Xt.forEach(c),At.forEach(c),Ge.forEach(c),this.h()},h(){o(s,"class","mb-2.5 text-base font-medium"),o(u,"class","border-gray-100 dark:border-gray-850 my-2"),o(E,"class","self-center text-xs font-medium"),o(b,"class","flex items-center relative"),o(h,"class","mb-2.5 flex w-full justify-between"),o(D,"class","self-center text-xs font-medium"),V.disabled=!0,V.selected=!0,V.__value="",se(V,V.__value),o(N,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(N,"placeholder",Y=l[4].t("Select a engine")),N.required=!0,l[1].search.engine===void 0&&Sl(()=>l[9].call(N)),o(M,"class","flex items-center relative"),o(k,"class","mb-2.5 flex w-full justify-between"),o(F,"class","self-center text-xs font-medium"),o(ne,"class","flex items-center relative"),o(j,"class","mb-2.5 flex w-full justify-between"),o(Z,"class","self-center text-xs font-medium"),o(be,"class","flex items-center relative"),o(Q,"class","mb-2.5 flex w-full justify-between"),o(t,"class","mb-3"),o(Te,"class","mb-2.5 text-base font-medium"),o(Se,"class","border-gray-100 dark:border-gray-850 my-2"),o(Ae,"class","self-center text-xs font-medium"),o(Ce,"class","flex items-center relative"),o(we,"class","mb-2.5 flex w-full justify-between"),o(Oe,"class","self-center text-xs font-medium"),o(Ie,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(Ie,"type","text"),o(Ie,"placeholder",ye=l[4].t("Enter language codes")),o(Ie,"autocomplete","off"),o(je,"class","flex items-center relative"),o(Ne,"class","mb-2.5 flex w-full justify-between"),o(pt,"class","mb-1 text-xs font-medium"),o(dt,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(dt,"type","text"),o(dt,"placeholder",Et=l[4].t("Enter proxy URL (e.g. https://user:password@host:port)")),o(dt,"autocomplete","off"),o(Ve,"class","flex items-center relative"),o(Je,"class","mb-2.5 flex flex-col w-full justify-between"),o(oe,"class","mb-3"),o(e,"class","")},m(Re,Ge){H(Re,e,Ge),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(t,f),r(t,h),r(h,E),r(E,v),r(h,m),r(h,b),pe(I,b,null),r(t,w),r(t,k),r(k,D),r(D,O),r(k,P),r(k,M),r(M,N),r(N,V),r(V,q);for(let ft=0;ft<vt.length;ft+=1)vt[ft]&&vt[ft].m(N,null);xt(N,l[1].search.engine,!0),r(t,L),Me&&Me.m(t,null),r(t,U),Ke&&Ke.m(t,null),r(t,B),r(t,j),r(j,F),pe(J,F,null),r(j,X),r(j,ne),pe(ie,ne,null),r(t,ae),r(t,Q),r(Q,Z),r(Z,ee),r(Q,z),r(Q,be),pe(re,be,null),r(e,ue),r(e,oe),r(oe,Te),r(Te,me),r(oe,De),r(oe,Se),r(oe,ke),r(oe,we),r(we,Ae),r(Ae,ce),r(we,Be),r(we,Ce),pe(le,Ce,null),r(oe,$e),r(oe,Ne),r(Ne,Oe),r(Oe,We),r(Ne,Ze),r(Ne,je),r(je,Ie),se(Ie,l[2]),r(oe,ht),r(oe,Je),r(Je,pt),r(pt,ot),r(Je,bt),r(Je,Ve),r(Ve,dt),se(dt,l[3]),ut=!0,mt||(Tt=[fe(N,"change",l[9]),fe(Ie,"input",l[36]),fe(dt,"input",l[37])],mt=!0)},p(Re,Ge){(!ut||Ge[0]&16)&&a!==(a=Re[4].t("General")+"")&&K(i,a),(!ut||Ge[0]&16)&&g!==(g=Re[4].t("Web Search")+"")&&K(v,g);const ft={};if(!T&&Ge[0]&2&&(T=!0,ft.state=Re[1].search.enabled,tt(()=>T=!1)),I.$set(ft),(!ut||Ge[0]&16)&&$!==($=Re[4].t("Web Search Engine")+"")&&K(O,$),(!ut||Ge[0]&16)&&S!==(S=Re[4].t("Select a engine")+"")&&K(q,S),Ge[0]&64){ct=Vt(Re[6]);let Fe;for(Fe=0;Fe<ct.length;Fe+=1){const Ut=Ni(Re,ct,Fe);vt[Fe]?vt[Fe].p(Ut,Ge):(vt[Fe]=Pi(Ut),vt[Fe].c(),vt[Fe].m(N,null))}for(;Fe<vt.length;Fe+=1)vt[Fe].d(1);vt.length=ct.length}(!ut||Ge[0]&16&&Y!==(Y=Re[4].t("Select a engine")))&&o(N,"placeholder",Y),Ge[0]&66&&xt(N,Re[1].search.engine),Re[1].search.engine!==""?Me?(Me.p(Re,Ge),Ge[0]&2&&G(Me,1)):(Me=Si(Re),Me.c(),G(Me,1),Me.m(t,U)):Me&&(wt(),W(Me,1,1,()=>{Me=null}),kt()),Re[1].search.enabled?Ke?Ke.p(Re,Ge):(Ke=Mi(Re),Ke.c(),Ke.m(t,B)):Ke&&(Ke.d(1),Ke=null);const jt={};Ge[0]&16&&(jt.content=Re[4].t("Full Context Mode")),Ge[0]&16|Ge[1]&4096&&(jt.$$scope={dirty:Ge,ctx:Re}),J.$set(jt);const Rt={};Ge[0]&2&&(Rt.content=Re[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),Ge[0]&2|Ge[1]&4096&&(Rt.$$scope={dirty:Ge,ctx:Re}),ie.$set(Rt),(!ut||Ge[0]&16)&&te!==(te=Re[4].t("Trust Proxy Environment")+"")&&K(ee,te);const Gt={};Ge[0]&2&&(Gt.content=Re[1].search.trust_env?"Use proxy designated by http_proxy and https_proxy environment variables to fetch page contents":"Use no proxy to fetch page contents."),Ge[0]&2|Ge[1]&4096&&(Gt.$$scope={dirty:Ge,ctx:Re}),re.$set(Gt),(!ut||Ge[0]&16)&&ge!==(ge=Re[4].t("Loader")+"")&&K(me,ge),(!ut||Ge[0]&16)&&x!==(x=Re[4].t("Bypass SSL verification for Websites")+"")&&K(ce,x);const Le={};!de&&Ge[0]&2&&(de=!0,Le.state=Re[1].ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION,tt(()=>de=!1)),le.$set(Le),(!ut||Ge[0]&16)&&He!==(He=Re[4].t("Youtube Language")+"")&&K(We,He),(!ut||Ge[0]&16&&ye!==(ye=Re[4].t("Enter language codes")))&&o(Ie,"placeholder",ye),Ge[0]&4&&Ie.value!==Re[2]&&se(Ie,Re[2]),(!ut||Ge[0]&16)&&ze!==(ze=Re[4].t("Youtube Proxy URL")+"")&&K(ot,ze),(!ut||Ge[0]&16&&Et!==(Et=Re[4].t("Enter proxy URL (e.g. https://user:password@host:port)")))&&o(dt,"placeholder",Et),Ge[0]&8&&dt.value!==Re[3]&&se(dt,Re[3])},i(Re){ut||(G(I.$$.fragment,Re),G(Me),G(J.$$.fragment,Re),G(ie.$$.fragment,Re),G(re.$$.fragment,Re),G(le.$$.fragment,Re),ut=!0)},o(Re){W(I.$$.fragment,Re),W(Me),W(J.$$.fragment,Re),W(ie.$$.fragment,Re),W(re.$$.fragment,Re),W(le.$$.fragment,Re),ut=!1},d(Re){Re&&c(e),ve(I),wl(vt,Re),Me&&Me.d(),Ke&&Ke.d(),ve(J),ve(ie),ve(re),ve(le),mt=!1,gl(Tt)}}}function Pi(l){let e,t=l[40]+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value=l[40],se(e,e.__value)},m(a,i){H(a,e,i),r(e,s)},p:gt,d(a){a&&c(e)}}}function Si(l){let e,t,s,a;const i=[M_,S_,P_,O_,N_,V_,$_,y_,A_,D_,T_,k_,w_,I_,b_,E_],n=[];function u(f,h){return f[1].search.engine==="searxng"?0:f[1].search.engine==="google_pse"?1:f[1].search.engine==="brave"?2:f[1].search.engine==="kagi"?3:f[1].search.engine==="mojeek"?4:f[1].search.engine==="bocha"?5:f[1].search.engine==="serpstack"?6:f[1].search.engine==="serper"?7:f[1].search.engine==="serply"?8:f[1].search.engine==="searchapi"?9:f[1].search.engine==="serpapi"?10:f[1].search.engine==="tavily"?11:f[1].search.engine==="jina"?12:f[1].search.engine==="exa"?13:f[1].search.engine==="perplexity"?14:f[1].search.engine==="bing"?15:-1}return~(e=u(l))&&(t=n[e]=i[e](l)),{c(){t&&t.c(),s=rl()},l(f){t&&t.l(f),s=rl()},m(f,h){~e&&n[e].m(f,h),H(f,s,h),a=!0},p(f,h){let E=e;e=u(f),e===E?~e&&n[e].p(f,h):(t&&(wt(),W(n[E],1,1,()=>{n[E]=null}),kt()),~e?(t=n[e],t?t.p(f,h):(t=n[e]=i[e](f),t.c()),G(t,1),t.m(s.parentNode,s)):t=null)},i(f){a||(G(t),a=!0)},o(f){W(t),a=!1},d(f){f&&c(s),~e&&n[e].d(f)}}}function E_(l){let e,t,s,a=l[4].t("Bing Search V7 Endpoint")+"",i,n,u,f,h,E,g,v,m,b=l[4].t("Bing Search V7 Subscription Key")+"",I,T,w,k,D,$,O;function P(N){l[29](N)}let M={placeholder:l[4].t("Enter Bing Search V7 Subscription Key")};return l[1].search.bing_search_v7_subscription_key!==void 0&&(M.value=l[1].search.bing_search_v7_subscription_key),w=new kl({props:M}),Xe.push(()=>lt(w,"value",P)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=d("div"),h=d("input"),g=A(),v=d("div"),m=d("div"),I=R(b),T=A(),_e(w.$$.fragment),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=p(e);t=_(V,"DIV",{});var S=p(t);s=_(S,"DIV",{class:!0});var q=p(s);i=C(q,a),q.forEach(c),n=y(S),u=_(S,"DIV",{class:!0});var Y=p(u);f=_(Y,"DIV",{class:!0});var L=p(f);h=_(L,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),L.forEach(c),Y.forEach(c),S.forEach(c),g=y(V),v=_(V,"DIV",{class:!0});var U=p(v);m=_(U,"DIV",{class:!0});var B=p(m);I=C(B,b),B.forEach(c),T=y(U),he(w.$$.fragment,U),U.forEach(c),V.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(h,"type","text"),o(h,"placeholder",E=l[4].t("Enter Bing Search V7 Endpoint")),o(h,"autocomplete","off"),o(f,"class","flex-1"),o(u,"class","flex w-full"),o(m,"class","self-center text-xs font-medium mb-1"),o(v,"class","mt-2"),o(e,"class","mb-2.5 flex w-full flex-col")},m(N,V){H(N,e,V),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(u,f),r(f,h),se(h,l[1].search.bing_search_v7_endpoint),r(e,g),r(e,v),r(v,m),r(m,I),r(v,T),pe(w,v,null),D=!0,$||(O=fe(h,"input",l[28]),$=!0)},p(N,V){(!D||V[0]&16)&&a!==(a=N[4].t("Bing Search V7 Endpoint")+"")&&K(i,a),(!D||V[0]&16&&E!==(E=N[4].t("Enter Bing Search V7 Endpoint")))&&o(h,"placeholder",E),V[0]&66&&h.value!==N[1].search.bing_search_v7_endpoint&&se(h,N[1].search.bing_search_v7_endpoint),(!D||V[0]&16)&&b!==(b=N[4].t("Bing Search V7 Subscription Key")+"")&&K(I,b);const S={};V[0]&16&&(S.placeholder=N[4].t("Enter Bing Search V7 Subscription Key")),!k&&V[0]&2&&(k=!0,S.value=N[1].search.bing_search_v7_subscription_key,tt(()=>k=!1)),w.$set(S)},i(N){D||(G(w.$$.fragment,N),D=!0)},o(N){W(w.$$.fragment,N),D=!1},d(N){N&&c(e),ve(w),$=!1,O()}}}function b_(l){let e,t,s=l[4].t("Perplexity API Key")+"",a,i,n,u,f;function h(g){l[27](g)}let E={placeholder:l[4].t("Enter Perplexity API Key")};return l[1].search.perplexity_api_key!==void 0&&(E.value=l[1].search.perplexity_api_key),n=new kl({props:E}),Xe.push(()=>lt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),_e(n.$$.fragment),this.h()},l(g){e=_(g,"DIV",{});var v=p(e);t=_(v,"DIV",{class:!0});var m=p(t);a=C(m,s),m.forEach(c),i=y(v),he(n.$$.fragment,v),v.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(g,v){H(g,e,v),r(e,t),r(t,a),r(e,i),pe(n,e,null),f=!0},p(g,v){(!f||v[0]&16)&&s!==(s=g[4].t("Perplexity API Key")+"")&&K(a,s);const m={};v[0]&16&&(m.placeholder=g[4].t("Enter Perplexity API Key")),!u&&v[0]&2&&(u=!0,m.value=g[1].search.perplexity_api_key,tt(()=>u=!1)),n.$set(m)},i(g){f||(G(n.$$.fragment,g),f=!0)},o(g){W(n.$$.fragment,g),f=!1},d(g){g&&c(e),ve(n)}}}function I_(l){let e,t,s,a=l[4].t("Exa API Key")+"",i,n,u,f,h;function E(v){l[26](v)}let g={placeholder:l[4].t("Enter Exa API Key")};return l[1].search.exa_api_key!==void 0&&(g.value=l[1].search.exa_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Exa API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Exa API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.exa_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function w_(l){let e,t,s,a=l[4].t("Jina API Key")+"",i,n,u,f,h;function E(v){l[25](v)}let g={placeholder:l[4].t("Enter Jina API Key")};return l[1].search.jina_api_key!==void 0&&(g.value=l[1].search.jina_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Jina API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Jina API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.jina_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function k_(l){let e,t,s,a=l[4].t("Tavily API Key")+"",i,n,u,f,h;function E(v){l[24](v)}let g={placeholder:l[4].t("Enter Tavily API Key")};return l[1].search.tavily_api_key!==void 0&&(g.value=l[1].search.tavily_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Tavily API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Tavily API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.tavily_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function T_(l){let e,t,s,a=l[4].t("SerpApi API Key")+"",i,n,u,f,h,E,g,v=l[4].t("SerpApi Engine")+"",m,b,I,T,w,k,D,$,O;function P(N){l[22](N)}let M={placeholder:l[4].t("Enter SerpApi API Key")};return l[1].search.serpapi_api_key!==void 0&&(M.value=l[1].search.serpapi_api_key),u=new kl({props:M}),Xe.push(()=>lt(u,"value",P)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),h=A(),E=d("div"),g=d("div"),m=R(v),b=A(),I=d("div"),T=d("div"),w=d("input"),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=p(e);t=_(V,"DIV",{});var S=p(t);s=_(S,"DIV",{class:!0});var q=p(s);i=C(q,a),q.forEach(c),n=y(S),he(u.$$.fragment,S),S.forEach(c),h=y(V),E=_(V,"DIV",{class:!0});var Y=p(E);g=_(Y,"DIV",{class:!0});var L=p(g);m=C(L,v),L.forEach(c),b=y(Y),I=_(Y,"DIV",{class:!0});var U=p(I);T=_(U,"DIV",{class:!0});var B=p(T);w=_(B,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),B.forEach(c),U.forEach(c),Y.forEach(c),V.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(g,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(w,"type","text"),o(w,"placeholder",k=l[4].t("Enter SerpApi Engine")),o(w,"autocomplete","off"),o(T,"class","flex-1"),o(I,"class","flex w-full"),o(E,"class","mt-1.5"),o(e,"class","mb-2.5 flex w-full flex-col")},m(N,V){H(N,e,V),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),r(e,h),r(e,E),r(E,g),r(g,m),r(E,b),r(E,I),r(I,T),r(T,w),se(w,l[1].search.serpapi_engine),D=!0,$||(O=fe(w,"input",l[23]),$=!0)},p(N,V){(!D||V[0]&16)&&a!==(a=N[4].t("SerpApi API Key")+"")&&K(i,a);const S={};V[0]&16&&(S.placeholder=N[4].t("Enter SerpApi API Key")),!f&&V[0]&2&&(f=!0,S.value=N[1].search.serpapi_api_key,tt(()=>f=!1)),u.$set(S),(!D||V[0]&16)&&v!==(v=N[4].t("SerpApi Engine")+"")&&K(m,v),(!D||V[0]&16&&k!==(k=N[4].t("Enter SerpApi Engine")))&&o(w,"placeholder",k),V[0]&66&&w.value!==N[1].search.serpapi_engine&&se(w,N[1].search.serpapi_engine)},i(N){D||(G(u.$$.fragment,N),D=!0)},o(N){W(u.$$.fragment,N),D=!1},d(N){N&&c(e),ve(u),$=!1,O()}}}function D_(l){let e,t,s,a=l[4].t("SearchApi API Key")+"",i,n,u,f,h,E,g,v=l[4].t("SearchApi Engine")+"",m,b,I,T,w,k,D,$,O;function P(N){l[20](N)}let M={placeholder:l[4].t("Enter SearchApi API Key")};return l[1].search.searchapi_api_key!==void 0&&(M.value=l[1].search.searchapi_api_key),u=new kl({props:M}),Xe.push(()=>lt(u,"value",P)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),h=A(),E=d("div"),g=d("div"),m=R(v),b=A(),I=d("div"),T=d("div"),w=d("input"),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=p(e);t=_(V,"DIV",{});var S=p(t);s=_(S,"DIV",{class:!0});var q=p(s);i=C(q,a),q.forEach(c),n=y(S),he(u.$$.fragment,S),S.forEach(c),h=y(V),E=_(V,"DIV",{class:!0});var Y=p(E);g=_(Y,"DIV",{class:!0});var L=p(g);m=C(L,v),L.forEach(c),b=y(Y),I=_(Y,"DIV",{class:!0});var U=p(I);T=_(U,"DIV",{class:!0});var B=p(T);w=_(B,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),B.forEach(c),U.forEach(c),Y.forEach(c),V.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(g,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(w,"type","text"),o(w,"placeholder",k=l[4].t("Enter SearchApi Engine")),o(w,"autocomplete","off"),o(T,"class","flex-1"),o(I,"class","flex w-full"),o(E,"class","mt-1.5"),o(e,"class","mb-2.5 flex w-full flex-col")},m(N,V){H(N,e,V),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),r(e,h),r(e,E),r(E,g),r(g,m),r(E,b),r(E,I),r(I,T),r(T,w),se(w,l[1].search.searchapi_engine),D=!0,$||(O=fe(w,"input",l[21]),$=!0)},p(N,V){(!D||V[0]&16)&&a!==(a=N[4].t("SearchApi API Key")+"")&&K(i,a);const S={};V[0]&16&&(S.placeholder=N[4].t("Enter SearchApi API Key")),!f&&V[0]&2&&(f=!0,S.value=N[1].search.searchapi_api_key,tt(()=>f=!1)),u.$set(S),(!D||V[0]&16)&&v!==(v=N[4].t("SearchApi Engine")+"")&&K(m,v),(!D||V[0]&16&&k!==(k=N[4].t("Enter SearchApi Engine")))&&o(w,"placeholder",k),V[0]&66&&w.value!==N[1].search.searchapi_engine&&se(w,N[1].search.searchapi_engine)},i(N){D||(G(u.$$.fragment,N),D=!0)},o(N){W(u.$$.fragment,N),D=!1},d(N){N&&c(e),ve(u),$=!1,O()}}}function A_(l){let e,t,s,a=l[4].t("Serply API Key")+"",i,n,u,f,h;function E(v){l[19](v)}let g={placeholder:l[4].t("Enter Serply API Key")};return l[1].search.serply_api_key!==void 0&&(g.value=l[1].search.serply_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Serply API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Serply API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.serply_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function y_(l){let e,t,s,a=l[4].t("Serper API Key")+"",i,n,u,f,h;function E(v){l[18](v)}let g={placeholder:l[4].t("Enter Serper API Key")};return l[1].search.serper_api_key!==void 0&&(g.value=l[1].search.serper_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Serper API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Serper API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.serper_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function $_(l){let e,t,s,a=l[4].t("Serpstack API Key")+"",i,n,u,f,h;function E(v){l[17](v)}let g={placeholder:l[4].t("Enter Serpstack API Key")};return l[1].search.serpstack_api_key!==void 0&&(g.value=l[1].search.serpstack_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Serpstack API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Serpstack API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.serpstack_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function V_(l){let e,t,s,a=l[4].t("Bocha Search API Key")+"",i,n,u,f,h;function E(v){l[16](v)}let g={placeholder:l[4].t("Enter Bocha Search API Key")};return l[1].search.bocha_search_api_key!==void 0&&(g.value=l[1].search.bocha_search_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Bocha Search API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Bocha Search API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.bocha_search_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function N_(l){let e,t,s,a=l[4].t("Mojeek Search API Key")+"",i,n,u,f,h;function E(v){l[15](v)}let g={placeholder:l[4].t("Enter Mojeek Search API Key")};return l[1].search.mojeek_search_api_key!==void 0&&(g.value=l[1].search.mojeek_search_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Mojeek Search API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Mojeek Search API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.mojeek_search_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function O_(l){let e,t,s,a=l[4].t("Kagi Search API Key")+"",i,n,u,f,h,E;function g(m){l[14](m)}let v={placeholder:l[4].t("Enter Kagi Search API Key")};return l[1].search.kagi_search_api_key!==void 0&&(v.value=l[1].search.kagi_search_api_key),u=new kl({props:v}),Xe.push(()=>lt(u,"value",g)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),h=R(`
								.`),this.h()},l(m){e=_(m,"DIV",{class:!0});var b=p(e);t=_(b,"DIV",{});var I=p(t);s=_(I,"DIV",{class:!0});var T=p(s);i=C(T,a),T.forEach(c),n=y(I),he(u.$$.fragment,I),I.forEach(c),h=C(b,`
								.`),b.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(m,b){H(m,e,b),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),r(e,h),E=!0},p(m,b){(!E||b[0]&16)&&a!==(a=m[4].t("Kagi Search API Key")+"")&&K(i,a);const I={};b[0]&16&&(I.placeholder=m[4].t("Enter Kagi Search API Key")),!f&&b[0]&2&&(f=!0,I.value=m[1].search.kagi_search_api_key,tt(()=>f=!1)),u.$set(I)},i(m){E||(G(u.$$.fragment,m),E=!0)},o(m){W(u.$$.fragment,m),E=!1},d(m){m&&c(e),ve(u)}}}function P_(l){let e,t,s,a=l[4].t("Brave Search API Key")+"",i,n,u,f,h;function E(v){l[13](v)}let g={placeholder:l[4].t("Enter Brave Search API Key")};return l[1].search.brave_search_api_key!==void 0&&(g.value=l[1].search.brave_search_api_key),u=new kl({props:g}),Xe.push(()=>lt(u,"value",E)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var m=p(e);t=_(m,"DIV",{});var b=p(t);s=_(b,"DIV",{class:!0});var I=p(s);i=C(I,a),I.forEach(c),n=y(b),he(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(e,"class","mb-2.5 flex w-full flex-col")},m(v,m){H(v,e,m),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),h=!0},p(v,m){(!h||m[0]&16)&&a!==(a=v[4].t("Brave Search API Key")+"")&&K(i,a);const b={};m[0]&16&&(b.placeholder=v[4].t("Enter Brave Search API Key")),!f&&m[0]&2&&(f=!0,b.value=v[1].search.brave_search_api_key,tt(()=>f=!1)),u.$set(b)},i(v){h||(G(u.$$.fragment,v),h=!0)},o(v){W(u.$$.fragment,v),h=!1},d(v){v&&c(e),ve(u)}}}function S_(l){let e,t,s,a=l[4].t("Google PSE API Key")+"",i,n,u,f,h,E,g,v=l[4].t("Google PSE Engine Id")+"",m,b,I,T,w,k,D,$,O;function P(N){l[11](N)}let M={placeholder:l[4].t("Enter Google PSE API Key")};return l[1].search.google_pse_api_key!==void 0&&(M.value=l[1].search.google_pse_api_key),u=new kl({props:M}),Xe.push(()=>lt(u,"value",P)),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),_e(u.$$.fragment),h=A(),E=d("div"),g=d("div"),m=R(v),b=A(),I=d("div"),T=d("div"),w=d("input"),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=p(e);t=_(V,"DIV",{});var S=p(t);s=_(S,"DIV",{class:!0});var q=p(s);i=C(q,a),q.forEach(c),n=y(S),he(u.$$.fragment,S),S.forEach(c),h=y(V),E=_(V,"DIV",{class:!0});var Y=p(E);g=_(Y,"DIV",{class:!0});var L=p(g);m=C(L,v),L.forEach(c),b=y(Y),I=_(Y,"DIV",{class:!0});var U=p(I);T=_(U,"DIV",{class:!0});var B=p(T);w=_(B,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),B.forEach(c),U.forEach(c),Y.forEach(c),V.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(g,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(w,"type","text"),o(w,"placeholder",k=l[4].t("Enter Google PSE Engine Id")),o(w,"autocomplete","off"),o(T,"class","flex-1"),o(I,"class","flex w-full"),o(E,"class","mt-1.5"),o(e,"class","mb-2.5 flex w-full flex-col")},m(N,V){H(N,e,V),r(e,t),r(t,s),r(s,i),r(t,n),pe(u,t,null),r(e,h),r(e,E),r(E,g),r(g,m),r(E,b),r(E,I),r(I,T),r(T,w),se(w,l[1].search.google_pse_engine_id),D=!0,$||(O=fe(w,"input",l[12]),$=!0)},p(N,V){(!D||V[0]&16)&&a!==(a=N[4].t("Google PSE API Key")+"")&&K(i,a);const S={};V[0]&16&&(S.placeholder=N[4].t("Enter Google PSE API Key")),!f&&V[0]&2&&(f=!0,S.value=N[1].search.google_pse_api_key,tt(()=>f=!1)),u.$set(S),(!D||V[0]&16)&&v!==(v=N[4].t("Google PSE Engine Id")+"")&&K(m,v),(!D||V[0]&16&&k!==(k=N[4].t("Enter Google PSE Engine Id")))&&o(w,"placeholder",k),V[0]&66&&w.value!==N[1].search.google_pse_engine_id&&se(w,N[1].search.google_pse_engine_id)},i(N){D||(G(u.$$.fragment,N),D=!0)},o(N){W(u.$$.fragment,N),D=!1},d(N){N&&c(e),ve(u),$=!1,O()}}}function M_(l){let e,t,s,a=l[4].t("Searxng Query URL")+"",i,n,u,f,h,E,g,v;return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=d("div"),h=d("input"),this.h()},l(m){e=_(m,"DIV",{class:!0});var b=p(e);t=_(b,"DIV",{});var I=p(t);s=_(I,"DIV",{class:!0});var T=p(s);i=C(T,a),T.forEach(c),n=y(I),u=_(I,"DIV",{class:!0});var w=p(u);f=_(w,"DIV",{class:!0});var k=p(f);h=_(k,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),k.forEach(c),w.forEach(c),I.forEach(c),b.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(h,"type","text"),o(h,"placeholder",E=l[4].t("Enter Searxng Query URL")),o(h,"autocomplete","off"),o(f,"class","flex-1"),o(u,"class","flex w-full"),o(e,"class","mb-2.5 flex w-full flex-col")},m(m,b){H(m,e,b),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(u,f),r(f,h),se(h,l[1].search.searxng_query_url),g||(v=fe(h,"input",l[10]),g=!0)},p(m,b){b[0]&16&&a!==(a=m[4].t("Searxng Query URL")+"")&&K(i,a),b[0]&16&&E!==(E=m[4].t("Enter Searxng Query URL"))&&o(h,"placeholder",E),b[0]&66&&h.value!==m[1].search.searxng_query_url&&se(h,m[1].search.searxng_query_url)},i:gt,o:gt,d(m){m&&c(e),g=!1,v()}}}function Mi(l){let e,t,s,a,i=l[4].t("Search Result Count")+"",n,u,f,h,E,g,v,m=l[4].t("Concurrent Requests")+"",b,I,T,w,k,D,$,O=l[4].t("Domain Filter List")+"",P,M,N,V,S,q;return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),n=R(i),u=A(),f=d("input"),E=A(),g=d("div"),v=d("div"),b=R(m),I=A(),T=d("input"),k=A(),D=d("div"),$=d("div"),P=R(O),M=A(),N=d("input"),this.h()},l(Y){e=_(Y,"DIV",{class:!0});var L=p(e);t=_(L,"DIV",{class:!0});var U=p(t);s=_(U,"DIV",{class:!0});var B=p(s);a=_(B,"DIV",{class:!0});var j=p(a);n=C(j,i),j.forEach(c),u=y(B),f=_(B,"INPUT",{class:!0,placeholder:!0}),B.forEach(c),E=y(U),g=_(U,"DIV",{class:!0});var F=p(g);v=_(F,"DIV",{class:!0});var J=p(v);b=C(J,m),J.forEach(c),I=y(F),T=_(F,"INPUT",{class:!0,placeholder:!0}),F.forEach(c),U.forEach(c),L.forEach(c),k=y(Y),D=_(Y,"DIV",{class:!0});var X=p(D);$=_(X,"DIV",{class:!0});var ne=p($);P=C(ne,O),ne.forEach(c),M=y(X),N=_(X,"INPUT",{class:!0,placeholder:!0}),X.forEach(c),this.h()},h(){o(a,"class","self-center text-xs font-medium mb-1"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(f,"placeholder",h=l[4].t("Search Result Count")),f.required=!0,o(s,"class","w-full"),o(v,"class","self-center text-xs font-medium mb-1"),o(T,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(T,"placeholder",w=l[4].t("Concurrent Requests")),T.required=!0,o(g,"class","w-full"),o(t,"class","flex gap-2"),o(e,"class","mb-2.5 flex w-full flex-col"),o($,"class","text-xs font-medium mb-1"),o(N,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(N,"placeholder",V=l[4].t("Enter domains separated by commas (e.g., example.com,site.org)")),o(D,"class","mb-2.5 flex w-full flex-col")},m(Y,L){H(Y,e,L),r(e,t),r(t,s),r(s,a),r(a,n),r(s,u),r(s,f),se(f,l[1].search.result_count),r(t,E),r(t,g),r(g,v),r(v,b),r(g,I),r(g,T),se(T,l[1].search.concurrent_requests),H(Y,k,L),H(Y,D,L),r(D,$),r($,P),r(D,M),r(D,N),se(N,l[1].search.domain_filter_list),S||(q=[fe(f,"input",l[30]),fe(T,"input",l[31]),fe(N,"input",l[32])],S=!0)},p(Y,L){L[0]&16&&i!==(i=Y[4].t("Search Result Count")+"")&&K(n,i),L[0]&16&&h!==(h=Y[4].t("Search Result Count"))&&o(f,"placeholder",h),L[0]&66&&f.value!==Y[1].search.result_count&&se(f,Y[1].search.result_count),L[0]&16&&m!==(m=Y[4].t("Concurrent Requests")+"")&&K(b,m),L[0]&16&&w!==(w=Y[4].t("Concurrent Requests"))&&o(T,"placeholder",w),L[0]&66&&T.value!==Y[1].search.concurrent_requests&&se(T,Y[1].search.concurrent_requests),L[0]&16&&O!==(O=Y[4].t("Domain Filter List")+"")&&K(P,O),L[0]&16&&V!==(V=Y[4].t("Enter domains separated by commas (e.g., example.com,site.org)"))&&o(N,"placeholder",V),L[0]&66&&N.value!==Y[1].search.domain_filter_list&&se(N,Y[1].search.domain_filter_list)},d(Y){Y&&(c(e),c(k),c(D)),S=!1,gl(q)}}}function L_(l){let e=l[4].t("Bypass Embedding and Retrieval")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&16&&e!==(e=s[4].t("Bypass Embedding and Retrieval")+"")&&K(t,e)},d(s){s&&c(t)}}}function R_(l){let e,t,s;function a(n){l[33](n)}let i={};return l[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL!==void 0&&(i.state=l[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL),e=new pl({props:i}),Xe.push(()=>lt(e,"state",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};!t&&u[0]&2&&(t=!0,f.state=n[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function C_(l){let e,t,s;function a(n){l[34](n)}let i={};return l[1].search.trust_env!==void 0&&(i.state=l[1].search.trust_env),e=new pl({props:i}),Xe.push(()=>lt(e,"state",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};!t&&u[0]&2&&(t=!0,f.state=n[1].search.trust_env,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function U_(l){let e,t,s,a,i,n=l[4].t("Save")+"",u,f,h,E,g=l[1]&&Oi(l);return{c(){e=d("form"),t=d("div"),g&&g.c(),s=A(),a=d("div"),i=d("button"),u=R(n),this.h()},l(v){e=_(v,"FORM",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);g&&g.l(b),b.forEach(c),s=y(m),a=_(m,"DIV",{class:!0});var I=p(a);i=_(I,"BUTTON",{class:!0,type:!0});var T=p(i);u=C(T,n),T.forEach(c),I.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(v,m){H(v,e,m),r(e,t),g&&g.m(t,null),r(e,s),r(e,a),r(a,i),r(i,u),f=!0,h||(E=fe(e,"submit",vs(l[38])),h=!0)},p(v,m){v[1]?g?(g.p(v,m),m[0]&2&&G(g,1)):(g=Oi(v),g.c(),G(g,1),g.m(t,null)):g&&(wt(),W(g,1,1,()=>{g=null}),kt()),(!f||m[0]&16)&&n!==(n=v[4].t("Save")+"")&&K(u,n)},i(v){f||(G(g),f=!0)},o(v){W(g),f=!1},d(v){v&&c(e),g&&g.d(),h=!1,E()}}}function B_(l,e,t){let s;const a=Ml("i18n");el(l,a,z=>t(4,s=z));let{saveHandler:i}=e,n=null,u=["searxng","google_pse","brave","kagi","mojeek","bocha","serpstack","serper","serply","searchapi","serpapi","duckduckgo","tavily","jina","bing","exa","perplexity"],f="en",h=null,E="";const g=async()=>{n.search.domain_filter_list?t(1,n.search.domain_filter_list=n.search.domain_filter_list.split(",").map(z=>z.trim()).filter(z=>z.length>0),n):t(1,n.search.domain_filter_list=[],n),await co(localStorage.token,{web:n,youtube:{language:f.split(",").map(z=>z.trim()),translation:h,proxy_url:E}}),t(1,n.search.domain_filter_list=n.search.domain_filter_list.join(", "),n)};as(async()=>{var be;const z=await fo(localStorage.token);z&&(t(1,n=z.web),(be=n==null?void 0:n.search)!=null&&be.domain_filter_list&&t(1,n.search.domain_filter_list=n.search.domain_filter_list.join(", "),n),t(2,f=z.youtube.language.join(",")),h=z.youtube.translation,t(3,E=z.youtube.proxy_url))});function v(z){l.$$.not_equal(n.search.enabled,z)&&(n.search.enabled=z,t(1,n))}function m(){n.search.engine=Pl(this),t(1,n),t(6,u)}function b(){n.search.searxng_query_url=this.value,t(1,n),t(6,u)}function I(z){l.$$.not_equal(n.search.google_pse_api_key,z)&&(n.search.google_pse_api_key=z,t(1,n))}function T(){n.search.google_pse_engine_id=this.value,t(1,n),t(6,u)}function w(z){l.$$.not_equal(n.search.brave_search_api_key,z)&&(n.search.brave_search_api_key=z,t(1,n))}function k(z){l.$$.not_equal(n.search.kagi_search_api_key,z)&&(n.search.kagi_search_api_key=z,t(1,n))}function D(z){l.$$.not_equal(n.search.mojeek_search_api_key,z)&&(n.search.mojeek_search_api_key=z,t(1,n))}function $(z){l.$$.not_equal(n.search.bocha_search_api_key,z)&&(n.search.bocha_search_api_key=z,t(1,n))}function O(z){l.$$.not_equal(n.search.serpstack_api_key,z)&&(n.search.serpstack_api_key=z,t(1,n))}function P(z){l.$$.not_equal(n.search.serper_api_key,z)&&(n.search.serper_api_key=z,t(1,n))}function M(z){l.$$.not_equal(n.search.serply_api_key,z)&&(n.search.serply_api_key=z,t(1,n))}function N(z){l.$$.not_equal(n.search.searchapi_api_key,z)&&(n.search.searchapi_api_key=z,t(1,n))}function V(){n.search.searchapi_engine=this.value,t(1,n),t(6,u)}function S(z){l.$$.not_equal(n.search.serpapi_api_key,z)&&(n.search.serpapi_api_key=z,t(1,n))}function q(){n.search.serpapi_engine=this.value,t(1,n),t(6,u)}function Y(z){l.$$.not_equal(n.search.tavily_api_key,z)&&(n.search.tavily_api_key=z,t(1,n))}function L(z){l.$$.not_equal(n.search.jina_api_key,z)&&(n.search.jina_api_key=z,t(1,n))}function U(z){l.$$.not_equal(n.search.exa_api_key,z)&&(n.search.exa_api_key=z,t(1,n))}function B(z){l.$$.not_equal(n.search.perplexity_api_key,z)&&(n.search.perplexity_api_key=z,t(1,n))}function j(){n.search.bing_search_v7_endpoint=this.value,t(1,n),t(6,u)}function F(z){l.$$.not_equal(n.search.bing_search_v7_subscription_key,z)&&(n.search.bing_search_v7_subscription_key=z,t(1,n))}function J(){n.search.result_count=this.value,t(1,n),t(6,u)}function X(){n.search.concurrent_requests=this.value,t(1,n),t(6,u)}function ne(){n.search.domain_filter_list=this.value,t(1,n),t(6,u)}function ie(z){l.$$.not_equal(n.BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL,z)&&(n.BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL=z,t(1,n))}function ae(z){l.$$.not_equal(n.search.trust_env,z)&&(n.search.trust_env=z,t(1,n))}function Q(z){l.$$.not_equal(n.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION,z)&&(n.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION=z,t(1,n))}function Z(){f=this.value,t(2,f)}function te(){E=this.value,t(3,E)}const ee=async()=>{await g(),i()};return l.$$set=z=>{"saveHandler"in z&&t(0,i=z.saveHandler)},[i,n,f,E,s,a,u,g,v,m,b,I,T,w,k,D,$,O,P,M,N,V,S,q,Y,L,U,B,j,F,J,X,ne,ie,ae,Q,Z,te,ee]}class H_ extends $l{constructor(e){super(),Vl(this,e,B_,U_,yl,{saveHandler:0},null,[-1,-1])}}function G_(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=p(e);t=ml(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(c),s=ml(i,"path",{d:!0}),p(s).forEach(c),i.forEach(c),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z"),o(t,"clip-rule","evenodd"),o(s,"d","M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",l[0])},m(a,i){H(a,e,i),r(e,t),r(e,s)},p(a,[i]){i&1&&o(e,"class",a[0])},i:gt,o:gt,d(a){a&&c(e)}}}function j_(l,e,t){let{className:s="size-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=i=>{"className"in i&&t(0,s=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[s,a]}class K_ extends $l{constructor(e){super(),Vl(this,e,j_,G_,yl,{className:0,strokeWidth:1})}}function Li(l,e,t){const s=l.slice();return s[2]=e[t],s}function Ri(l,e,t){const s=l.slice();return s[39]=e[t],s[41]=t,s}function Y_(l){let e=l[14].t("Add Arena Model")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Add Arena Model")+"")&&K(t,e)},d(s){s&&c(t)}}}function q_(l){let e=l[14].t("Edit Arena Model")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Edit Arena Model")+"")&&K(t,e)},d(s){s&&c(t)}}}function W_(l){let e=l[14].t("Exclude")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Exclude")+"")&&K(t,e)},d(s){s&&c(t)}}}function F_(l){let e=l[14].t("Include")+"",t;return{c(){t=R(e)},l(s){t=C(s,e)},m(s,a){H(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Include")+"")&&K(t,e)},d(s){s&&c(t)}}}function Z_(l){let e,t=l[14].t("Leave empty to include all models or select specific models")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i[0]&16384&&t!==(t=a[14].t("Leave empty to include all models or select specific models")+"")&&K(s,t)},i:gt,o:gt,d(a){a&&c(e)}}}function z_(l){let e,t,s=Vt(l[8]),a=[];for(let n=0;n<s.length;n+=1)a[n]=Ci(Ri(l,s,n));const i=n=>W(a[n],1,1,()=>{a[n]=null});return{c(){e=d("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=_(n,"DIV",{class:!0});var u=p(e);for(let f=0;f<a.length;f+=1)a[f].l(u);u.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(n,u){H(n,e,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);t=!0},p(n,u){if(u[0]&8448){s=Vt(n[8]);let f;for(f=0;f<s.length;f+=1){const h=Ri(n,s,f);a[f]?(a[f].p(h,u),G(a[f],1)):(a[f]=Ci(h),a[f].c(),G(a[f],1),a[f].m(e,null))}for(wt(),f=s.length;f<a.length;f+=1)i(f);kt()}},i(n){if(!t){for(let u=0;u<s.length;u+=1)G(a[u]);t=!0}},o(n){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)W(a[u]);t=!1},d(n){n&&c(e),wl(a,n)}}}function Ci(l){var I;let e,t,s=((I=l[13].find(m))==null?void 0:I.name)+"",a,i,n,u,f,h,E,g,v;function m(...T){return l[28](l[39],...T)}f=new ao({props:{strokeWidth:"2",className:"size-3.5"}});function b(){return l[29](l[41])}return{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("button"),_e(f.$$.fragment),h=A(),this.h()},l(T){e=_(T,"DIV",{class:!0});var w=p(e);t=_(w,"DIV",{class:!0});var k=p(t);a=C(k,s),k.forEach(c),i=y(w),n=_(w,"DIV",{class:!0});var D=p(n);u=_(D,"BUTTON",{type:!0});var $=p(u);he(f.$$.fragment,$),$.forEach(c),D.forEach(c),h=y(w),w.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(u,"type","button"),o(n,"class","shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(T,w){H(T,e,w),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),pe(f,u,null),r(e,h),E=!0,g||(v=fe(u,"click",b),g=!0)},p(T,w){var k;l=T,(!E||w[0]&8448)&&s!==(s=((k=l[13].find(m))==null?void 0:k.name)+"")&&K(a,s)},i(T){E||(G(f.$$.fragment,T),E=!0)},o(T){W(f.$$.fragment,T),E=!1},d(T){T&&c(e),ve(f),g=!1,v()}}}function Ui(l){let e,t=l[2].name+"",s,a;return{c(){e=d("option"),s=R(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var n=p(e);s=C(n,t),n.forEach(c),this.h()},h(){e.__value=a=l[2].id,se(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,n){H(i,e,n),r(e,s)},p(i,n){n[0]&8192&&t!==(t=i[2].name+"")&&K(s,t),n[0]&8192&&a!==(a=i[2].id)&&(e.__value=a,se(e,e.__value))},d(i){i&&c(e)}}}function Bi(l){let e,t=l[14].t("Delete")+"",s,a,i;return{c(){e=d("button"),s=R(t),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);s=C(u,t),u.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(n,u){H(n,e,u),r(e,s),a||(i=fe(e,"click",l[32]),a=!0)},p(n,u){u[0]&16384&&t!==(t=n[14].t("Delete")+"")&&K(s,t)},d(n){n&&c(e),a=!1,i()}}}function Hi(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Qt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(s,a){H(s,e,a)},d(s){s&&c(e)}}}function J_(l){let e,t,s,a,i,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,f,h,E,g,v,m,b,I,T,w,k,D,$,O,P,M,N,V,S=l[14].t("Name")+"",q,Y,L,U,B,j,F,J,X=l[14].t("ID")+"",ne,ie,ae,Q,Z,te,ee,z,be=l[14].t("Description")+"",re,ue,oe,Te,ge,me,De,Se,ke,we,Ae,x,ce,Be,Ce,le,de,$e,Ne=l[14].t("Models")+"",Oe,He,We,Ze,je,Ie,ye,ht,Je,pt,ze,ot,bt,Ve=l[14].t("Select a model")+"",dt,Et,ut,mt,Tt,yt,_t,ct,vt,Me,Ke=l[14].t("Save")+"",Nt,It,Re,Ge,ft,jt;function Rt(Ye,nt){return Ye[1]?q_:Y_}let Gt=Rt(l),Le=Gt(l);O=new Ku({props:{className:"size-4"}});function Fe(Ye){l[26](Ye)}let Ut={};l[10]!==void 0&&(Ut.accessControl=l[10]),Ae=new Hu({props:Ut}),Xe.push(()=>lt(Ae,"accessControl",Fe));function Dt(Ye,nt){return Ye[9]==="include"?F_:W_}let Ue=Dt(l),Ee=Ue(l);const rt=[z_,Z_],Pt=[];function Ct(Ye,nt){return Ye[8].length>0?0:1}Ie=Ct(l),ye=Pt[Ie]=rt[Ie](l);let $t=Vt(l[13].filter(Gi)),Mt=[];for(let Ye=0;Ye<$t.length;Ye+=1)Mt[Ye]=Ui(Li(l,$t,Ye));yt=new $a({props:{className:"size-3.5",strokeWidth:"2"}});let Lt=l[1]&&Bi(l),At=l[12]&&Hi();return{c(){e=d("div"),t=d("div"),s=d("div"),Le.c(),a=A(),i=d("button"),i.innerHTML=n,u=A(),f=d("div"),h=d("div"),E=d("form"),g=d("div"),v=d("div"),m=d("input"),b=A(),I=d("button"),T=d("img"),k=A(),D=d("div"),$=d("div"),_e(O.$$.fragment),P=A(),M=d("div"),N=d("div"),V=d("div"),q=R(S),Y=A(),L=d("div"),U=d("input"),j=A(),F=d("div"),J=d("div"),ne=R(X),ie=A(),ae=d("div"),Q=d("input"),te=A(),ee=d("div"),z=d("div"),re=R(be),ue=A(),oe=d("div"),Te=d("input"),me=A(),De=d("hr"),Se=A(),ke=d("div"),we=d("div"),_e(Ae.$$.fragment),ce=A(),Be=d("hr"),Ce=A(),le=d("div"),de=d("div"),$e=d("div"),Oe=R(Ne),He=A(),We=d("div"),Ze=d("button"),Ee.c(),je=A(),ye.c(),ht=A(),Je=d("hr"),pt=A(),ze=d("div"),ot=d("select"),bt=d("option"),dt=R(Ve);for(let Ye=0;Ye<Mt.length;Ye+=1)Mt[Ye].c();ut=A(),mt=d("div"),Tt=d("button"),_e(yt.$$.fragment),_t=A(),ct=d("div"),Lt&&Lt.c(),vt=A(),Me=d("button"),Nt=R(Ke),It=A(),At&&At.c(),this.h()},l(Ye){e=_(Ye,"DIV",{});var nt=p(e);t=_(nt,"DIV",{class:!0});var Ot=p(t);s=_(Ot,"DIV",{class:!0});var Kt=p(s);Le.l(Kt),Kt.forEach(c),a=y(Ot),i=_(Ot,"BUTTON",{class:!0,"data-svelte-h":!0}),Qt(i)!=="svelte-745w2y"&&(i.innerHTML=n),Ot.forEach(c),u=y(nt),f=_(nt,"DIV",{class:!0});var st=p(f);h=_(st,"DIV",{class:!0});var sl=p(h);E=_(sl,"FORM",{class:!0});var Wt=p(E);g=_(Wt,"DIV",{class:!0});var Xt=p(g);v=_(Xt,"DIV",{class:!0});var zt=p(v);m=_(zt,"INPUT",{type:!0,accept:!0}),b=y(zt),I=_(zt,"BUTTON",{class:!0,type:!0});var al=p(I);T=_(al,"IMG",{src:!0,class:!0,alt:!0}),k=y(al),D=_(al,"DIV",{class:!0});var it=p(D);$=_(it,"DIV",{class:!0});var St=p($);he(O.$$.fragment,St),St.forEach(c),it.forEach(c),al.forEach(c),zt.forEach(c),P=y(Xt),M=_(Xt,"DIV",{class:!0});var Bt=p(M);N=_(Bt,"DIV",{class:!0});var il=p(N);V=_(il,"DIV",{class:!0});var El=p(V);q=C(El,S),El.forEach(c),Y=y(il),L=_(il,"DIV",{class:!0});var dl=p(L);U=_(dl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),dl.forEach(c),il.forEach(c),j=y(Bt),F=_(Bt,"DIV",{class:!0});var Il=p(F);J=_(Il,"DIV",{class:!0});var qt=p(J);ne=C(qt,X),qt.forEach(c),ie=y(Il),ae=_(Il,"DIV",{class:!0});var tl=p(ae);Q=_(tl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),tl.forEach(c),Il.forEach(c),Bt.forEach(c),te=y(Xt),ee=_(Xt,"DIV",{class:!0});var Tl=p(ee);z=_(Tl,"DIV",{class:!0});var Dl=p(z);re=C(Dl,be),Dl.forEach(c),ue=y(Tl),oe=_(Tl,"DIV",{class:!0});var ol=p(oe);Te=_(ol,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ol.forEach(c),Tl.forEach(c),me=y(Xt),De=_(Xt,"HR",{class:!0}),Se=y(Xt),ke=_(Xt,"DIV",{class:!0});var Al=p(ke);we=_(Al,"DIV",{class:!0});var hl=p(we);he(Ae.$$.fragment,hl),hl.forEach(c),Al.forEach(c),ce=y(Xt),Be=_(Xt,"HR",{class:!0}),Ce=y(Xt),le=_(Xt,"DIV",{class:!0});var Nl=p(le);de=_(Nl,"DIV",{class:!0});var zl=p(de);$e=_(zl,"DIV",{class:!0});var nl=p($e);Oe=C(nl,Ne),nl.forEach(c),He=y(zl),We=_(zl,"DIV",{});var fs=p(We);Ze=_(fs,"BUTTON",{class:!0,type:!0});var Jt=p(Ze);Ee.l(Jt),Jt.forEach(c),fs.forEach(c),zl.forEach(c),je=y(Nl),ye.l(Nl),Nl.forEach(c),ht=y(Xt),Je=_(Xt,"HR",{class:!0}),pt=y(Xt),ze=_(Xt,"DIV",{class:!0});var Ft=p(ze);ot=_(Ft,"SELECT",{class:!0});var fl=p(ot);bt=_(fl,"OPTION",{});var rs=p(bt);dt=C(rs,Ve),rs.forEach(c);for(let xe=0;xe<Mt.length;xe+=1)Mt[xe].l(fl);fl.forEach(c),ut=y(Ft),mt=_(Ft,"DIV",{});var Ql=p(mt);Tt=_(Ql,"BUTTON",{type:!0});var ns=p(Tt);he(yt.$$.fragment,ns),ns.forEach(c),Ql.forEach(c),Ft.forEach(c),Xt.forEach(c),_t=y(Wt),ct=_(Wt,"DIV",{class:!0});var cl=p(ct);Lt&&Lt.l(cl),vt=y(cl),Me=_(cl,"BUTTON",{class:!0,type:!0});var qe=p(Me);Nt=C(qe,Ke),It=y(qe),At&&At.l(qe),qe.forEach(c),cl.forEach(c),Wt.forEach(c),sl.forEach(c),st.forEach(c),nt.forEach(c),this.h()},h(){o(s,"class","text-lg font-medium self-center font-primary"),o(i,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(m,"type","file"),m.hidden=!0,o(m,"accept","image/*"),zs(T.src,w=l[5])||o(T,"src",w),o(T,"class","size-16 rounded-full object-cover shrink-0"),o(T,"alt","Profile"),o($,"class","my-auto text-white"),o(D,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(I,"class","relative rounded-full w-fit h-fit shrink-0"),o(I,"type","button"),o(v,"class","flex justify-center pb-3"),o(V,"class","mb-0.5 text-xs text-gray-500"),o(U,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),o(U,"type","text"),o(U,"placeholder",B=l[14].t("Model Name")),o(U,"autocomplete","off"),U.required=!0,o(L,"class","flex-1"),o(N,"class","flex flex-col w-full"),o(J,"class","mb-0.5 text-xs text-gray-500"),o(Q,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),o(Q,"type","text"),o(Q,"placeholder",Z=l[14].t("Model ID")),o(Q,"autocomplete","off"),Q.required=!0,Q.disabled=l[1],o(ae,"class","flex-1"),o(F,"class","flex flex-col w-full"),o(M,"class","flex gap-2"),o(z,"class","mb-1 text-xs text-gray-500"),o(Te,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),o(Te,"type","text"),o(Te,"placeholder",ge=l[14].t("Enter description")),o(Te,"autocomplete","off"),o(oe,"class","flex-1"),o(ee,"class","flex flex-col w-full mt-2"),o(De,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(we,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),o(ke,"class","my-2 -mx-2"),o(Be,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o($e,"class","text-xs text-gray-500"),o(Ze,"class","text-xs text-gray-500"),o(Ze,"type","button"),o(de,"class","mb-1 flex justify-between"),o(le,"class","flex flex-col w-full"),o(Je,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),bt.__value="",se(bt,bt.__value),o(ot,"class",Et="w-full py-1 text-sm rounded-lg bg-transparent "+(l[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),l[7]===void 0&&Sl(()=>l[30].call(ot)),o(Tt,"type","button"),o(ze,"class","flex items-center"),o(g,"class","px-1"),o(Me,"class",Re="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[12]?" cursor-not-allowed":"")),o(Me,"type","submit"),Me.disabled=l[12],o(ct,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),o(E,"class","flex flex-col w-full"),o(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(f,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(Ye,nt){H(Ye,e,nt),r(e,t),r(t,s),Le.m(s,null),r(t,a),r(t,i),r(e,u),r(e,f),r(f,h),r(h,E),r(E,g),r(g,v),r(v,m),l[20](m),r(v,b),r(v,I),r(I,T),r(I,k),r(I,D),r(D,$),pe(O,$,null),r(g,P),r(g,M),r(M,N),r(N,V),r(V,q),r(N,Y),r(N,L),r(L,U),se(U,l[3]),r(M,j),r(M,F),r(F,J),r(J,ne),r(F,ie),r(F,ae),r(ae,Q),se(Q,l[4]),r(g,te),r(g,ee),r(ee,z),r(z,re),r(ee,ue),r(ee,oe),r(oe,Te),se(Te,l[6]),r(g,me),r(g,De),r(g,Se),r(g,ke),r(ke,we),pe(Ae,we,null),r(g,ce),r(g,Be),r(g,Ce),r(g,le),r(le,de),r(de,$e),r($e,Oe),r(de,He),r(de,We),r(We,Ze),Ee.m(Ze,null),r(le,je),Pt[Ie].m(le,null),r(g,ht),r(g,Je),r(g,pt),r(g,ze),r(ze,ot),r(ot,bt),r(bt,dt);for(let Ot=0;Ot<Mt.length;Ot+=1)Mt[Ot]&&Mt[Ot].m(ot,null);xt(ot,l[7],!0),r(ze,ut),r(ze,mt),r(mt,Tt),pe(yt,Tt,null),r(E,_t),r(E,ct),Lt&&Lt.m(ct,null),r(ct,vt),r(ct,Me),r(Me,Nt),r(Me,It),At&&At.m(Me,null),Ge=!0,ft||(jt=[fe(i,"click",l[19]),fe(m,"change",l[21]),fe(I,"click",l[22]),fe(U,"input",l[23]),fe(Q,"input",l[24]),fe(Te,"input",l[25]),fe(Ze,"click",l[27]),fe(ot,"change",l[30]),fe(Tt,"click",l[31]),fe(E,"submit",vs(l[33]))],ft=!0)},p(Ye,nt){Gt===(Gt=Rt(Ye))&&Le?Le.p(Ye,nt):(Le.d(1),Le=Gt(Ye),Le&&(Le.c(),Le.m(s,null))),(!Ge||nt[0]&32&&!zs(T.src,w=Ye[5]))&&o(T,"src",w),(!Ge||nt[0]&16384)&&S!==(S=Ye[14].t("Name")+"")&&K(q,S),(!Ge||nt[0]&16384&&B!==(B=Ye[14].t("Model Name")))&&o(U,"placeholder",B),nt[0]&8&&U.value!==Ye[3]&&se(U,Ye[3]),(!Ge||nt[0]&16384)&&X!==(X=Ye[14].t("ID")+"")&&K(ne,X),(!Ge||nt[0]&16384&&Z!==(Z=Ye[14].t("Model ID")))&&o(Q,"placeholder",Z),(!Ge||nt[0]&2)&&(Q.disabled=Ye[1]),nt[0]&16&&Q.value!==Ye[4]&&se(Q,Ye[4]),(!Ge||nt[0]&16384)&&be!==(be=Ye[14].t("Description")+"")&&K(re,be),(!Ge||nt[0]&16384&&ge!==(ge=Ye[14].t("Enter description")))&&o(Te,"placeholder",ge),nt[0]&64&&Te.value!==Ye[6]&&se(Te,Ye[6]);const Ot={};!x&&nt[0]&1024&&(x=!0,Ot.accessControl=Ye[10],tt(()=>x=!1)),Ae.$set(Ot),(!Ge||nt[0]&16384)&&Ne!==(Ne=Ye[14].t("Models")+"")&&K(Oe,Ne),Ue===(Ue=Dt(Ye))&&Ee?Ee.p(Ye,nt):(Ee.d(1),Ee=Ue(Ye),Ee&&(Ee.c(),Ee.m(Ze,null)));let Kt=Ie;if(Ie=Ct(Ye),Ie===Kt?Pt[Ie].p(Ye,nt):(wt(),W(Pt[Kt],1,1,()=>{Pt[Kt]=null}),kt(),ye=Pt[Ie],ye?ye.p(Ye,nt):(ye=Pt[Ie]=rt[Ie](Ye),ye.c()),G(ye,1),ye.m(le,null)),(!Ge||nt[0]&16384)&&Ve!==(Ve=Ye[14].t("Select a model")+"")&&K(dt,Ve),nt[0]&8192){$t=Vt(Ye[13].filter(Gi));let st;for(st=0;st<$t.length;st+=1){const sl=Li(Ye,$t,st);Mt[st]?Mt[st].p(sl,nt):(Mt[st]=Ui(sl),Mt[st].c(),Mt[st].m(ot,null))}for(;st<Mt.length;st+=1)Mt[st].d(1);Mt.length=$t.length}(!Ge||nt[0]&8320&&Et!==(Et="w-full py-1 text-sm rounded-lg bg-transparent "+(Ye[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&o(ot,"class",Et),nt[0]&8320&&xt(ot,Ye[7]),Ye[1]?Lt?Lt.p(Ye,nt):(Lt=Bi(Ye),Lt.c(),Lt.m(ct,vt)):Lt&&(Lt.d(1),Lt=null),(!Ge||nt[0]&16384)&&Ke!==(Ke=Ye[14].t("Save")+"")&&K(Nt,Ke),Ye[12]?At||(At=Hi(),At.c(),At.m(Me,null)):At&&(At.d(1),At=null),(!Ge||nt[0]&4096&&Re!==(Re="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(Ye[12]?" cursor-not-allowed":"")))&&o(Me,"class",Re),(!Ge||nt[0]&4096)&&(Me.disabled=Ye[12])},i(Ye){Ge||(G(O.$$.fragment,Ye),G(Ae.$$.fragment,Ye),G(ye),G(yt.$$.fragment,Ye),Ge=!0)},o(Ye){W(O.$$.fragment,Ye),W(Ae.$$.fragment,Ye),W(ye),W(yt.$$.fragment,Ye),Ge=!1},d(Ye){Ye&&c(e),Le.d(),l[20](null),ve(O),ve(Ae),Ee.d(),Pt[Ie].d(),wl(Mt,Ye),ve(yt),Lt&&Lt.d(),At&&At.d(),ft=!1,gl(jt)}}}function X_(l){let e,t,s;function a(n){l[34](n)}let i={size:"sm",$$slots:{default:[J_]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.show=l[0]),e=new ya({props:i}),Xe.push(()=>lt(e,"show",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u[0]&32767|u[1]&2048&&(f.$$scope={dirty:u,ctx:n}),!t&&u[0]&1&&(t=!0,f.show=n[0],tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}const Gi=l=>(l==null?void 0:l.owned_by)!=="arena";function Q_(l,e,t){let s,a;el(l,Ll,Z=>t(13,s=Z));const i=Ml("i18n");el(l,i,Z=>t(14,a=Z));const n=Ms();let{show:u=!1}=e,{edit:f=!1}=e,{model:h=null}=e,E="",g="";const v=()=>{f||t(4,g=E.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let m="/favicon.png",b="",I="",T=[],w="include",k={},D,$=!1;const O=()=>{I&&(t(8,T=[...T,I]),t(7,I=""))},P=()=>{if(t(12,$=!0),!E||!g){t(12,$=!1),et.error("Name and ID are required, please fill them out");return}if(!f&&s.find(te=>te.name===E)){t(12,$=!1),t(3,E=""),et.error("Model name already exists, please choose a different one");return}const Z={id:g,name:E,meta:{profile_image_url:m,description:b||null,model_ids:T.length>0?T:null,filter_mode:T.length>0&&w||null,access_control:k}};n("submit",Z),t(12,$=!1),t(0,u=!1),t(3,E=""),t(4,g=""),t(5,m="/favicon.png"),t(6,b=""),t(8,T=[]),t(7,I="")},M=()=>{var Z;h&&(t(3,E=h.name),t(4,g=h.id),t(5,m=h.meta.profile_image_url),t(6,b=h.meta.description),t(8,T=h.meta.model_ids||[]),t(9,w=((Z=h.meta)==null?void 0:Z.filter_mode)??"include"),t(10,k="access_control"in h.meta?h.meta.access_control:{}))};as(()=>{M()});const N=()=>{t(0,u=!1)};function V(Z){Xe[Z?"unshift":"push"](()=>{D=Z,t(11,D)})}const S=Z=>{const te=Z.target.files??[];let ee=new FileReader;ee.onload=z=>{let be=`${z.target.result}`;const re=new Image;re.src=be,re.onload=function(){const ue=document.createElement("canvas"),oe=ue.getContext("2d"),Te=re.width/re.height;let ge,me;Te>1?(ge=250*Te,me=250):(ge=250,me=250/Te),ue.width=250,ue.height=250;const De=(250-ge)/2,Se=(250-me)/2;oe.drawImage(re,De,Se,ge,me);const ke=ue.toDataURL("image/jpeg");t(5,m=ke),Z.target.files=null}},te.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(te[0].type)&&ee.readAsDataURL(te[0])},q=()=>{D.click()};function Y(){E=this.value,t(3,E)}function L(){g=this.value,t(4,g)}function U(){b=this.value,t(6,b)}function B(Z){k=Z,t(10,k)}const j=()=>{t(9,w=w==="include"?"exclude":"include")},F=(Z,te)=>te.id===Z,J=Z=>{t(8,T=T.filter((te,ee)=>ee!==Z))};function X(){I=Pl(this),t(7,I)}const ne=()=>{O()},ie=()=>{n("delete",h),t(0,u=!1)},ae=()=>{P()};function Q(Z){u=Z,t(0,u)}return l.$$set=Z=>{"show"in Z&&t(0,u=Z.show),"edit"in Z&&t(1,f=Z.edit),"model"in Z&&t(2,h=Z.model)},l.$$.update=()=>{l.$$.dirty[0]&8&&E&&v(),l.$$.dirty[0]&1&&u&&M()},[u,f,h,E,g,m,b,I,T,w,k,D,$,s,a,i,n,O,P,N,V,S,q,Y,L,U,B,j,F,J,X,ne,ie,ae,Q]}class ho extends $l{constructor(e){super(),Vl(this,e,Q_,X_,yl,{show:0,edit:1,model:2},null,[-1,-1])}}function x_(l){var B,j;let e,t,s,a,i,n,u,f,h,E,g,v,m,b,I=l[0].name+"",T,w,k,D,$=(((j=(B=l[0])==null?void 0:B.meta)==null?void 0:j.description)??l[0].id)+"",O,P,M,N,V,S,q,Y;function L(F){l[3](F)}let U={edit:!0,model:l[0]};return l[1]!==void 0&&(U.show=l[1]),e=new ho({props:U}),Xe.push(()=>lt(e,"show",L)),e.$on("submit",l[4]),e.$on("delete",l[5]),V=new Aa({}),{c(){_e(e.$$.fragment),s=A(),a=d("div"),i=d("div"),n=d("div"),u=d("div"),f=d("img"),g=A(),v=d("div"),m=d("div"),b=d("div"),T=R(I),w=A(),k=d("div"),D=d("div"),O=R($),P=A(),M=d("div"),N=d("button"),_e(V.$$.fragment),this.h()},l(F){he(e.$$.fragment,F),s=y(F),a=_(F,"DIV",{class:!0});var J=p(a);i=_(J,"DIV",{class:!0});var X=p(i);n=_(X,"DIV",{class:!0});var ne=p(n);u=_(ne,"DIV",{class:!0});var ie=p(u);f=_(ie,"IMG",{src:!0,alt:!0,class:!0}),g=y(ie),v=_(ie,"DIV",{class:!0});var ae=p(v);m=_(ae,"DIV",{class:!0});var Q=p(m);b=_(Q,"DIV",{class:!0});var Z=p(b);T=C(Z,I),Z.forEach(c),Q.forEach(c),w=y(ae),k=_(ae,"DIV",{class:!0});var te=p(k);D=_(te,"DIV",{class:!0});var ee=p(D);O=C(ee,$),ee.forEach(c),te.forEach(c),ae.forEach(c),ie.forEach(c),ne.forEach(c),P=y(X),M=_(X,"DIV",{class:!0});var z=p(M);N=_(z,"BUTTON",{class:!0,type:!0});var be=p(N);he(V.$$.fragment,be),be.forEach(c),z.forEach(c),X.forEach(c),J.forEach(c),this.h()},h(){zs(f.src,h=l[0].meta.profile_image_url)||o(f,"src",h),o(f,"alt",E=l[0].name),o(f,"class","size-8 rounded-full object-cover shrink-0"),o(b,"class","shrink-0 line-clamp-1"),o(m,"class","flex items-center gap-1"),o(D,"class","text-xs w-full text-gray-500 bg-transparent line-clamp-1"),o(k,"class","flex items-center gap-1"),o(v,"class","w-full flex flex-col"),o(u,"class","flex gap-2.5 items-center"),o(n,"class","flex flex-col flex-1"),o(N,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o(N,"type","button"),o(M,"class","flex items-center"),o(i,"class","flex justify-between items-center mb-1"),o(a,"class","py-0.5")},m(F,J){pe(e,F,J),H(F,s,J),H(F,a,J),r(a,i),r(i,n),r(n,u),r(u,f),r(u,g),r(u,v),r(v,m),r(m,b),r(b,T),r(v,w),r(v,k),r(k,D),r(D,O),r(i,P),r(i,M),r(M,N),pe(V,N,null),S=!0,q||(Y=fe(N,"click",l[6]),q=!0)},p(F,[J]){var ne,ie;const X={};J&1&&(X.model=F[0]),!t&&J&2&&(t=!0,X.show=F[1],tt(()=>t=!1)),e.$set(X),(!S||J&1&&!zs(f.src,h=F[0].meta.profile_image_url))&&o(f,"src",h),(!S||J&1&&E!==(E=F[0].name))&&o(f,"alt",E),(!S||J&1)&&I!==(I=F[0].name+"")&&K(T,I),(!S||J&1)&&$!==($=(((ie=(ne=F[0])==null?void 0:ne.meta)==null?void 0:ie.description)??F[0].id)+"")&&K(O,$)},i(F){S||(G(e.$$.fragment,F),G(V.$$.fragment,F),S=!0)},o(F){W(e.$$.fragment,F),W(V.$$.fragment,F),S=!1},d(F){F&&(c(s),c(a)),ve(e,F),ve(V),q=!1,Y()}}}function e1(l,e,t){const s=Ms();Ml("i18n");let{model:a}=e,i=!1;function n(E){i=E,t(1,i)}const u=async E=>{s("edit",E.detail)},f=async()=>{s("delete")},h=()=>{t(1,i=!0)};return l.$$set=E=>{"model"in E&&t(0,a=E.model)},[a,i,s,n,u,f,h]}class t1 extends $l{constructor(e){super(),Vl(this,e,e1,x_,yl,{model:0})}}function ji(l,e,t){const s=l.slice();return s[19]=e[t],s[21]=t,s}function l1(l){let e,t,s,a;return s=new Cs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),_e(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var n=p(e);t=_(n,"DIV",{class:!0});var u=p(t);he(s.$$.fragment,u),u.forEach(c),n.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,n){H(i,e,n),r(e,t),pe(s,t,null),a=!0},p:gt,i(i){a||(G(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&c(e),ve(s)}}}function s1(l){let e,t,s,a=l[2].t("General")+"",i,n,u,f,h,E,g=l[2].t("Arena Models")+"",v,m,b,I,T;b=new Yt({props:{content:l[2].t("Message rating should be enabled to use this feature"),$$slots:{default:[a1]},$$scope:{ctx:l}}});let w=l[0].ENABLE_EVALUATION_ARENA_MODELS&&Ki(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("hr"),f=A(),h=d("div"),E=d("div"),v=R(g),m=A(),_e(b.$$.fragment),I=A(),w&&w.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var D=p(e);t=_(D,"DIV",{class:!0});var $=p(t);s=_($,"DIV",{class:!0});var O=p(s);i=C(O,a),O.forEach(c),n=y($),u=_($,"HR",{class:!0}),f=y($),h=_($,"DIV",{class:!0});var P=p(h);E=_(P,"DIV",{class:!0});var M=p(E);v=C(M,g),M.forEach(c),m=y(P),he(b.$$.fragment,P),P.forEach(c),$.forEach(c),I=y(D),w&&w.l(D),D.forEach(c),this.h()},h(){o(s,"class","mb-2.5 text-base font-medium"),o(u,"class","border-gray-100 dark:border-gray-850 my-2"),o(E,"class","text-xs font-medium"),o(h,"class","mb-2.5 flex w-full justify-between"),o(t,"class","mb-3"),o(e,"class","")},m(k,D){H(k,e,D),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(t,f),r(t,h),r(h,E),r(E,v),r(h,m),pe(b,h,null),r(e,I),w&&w.m(e,null),T=!0},p(k,D){(!T||D&4)&&a!==(a=k[2].t("General")+"")&&K(i,a),(!T||D&4)&&g!==(g=k[2].t("Arena Models")+"")&&K(v,g);const $={};D&4&&($.content=k[2].t("Message rating should be enabled to use this feature")),D&4194305&&($.$$scope={dirty:D,ctx:k}),b.$set($),k[0].ENABLE_EVALUATION_ARENA_MODELS?w?(w.p(k,D),D&1&&G(w,1)):(w=Ki(k),w.c(),G(w,1),w.m(e,null)):w&&(wt(),W(w,1,1,()=>{w=null}),kt())},i(k){T||(G(b.$$.fragment,k),G(w),T=!0)},o(k){W(b.$$.fragment,k),W(w),T=!1},d(k){k&&c(e),ve(b),w&&w.d()}}}function a1(l){let e,t,s;function a(n){l[11](n)}let i={};return l[0].ENABLE_EVALUATION_ARENA_MODELS!==void 0&&(i.state=l[0].ENABLE_EVALUATION_ARENA_MODELS),e=new pl({props:i}),Xe.push(()=>lt(e,"state",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};!t&&u&1&&(t=!0,f.state=n[0].ENABLE_EVALUATION_ARENA_MODELS,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function Ki(l){let e,t,s,a=l[2].t("Manage")+"",i,n,u,f,h,E,g,v,m,b,I;f=new Yt({props:{content:l[2].t("Add Arena Model"),$$slots:{default:[r1]},$$scope:{ctx:l}}});const T=[i1,n1],w=[];function k(D,$){var O;return(((O=D[0])==null?void 0:O.EVALUATION_ARENA_MODELS)??[]).length>0?0:1}return m=k(l),b=w[m]=T[m](l),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),_e(f.$$.fragment),h=A(),E=d("hr"),g=A(),v=d("div"),b.c(),this.h()},l(D){e=_(D,"DIV",{class:!0});var $=p(e);t=_($,"DIV",{class:!0});var O=p(t);s=_(O,"DIV",{});var P=p(s);i=C(P,a),P.forEach(c),n=y(O),u=_(O,"DIV",{});var M=p(u);he(f.$$.fragment,M),M.forEach(c),O.forEach(c),h=y($),E=_($,"HR",{class:!0}),g=y($),v=_($,"DIV",{class:!0});var N=p(v);b.l(N),N.forEach(c),$.forEach(c),this.h()},h(){o(t,"class","mb-2.5 text-base font-medium flex justify-between items-center"),o(E,"class","border-gray-100 dark:border-gray-850 my-2"),o(v,"class","flex flex-col gap-2"),o(e,"class","mb-3")},m(D,$){H(D,e,$),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),pe(f,u,null),r(e,h),r(e,E),r(e,g),r(e,v),w[m].m(v,null),I=!0},p(D,$){(!I||$&4)&&a!==(a=D[2].t("Manage")+"")&&K(i,a);const O={};$&4&&(O.content=D[2].t("Add Arena Model")),$&4194306&&(O.$$scope={dirty:$,ctx:D}),f.$set(O);let P=m;m=k(D),m===P?w[m].p(D,$):(wt(),W(w[P],1,1,()=>{w[P]=null}),kt(),b=w[m],b?b.p(D,$):(b=w[m]=T[m](D),b.c()),G(b,1),b.m(v,null))},i(D){I||(G(f.$$.fragment,D),G(b),I=!0)},o(D){W(f.$$.fragment,D),W(b),I=!1},d(D){D&&c(e),ve(f),w[m].d()}}}function r1(l){let e,t,s,a,i;return t=new $a({}),{c(){e=d("button"),_e(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var u=p(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","p-1"),o(e,"type","button")},m(n,u){H(n,e,u),pe(t,e,null),s=!0,a||(i=fe(e,"click",l[12]),a=!0)},p:gt,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){W(t.$$.fragment,n),s=!1},d(n){n&&c(e),ve(t),a=!1,i()}}}function n1(l){let e,t=l[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-center text-xs text-gray-500")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i&4&&t!==(t=a[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"")&&K(s,t)},i:gt,o:gt,d(a){a&&c(e)}}}function i1(l){let e,t,s=Vt(l[0].EVALUATION_ARENA_MODELS),a=[];for(let n=0;n<s.length;n+=1)a[n]=Yi(ji(l,s,n));const i=n=>W(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=rl()},l(n){for(let u=0;u<a.length;u+=1)a[u].l(n);e=rl()},m(n,u){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(n,u);H(n,e,u),t=!0},p(n,u){if(u&385){s=Vt(n[0].EVALUATION_ARENA_MODELS);let f;for(f=0;f<s.length;f+=1){const h=ji(n,s,f);a[f]?(a[f].p(h,u),G(a[f],1)):(a[f]=Yi(h),a[f].c(),G(a[f],1),a[f].m(e.parentNode,e))}for(wt(),f=s.length;f<a.length;f+=1)i(f);kt()}},i(n){if(!t){for(let u=0;u<s.length;u+=1)G(a[u]);t=!0}},o(n){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)W(a[u]);t=!1},d(n){n&&c(e),wl(a,n)}}}function Yi(l){let e,t;function s(...i){return l[13](l[21],...i)}function a(...i){return l[14](l[21],...i)}return e=new t1({props:{model:l[19]}}),e.$on("edit",s),e.$on("delete",a),{c(){_e(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,n){pe(e,i,n),t=!0},p(i,n){l=i;const u={};n&1&&(u.model=l[19]),e.$set(u)},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){ve(e,i)}}}function o1(l){let e,t,s,a,i,n,u,f,h,E,g=l[2].t("Save")+"",v,m,b,I;function T(O){l[9](O)}let w={};l[1]!==void 0&&(w.show=l[1]),e=new ho({props:w}),Xe.push(()=>lt(e,"show",T)),e.$on("submit",l[10]);const k=[s1,l1],D=[];function $(O,P){return O[0]!==null?0:1}return n=$(l),u=D[n]=k[n](l),{c(){_e(e.$$.fragment),s=A(),a=d("form"),i=d("div"),u.c(),f=A(),h=d("div"),E=d("button"),v=R(g),this.h()},l(O){he(e.$$.fragment,O),s=y(O),a=_(O,"FORM",{class:!0});var P=p(a);i=_(P,"DIV",{class:!0});var M=p(i);u.l(M),M.forEach(c),f=y(P),h=_(P,"DIV",{class:!0});var N=p(h);E=_(N,"BUTTON",{class:!0,type:!0});var V=p(E);v=C(V,g),V.forEach(c),N.forEach(c),P.forEach(c),this.h()},h(){o(i,"class","overflow-y-scroll scrollbar-hidden h-full"),o(E,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(E,"type","submit"),o(h,"class","flex justify-end pt-3 text-sm font-medium"),o(a,"class","flex flex-col h-full justify-between text-sm")},m(O,P){pe(e,O,P),H(O,s,P),H(O,a,P),r(a,i),D[n].m(i,null),r(a,f),r(a,h),r(h,E),r(E,v),m=!0,b||(I=fe(a,"submit",vs(l[15])),b=!0)},p(O,[P]){const M={};!t&&P&2&&(t=!0,M.show=O[1],tt(()=>t=!1)),e.$set(M);let N=n;n=$(O),n===N?D[n].p(O,P):(wt(),W(D[N],1,1,()=>{D[N]=null}),kt(),u=D[n],u?u.p(O,P):(u=D[n]=k[n](O),u.c()),G(u,1),u.m(i,null)),(!m||P&4)&&g!==(g=O[2].t("Save")+"")&&K(v,g)},i(O){m||(G(e.$$.fragment,O),G(u),m=!0)},o(O){W(e.$$.fragment,O),W(u),m=!1},d(O){O&&(c(s),c(a)),ve(e,O),D[n].d(),b=!1,I()}}}function u1(l,e,t){let s,a,i,n;el(l,Xs,P=>t(16,s=P)),el(l,Js,P=>t(17,a=P)),el(l,ss,P=>t(18,i=P));const u=Ms(),f=Ml("i18n");el(l,f,P=>t(2,n=P));let h=null,E=!1;const g=async()=>{var P;t(0,h=await Bu(localStorage.token,h).catch(M=>(et.error(M),null))),h&&(et.success("Settings saved successfully"),Ll.set(await Xl(localStorage.token,((P=i==null?void 0:i.features)==null?void 0:P.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null))))},v=async P=>{var M;h.EVALUATION_ARENA_MODELS.push(P),t(0,h.EVALUATION_ARENA_MODELS=[...h.EVALUATION_ARENA_MODELS],h),await g(),Ll.set(await Xl(localStorage.token,((M=i==null?void 0:i.features)==null?void 0:M.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))},m=async(P,M)=>{var N;t(0,h.EVALUATION_ARENA_MODELS[M]=P,h),t(0,h.EVALUATION_ARENA_MODELS=[...h.EVALUATION_ARENA_MODELS],h),await g(),Ll.set(await Xl(localStorage.token,((N=i==null?void 0:i.features)==null?void 0:N.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))},b=async P=>{var M;t(0,h.EVALUATION_ARENA_MODELS=h.EVALUATION_ARENA_MODELS.filter((N,V)=>V!==P),h),await g(),Ll.set(await Xl(localStorage.token,((M=i==null?void 0:i.features)==null?void 0:M.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))};as(async()=>{s.role==="admin"&&t(0,h=await Uu(localStorage.token).catch(P=>(et.error(P),null)))});function I(P){E=P,t(1,E)}const T=async P=>{v(P.detail)};function w(P){l.$$.not_equal(h.ENABLE_EVALUATION_ARENA_MODELS,P)&&(h.ENABLE_EVALUATION_ARENA_MODELS=P,t(0,h))}return[h,E,n,u,f,g,v,m,b,I,T,w,()=>{t(1,E=!0)},(P,M)=>{m(M.detail,P)},(P,M)=>{b(P)},()=>{g(),u("save")}]}class f1 extends $l{constructor(e){super(),Vl(this,e,u1,o1,yl,{})}}function qi(l,e,t){const s=l.slice();return s[22]=e[t],s}function Wi(l,e,t){const s=l.slice();return s[22]=e[t],s}function Fi(l){let e,t,s,a=l[2].t("General")+"",i,n,u,f,h,E,g,v=l[2].t("Enable Code Execution")+"",m,b,I,T,w,k,D,$,O=l[2].t("Code Execution Engine")+"",P,M,N,V,S,q=l[2].t("Select a engine")+"",Y,L,U,B,j,F,J,X=l[2].t("Code Interpreter")+"",ne,ie,ae,Q,Z,te,ee,z=l[2].t("Enable Code Interpreter")+"",be,re,ue,oe,Te,ge,me,De;function Se(de){l[6](de)}let ke={};l[1].ENABLE_CODE_EXECUTION!==void 0&&(ke.state=l[1].ENABLE_CODE_EXECUTION),I=new pl({props:ke}),Xe.push(()=>lt(I,"state",Se));let we=Vt(l[4]),Ae=[];for(let de=0;de<we.length;de+=1)Ae[de]=Zi(Wi(l,we,de));let x=l[1].CODE_EXECUTION_ENGINE==="jupyter"&&zi(l),ce=l[1].CODE_EXECUTION_ENGINE==="jupyter"&&Ji(l);function Be(de){l[13](de)}let Ce={};l[1].ENABLE_CODE_INTERPRETER!==void 0&&(Ce.state=l[1].ENABLE_CODE_INTERPRETER),ue=new pl({props:Ce}),Xe.push(()=>lt(ue,"state",Be));let le=l[1].ENABLE_CODE_INTERPRETER&&Qi(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("hr"),f=A(),h=d("div"),E=d("div"),g=d("div"),m=R(v),b=A(),_e(I.$$.fragment),w=A(),k=d("div"),D=d("div"),$=d("div"),P=R(O),M=A(),N=d("div"),V=d("select"),S=d("option"),Y=R(q);for(let de=0;de<Ae.length;de+=1)Ae[de].c();U=A(),x&&x.c(),B=A(),ce&&ce.c(),j=A(),F=d("div"),J=d("div"),ne=R(X),ie=A(),ae=d("hr"),Q=A(),Z=d("div"),te=d("div"),ee=d("div"),be=R(z),re=A(),_e(ue.$$.fragment),Te=A(),le&&le.c(),this.h()},l(de){e=_(de,"DIV",{});var $e=p(e);t=_($e,"DIV",{class:!0});var Ne=p(t);s=_(Ne,"DIV",{class:!0});var Oe=p(s);i=C(Oe,a),Oe.forEach(c),n=y(Ne),u=_(Ne,"HR",{class:!0}),f=y(Ne),h=_(Ne,"DIV",{class:!0});var He=p(h);E=_(He,"DIV",{class:!0});var We=p(E);g=_(We,"DIV",{class:!0});var Ze=p(g);m=C(Ze,v),Ze.forEach(c),b=y(We),he(I.$$.fragment,We),We.forEach(c),He.forEach(c),w=y(Ne),k=_(Ne,"DIV",{class:!0});var je=p(k);D=_(je,"DIV",{class:!0});var Ie=p(D);$=_(Ie,"DIV",{class:!0});var ye=p($);P=C(ye,O),ye.forEach(c),M=y(Ie),N=_(Ie,"DIV",{class:!0});var ht=p(N);V=_(ht,"SELECT",{class:!0,placeholder:!0});var Je=p(V);S=_(Je,"OPTION",{});var pt=p(S);Y=C(pt,q),pt.forEach(c);for(let Et=0;Et<Ae.length;Et+=1)Ae[Et].l(Je);Je.forEach(c),ht.forEach(c),Ie.forEach(c),U=y(je),x&&x.l(je),je.forEach(c),B=y(Ne),ce&&ce.l(Ne),Ne.forEach(c),j=y($e),F=_($e,"DIV",{class:!0});var ze=p(F);J=_(ze,"DIV",{class:!0});var ot=p(J);ne=C(ot,X),ot.forEach(c),ie=y(ze),ae=_(ze,"HR",{class:!0}),Q=y(ze),Z=_(ze,"DIV",{class:!0});var bt=p(Z);te=_(bt,"DIV",{class:!0});var Ve=p(te);ee=_(Ve,"DIV",{class:!0});var dt=p(ee);be=C(dt,z),dt.forEach(c),re=y(Ve),he(ue.$$.fragment,Ve),Ve.forEach(c),bt.forEach(c),Te=y(ze),le&&le.l(ze),ze.forEach(c),$e.forEach(c),this.h()},h(){o(s,"class","mb-2.5 text-base font-medium"),o(u,"class","border-gray-100 dark:border-gray-850 my-2"),o(g,"class","self-center text-xs font-medium"),o(E,"class","flex w-full justify-between"),o(h,"class","mb-2.5"),o($,"class","self-center text-xs font-medium"),S.disabled=!0,S.selected=!0,S.__value="",se(S,S.__value),o(V,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(V,"placeholder",L=l[2].t("Select a engine")),V.required=!0,l[1].CODE_EXECUTION_ENGINE===void 0&&Sl(()=>l[7].call(V)),o(N,"class","flex items-center relative"),o(D,"class","flex w-full justify-between"),o(k,"class","mb-2.5"),o(t,"class","mb-3.5"),o(J,"class","mb-2.5 text-base font-medium"),o(ae,"class","border-gray-100 dark:border-gray-850 my-2"),o(ee,"class","self-center text-xs font-medium"),o(te,"class","flex w-full justify-between"),o(Z,"class","mb-2.5"),o(F,"class","mb-3.5")},m(de,$e){H(de,e,$e),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(t,f),r(t,h),r(h,E),r(E,g),r(g,m),r(E,b),pe(I,E,null),r(t,w),r(t,k),r(k,D),r(D,$),r($,P),r(D,M),r(D,N),r(N,V),r(V,S),r(S,Y);for(let Ne=0;Ne<Ae.length;Ne+=1)Ae[Ne]&&Ae[Ne].m(V,null);xt(V,l[1].CODE_EXECUTION_ENGINE,!0),r(k,U),x&&x.m(k,null),r(t,B),ce&&ce.m(t,null),r(e,j),r(e,F),r(F,J),r(J,ne),r(F,ie),r(F,ae),r(F,Q),r(F,Z),r(Z,te),r(te,ee),r(ee,be),r(te,re),pe(ue,te,null),r(F,Te),le&&le.m(F,null),ge=!0,me||(De=fe(V,"change",l[7]),me=!0)},p(de,$e){(!ge||$e&4)&&a!==(a=de[2].t("General")+"")&&K(i,a),(!ge||$e&4)&&v!==(v=de[2].t("Enable Code Execution")+"")&&K(m,v);const Ne={};if(!T&&$e&2&&(T=!0,Ne.state=de[1].ENABLE_CODE_EXECUTION,tt(()=>T=!1)),I.$set(Ne),(!ge||$e&4)&&O!==(O=de[2].t("Code Execution Engine")+"")&&K(P,O),(!ge||$e&4)&&q!==(q=de[2].t("Select a engine")+"")&&K(Y,q),$e&16){we=Vt(de[4]);let He;for(He=0;He<we.length;He+=1){const We=Wi(de,we,He);Ae[He]?Ae[He].p(We,$e):(Ae[He]=Zi(We),Ae[He].c(),Ae[He].m(V,null))}for(;He<Ae.length;He+=1)Ae[He].d(1);Ae.length=we.length}(!ge||$e&4&&L!==(L=de[2].t("Select a engine")))&&o(V,"placeholder",L),$e&18&&xt(V,de[1].CODE_EXECUTION_ENGINE),de[1].CODE_EXECUTION_ENGINE==="jupyter"?x?x.p(de,$e):(x=zi(de),x.c(),x.m(k,null)):x&&(x.d(1),x=null),de[1].CODE_EXECUTION_ENGINE==="jupyter"?ce?(ce.p(de,$e),$e&2&&G(ce,1)):(ce=Ji(de),ce.c(),G(ce,1),ce.m(t,null)):ce&&(wt(),W(ce,1,1,()=>{ce=null}),kt()),(!ge||$e&4)&&X!==(X=de[2].t("Code Interpreter")+"")&&K(ne,X),(!ge||$e&4)&&z!==(z=de[2].t("Enable Code Interpreter")+"")&&K(be,z);const Oe={};!oe&&$e&2&&(oe=!0,Oe.state=de[1].ENABLE_CODE_INTERPRETER,tt(()=>oe=!1)),ue.$set(Oe),de[1].ENABLE_CODE_INTERPRETER?le?(le.p(de,$e),$e&2&&G(le,1)):(le=Qi(de),le.c(),G(le,1),le.m(F,null)):le&&(wt(),W(le,1,1,()=>{le=null}),kt())},i(de){ge||(G(I.$$.fragment,de),G(ce),G(ue.$$.fragment,de),G(le),ge=!0)},o(de){W(I.$$.fragment,de),W(ce),W(ue.$$.fragment,de),W(le),ge=!1},d(de){de&&c(e),ve(I),wl(Ae,de),x&&x.d(),ce&&ce.d(),ve(ue),le&&le.d(),me=!1,De()}}}function Zi(l){let e,t=l[22]+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value=l[22],se(e,e.__value)},m(a,i){H(a,e,i),r(e,s)},p:gt,d(a){a&&c(e)}}}function zi(l){let e,t=l[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i&4&&t!==(t=a[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"")&&K(s,t)},d(a){a&&c(e)}}}function Ji(l){let e,t,s=l[2].t("Jupyter URL")+"",a,i,n,u,f,h,E,g,v,m,b=l[2].t("Jupyter Auth")+"",I,T,w,k,D,$=l[2].t("None")+"",O,P,M=l[2].t("Token")+"",N,V,S=l[2].t("Password")+"",q,Y,L,U,B,j,F=l[2].t("Code Execution Timeout")+"",J,X,ne,ie,ae,Q,Z,te=l[1].CODE_EXECUTION_JUPYTER_AUTH&&Xi(l);return ie=new Yt({props:{content:l[2].t("Enter timeout in seconds"),$$slots:{default:[_1]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("input"),E=A(),g=d("div"),v=d("div"),m=d("div"),I=R(b),T=A(),w=d("div"),k=d("select"),D=d("option"),O=R($),P=d("option"),N=R(M),V=d("option"),q=R(S),L=A(),te&&te.c(),U=A(),B=d("div"),j=d("div"),J=R(F),X=A(),ne=d("div"),_e(ie.$$.fragment),this.h()},l(ee){e=_(ee,"DIV",{class:!0});var z=p(e);t=_(z,"DIV",{class:!0});var be=p(t);a=C(be,s),be.forEach(c),i=y(z),n=_(z,"DIV",{class:!0});var re=p(n);u=_(re,"DIV",{class:!0});var ue=p(u);f=_(ue,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ue.forEach(c),re.forEach(c),z.forEach(c),E=y(ee),g=_(ee,"DIV",{class:!0});var oe=p(g);v=_(oe,"DIV",{class:!0});var Te=p(v);m=_(Te,"DIV",{class:!0});var ge=p(m);I=C(ge,b),ge.forEach(c),T=y(Te),w=_(Te,"DIV",{});var me=p(w);k=_(me,"SELECT",{class:!0,placeholder:!0});var De=p(k);D=_(De,"OPTION",{});var Se=p(D);O=C(Se,$),Se.forEach(c),P=_(De,"OPTION",{});var ke=p(P);N=C(ke,M),ke.forEach(c),V=_(De,"OPTION",{});var we=p(V);q=C(we,S),we.forEach(c),De.forEach(c),me.forEach(c),Te.forEach(c),L=y(oe),te&&te.l(oe),oe.forEach(c),U=y(ee),B=_(ee,"DIV",{class:!0});var Ae=p(B);j=_(Ae,"DIV",{class:!0});var x=p(j);J=C(x,F),x.forEach(c),X=y(Ae),ne=_(Ae,"DIV",{class:!0});var ce=p(ne);he(ie.$$.fragment,ce),ce.forEach(c),Ae.forEach(c),this.h()},h(){o(t,"class","text-xs font-medium"),o(f,"class","w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"),o(f,"type","text"),o(f,"placeholder",h=l[2].t("Enter Jupyter URL")),o(f,"autocomplete","off"),o(u,"class","flex-1"),o(n,"class","flex w-full"),o(e,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(m,"class","text-xs font-medium"),D.selected=!0,D.__value="",se(D,D.__value),P.__value="token",se(P,P.__value),V.__value="password",se(V,V.__value),o(k,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"),o(k,"placeholder",Y=l[2].t("Select an auth method")),l[1].CODE_EXECUTION_JUPYTER_AUTH===void 0&&Sl(()=>l[9].call(k)),o(v,"class","flex gap-2 w-full items-center justify-between"),o(g,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(j,"class","text-xs font-medium"),o(ne,"class",""),o(B,"class","flex gap-2 w-full items-center justify-between")},m(ee,z){H(ee,e,z),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),se(f,l[1].CODE_EXECUTION_JUPYTER_URL),H(ee,E,z),H(ee,g,z),r(g,v),r(v,m),r(m,I),r(v,T),r(v,w),r(w,k),r(k,D),r(D,O),r(k,P),r(P,N),r(k,V),r(V,q),xt(k,l[1].CODE_EXECUTION_JUPYTER_AUTH,!0),r(g,L),te&&te.m(g,null),H(ee,U,z),H(ee,B,z),r(B,j),r(j,J),r(B,X),r(B,ne),pe(ie,ne,null),ae=!0,Q||(Z=[fe(f,"input",l[8]),fe(k,"change",l[9])],Q=!0)},p(ee,z){(!ae||z&4)&&s!==(s=ee[2].t("Jupyter URL")+"")&&K(a,s),(!ae||z&4&&h!==(h=ee[2].t("Enter Jupyter URL")))&&o(f,"placeholder",h),z&18&&f.value!==ee[1].CODE_EXECUTION_JUPYTER_URL&&se(f,ee[1].CODE_EXECUTION_JUPYTER_URL),(!ae||z&4)&&b!==(b=ee[2].t("Jupyter Auth")+"")&&K(I,b),(!ae||z&4)&&$!==($=ee[2].t("None")+"")&&K(O,$),(!ae||z&4)&&M!==(M=ee[2].t("Token")+"")&&K(N,M),(!ae||z&4)&&S!==(S=ee[2].t("Password")+"")&&K(q,S),(!ae||z&4&&Y!==(Y=ee[2].t("Select an auth method")))&&o(k,"placeholder",Y),z&18&&xt(k,ee[1].CODE_EXECUTION_JUPYTER_AUTH),ee[1].CODE_EXECUTION_JUPYTER_AUTH?te?(te.p(ee,z),z&2&&G(te,1)):(te=Xi(ee),te.c(),G(te,1),te.m(g,null)):te&&(wt(),W(te,1,1,()=>{te=null}),kt()),(!ae||z&4)&&F!==(F=ee[2].t("Code Execution Timeout")+"")&&K(J,F);const be={};z&4&&(be.content=ee[2].t("Enter timeout in seconds")),z&134217734&&(be.$$scope={dirty:z,ctx:ee}),ie.$set(be)},i(ee){ae||(G(te),G(ie.$$.fragment,ee),ae=!0)},o(ee){W(te),W(ie.$$.fragment,ee),ae=!1},d(ee){ee&&(c(e),c(E),c(g),c(U),c(B)),te&&te.d(),ve(ie),Q=!1,gl(Z)}}}function Xi(l){let e,t,s,a,i;const n=[d1,c1],u=[];function f(h,E){return h[1].CODE_EXECUTION_JUPYTER_AUTH==="password"?0:1}return s=f(l),a=u[s]=n[s](l),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var E=p(e);t=_(E,"DIV",{class:!0});var g=p(t);a.l(g),g.forEach(c),E.forEach(c),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex w-full gap-2")},m(h,E){H(h,e,E),r(e,t),u[s].m(t,null),i=!0},p(h,E){let g=s;s=f(h),s===g?u[s].p(h,E):(wt(),W(u[g],1,1,()=>{u[g]=null}),kt(),a=u[s],a?a.p(h,E):(a=u[s]=n[s](h),a.c()),G(a,1),a.m(t,null))},i(h){i||(G(a),i=!0)},o(h){W(a),i=!1},d(h){h&&c(e),u[s].d()}}}function c1(l){let e,t,s;function a(n){l[11](n)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Token"),autocomplete:"off"};return l[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN!==void 0&&(i.value=l[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN),e=new kl({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u&4&&(f.placeholder=n[2].t("Enter Jupyter Token")),!t&&u&2&&(t=!0,f.value=n[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function d1(l){let e,t,s;function a(n){l[10](n)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Password"),autocomplete:"off"};return l[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD!==void 0&&(i.value=l[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD),e=new kl({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u&4&&(f.placeholder=n[2].t("Enter Jupyter Password")),!t&&u&2&&(t=!0,f.value=n[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function _1(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(e,"type","number"),o(e,"placeholder",t=l[2].t("e.g. 60")),o(e,"autocomplete","off")},m(i,n){H(i,e,n),se(e,l[1].CODE_EXECUTION_JUPYTER_TIMEOUT),s||(a=fe(e,"input",l[12]),s=!0)},p(i,n){n&4&&t!==(t=i[2].t("e.g. 60"))&&o(e,"placeholder",t),n&18&&Kl(e.value)!==i[1].CODE_EXECUTION_JUPYTER_TIMEOUT&&se(e,i[1].CODE_EXECUTION_JUPYTER_TIMEOUT)},d(i){i&&c(e),s=!1,a()}}}function Qi(l){let e,t,s,a=l[2].t("Code Interpreter Engine")+"",i,n,u,f,h,E=l[2].t("Select a engine")+"",g,v,m,b,I,T,w,k,D,$,O=l[2].t("Code Interpreter Prompt Template")+"",P,M,N,V,S,q,Y=Vt(l[4]),L=[];for(let j=0;j<Y.length;j+=1)L[j]=xi(qi(l,Y,j));let U=l[1].CODE_INTERPRETER_ENGINE==="jupyter"&&eo(l),B=l[1].CODE_INTERPRETER_ENGINE==="jupyter"&&to(l);return N=new Yt({props:{content:l[2].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[m1]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),i=R(a),n=A(),u=d("div"),f=d("select"),h=d("option"),g=R(E);for(let j=0;j<L.length;j+=1)L[j].c();m=A(),U&&U.c(),b=A(),B&&B.c(),I=A(),T=d("hr"),w=A(),k=d("div"),D=d("div"),$=d("div"),P=R(O),M=A(),_e(N.$$.fragment),this.h()},l(j){e=_(j,"DIV",{class:!0});var F=p(e);t=_(F,"DIV",{class:!0});var J=p(t);s=_(J,"DIV",{class:!0});var X=p(s);i=C(X,a),X.forEach(c),n=y(J),u=_(J,"DIV",{class:!0});var ne=p(u);f=_(ne,"SELECT",{class:!0,placeholder:!0});var ie=p(f);h=_(ie,"OPTION",{});var ae=p(h);g=C(ae,E),ae.forEach(c);for(let ee=0;ee<L.length;ee+=1)L[ee].l(ie);ie.forEach(c),ne.forEach(c),J.forEach(c),m=y(F),U&&U.l(F),F.forEach(c),b=y(j),B&&B.l(j),I=y(j),T=_(j,"HR",{class:!0}),w=y(j),k=_(j,"DIV",{});var Q=p(k);D=_(Q,"DIV",{class:!0});var Z=p(D);$=_(Z,"DIV",{class:!0});var te=p($);P=C(te,O),te.forEach(c),M=y(Z),he(N.$$.fragment,Z),Z.forEach(c),Q.forEach(c),this.h()},h(){o(s,"class","self-center text-xs font-medium"),h.disabled=!0,h.selected=!0,h.__value="",se(h,h.__value),o(f,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(f,"placeholder",v=l[2].t("Select a engine")),f.required=!0,l[1].CODE_INTERPRETER_ENGINE===void 0&&Sl(()=>l[14].call(f)),o(u,"class","flex items-center relative"),o(t,"class","flex w-full justify-between"),o(e,"class","mb-2.5"),o(T,"class","border-gray-100 dark:border-gray-850 my-2"),o($,"class","mb-2.5 text-xs font-medium"),o(D,"class","py-0.5 w-full")},m(j,F){H(j,e,F),r(e,t),r(t,s),r(s,i),r(t,n),r(t,u),r(u,f),r(f,h),r(h,g);for(let J=0;J<L.length;J+=1)L[J]&&L[J].m(f,null);xt(f,l[1].CODE_INTERPRETER_ENGINE,!0),r(e,m),U&&U.m(e,null),H(j,b,F),B&&B.m(j,F),H(j,I,F),H(j,T,F),H(j,w,F),H(j,k,F),r(k,D),r(D,$),r($,P),r(D,M),pe(N,D,null),V=!0,S||(q=fe(f,"change",l[14]),S=!0)},p(j,F){if((!V||F&4)&&a!==(a=j[2].t("Code Interpreter Engine")+"")&&K(i,a),(!V||F&4)&&E!==(E=j[2].t("Select a engine")+"")&&K(g,E),F&16){Y=Vt(j[4]);let X;for(X=0;X<Y.length;X+=1){const ne=qi(j,Y,X);L[X]?L[X].p(ne,F):(L[X]=xi(ne),L[X].c(),L[X].m(f,null))}for(;X<L.length;X+=1)L[X].d(1);L.length=Y.length}(!V||F&4&&v!==(v=j[2].t("Select a engine")))&&o(f,"placeholder",v),F&18&&xt(f,j[1].CODE_INTERPRETER_ENGINE),j[1].CODE_INTERPRETER_ENGINE==="jupyter"?U?U.p(j,F):(U=eo(j),U.c(),U.m(e,null)):U&&(U.d(1),U=null),j[1].CODE_INTERPRETER_ENGINE==="jupyter"?B?(B.p(j,F),F&2&&G(B,1)):(B=to(j),B.c(),G(B,1),B.m(I.parentNode,I)):B&&(wt(),W(B,1,1,()=>{B=null}),kt()),(!V||F&4)&&O!==(O=j[2].t("Code Interpreter Prompt Template")+"")&&K(P,O);const J={};F&4&&(J.content=j[2].t("Leave empty to use the default prompt, or enter a custom prompt")),F&134217734&&(J.$$scope={dirty:F,ctx:j}),N.$set(J)},i(j){V||(G(B),G(N.$$.fragment,j),V=!0)},o(j){W(B),W(N.$$.fragment,j),V=!1},d(j){j&&(c(e),c(b),c(I),c(T),c(w),c(k)),wl(L,j),U&&U.d(),B&&B.d(j),ve(N),S=!1,q()}}}function xi(l){let e,t=l[22]+"",s;return{c(){e=d("option"),s=R(t),this.h()},l(a){e=_(a,"OPTION",{});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){e.__value=l[22],se(e,e.__value)},m(a,i){H(a,e,i),r(e,s)},p:gt,d(a){a&&c(e)}}}function eo(l){let e,t=l[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"",s;return{c(){e=d("div"),s=R(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=p(e);s=C(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs")},m(a,i){H(a,e,i),r(e,s)},p(a,i){i&4&&t!==(t=a[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"")&&K(s,t)},d(a){a&&c(e)}}}function to(l){let e,t,s=l[2].t("Jupyter URL")+"",a,i,n,u,f,h,E,g,v,m,b=l[2].t("Jupyter Auth")+"",I,T,w,k,D,$=l[2].t("None")+"",O,P,M=l[2].t("Token")+"",N,V,S=l[2].t("Password")+"",q,Y,L,U,B,j,F=l[2].t("Code Execution Timeout")+"",J,X,ne,ie,ae,Q,Z,te=l[1].CODE_INTERPRETER_JUPYTER_AUTH&&lo(l);return ie=new Yt({props:{content:l[2].t("Enter timeout in seconds"),$$slots:{default:[v1]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=R(s),i=A(),n=d("div"),u=d("div"),f=d("input"),E=A(),g=d("div"),v=d("div"),m=d("div"),I=R(b),T=A(),w=d("div"),k=d("select"),D=d("option"),O=R($),P=d("option"),N=R(M),V=d("option"),q=R(S),L=A(),te&&te.c(),U=A(),B=d("div"),j=d("div"),J=R(F),X=A(),ne=d("div"),_e(ie.$$.fragment),this.h()},l(ee){e=_(ee,"DIV",{class:!0});var z=p(e);t=_(z,"DIV",{class:!0});var be=p(t);a=C(be,s),be.forEach(c),i=y(z),n=_(z,"DIV",{class:!0});var re=p(n);u=_(re,"DIV",{class:!0});var ue=p(u);f=_(ue,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ue.forEach(c),re.forEach(c),z.forEach(c),E=y(ee),g=_(ee,"DIV",{class:!0});var oe=p(g);v=_(oe,"DIV",{class:!0});var Te=p(v);m=_(Te,"DIV",{class:!0});var ge=p(m);I=C(ge,b),ge.forEach(c),T=y(Te),w=_(Te,"DIV",{});var me=p(w);k=_(me,"SELECT",{class:!0,placeholder:!0});var De=p(k);D=_(De,"OPTION",{});var Se=p(D);O=C(Se,$),Se.forEach(c),P=_(De,"OPTION",{});var ke=p(P);N=C(ke,M),ke.forEach(c),V=_(De,"OPTION",{});var we=p(V);q=C(we,S),we.forEach(c),De.forEach(c),me.forEach(c),Te.forEach(c),L=y(oe),te&&te.l(oe),oe.forEach(c),U=y(ee),B=_(ee,"DIV",{class:!0});var Ae=p(B);j=_(Ae,"DIV",{class:!0});var x=p(j);J=C(x,F),x.forEach(c),X=y(Ae),ne=_(Ae,"DIV",{class:!0});var ce=p(ne);he(ie.$$.fragment,ce),ce.forEach(c),Ae.forEach(c),this.h()},h(){o(t,"class","text-xs font-medium"),o(f,"class","w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"),o(f,"type","text"),o(f,"placeholder",h=l[2].t("Enter Jupyter URL")),o(f,"autocomplete","off"),o(u,"class","flex-1"),o(n,"class","flex w-full"),o(e,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(m,"class","text-xs font-medium"),D.selected=!0,D.__value="",se(D,D.__value),P.__value="token",se(P,P.__value),V.__value="password",se(V,V.__value),o(k,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"),o(k,"placeholder",Y=l[2].t("Select an auth method")),l[1].CODE_INTERPRETER_JUPYTER_AUTH===void 0&&Sl(()=>l[16].call(k)),o(v,"class","flex gap-2 w-full items-center justify-between"),o(g,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(j,"class","text-xs font-medium"),o(ne,"class",""),o(B,"class","flex gap-2 w-full items-center justify-between")},m(ee,z){H(ee,e,z),r(e,t),r(t,a),r(e,i),r(e,n),r(n,u),r(u,f),se(f,l[1].CODE_INTERPRETER_JUPYTER_URL),H(ee,E,z),H(ee,g,z),r(g,v),r(v,m),r(m,I),r(v,T),r(v,w),r(w,k),r(k,D),r(D,O),r(k,P),r(P,N),r(k,V),r(V,q),xt(k,l[1].CODE_INTERPRETER_JUPYTER_AUTH,!0),r(g,L),te&&te.m(g,null),H(ee,U,z),H(ee,B,z),r(B,j),r(j,J),r(B,X),r(B,ne),pe(ie,ne,null),ae=!0,Q||(Z=[fe(f,"input",l[15]),fe(k,"change",l[16])],Q=!0)},p(ee,z){(!ae||z&4)&&s!==(s=ee[2].t("Jupyter URL")+"")&&K(a,s),(!ae||z&4&&h!==(h=ee[2].t("Enter Jupyter URL")))&&o(f,"placeholder",h),z&18&&f.value!==ee[1].CODE_INTERPRETER_JUPYTER_URL&&se(f,ee[1].CODE_INTERPRETER_JUPYTER_URL),(!ae||z&4)&&b!==(b=ee[2].t("Jupyter Auth")+"")&&K(I,b),(!ae||z&4)&&$!==($=ee[2].t("None")+"")&&K(O,$),(!ae||z&4)&&M!==(M=ee[2].t("Token")+"")&&K(N,M),(!ae||z&4)&&S!==(S=ee[2].t("Password")+"")&&K(q,S),(!ae||z&4&&Y!==(Y=ee[2].t("Select an auth method")))&&o(k,"placeholder",Y),z&18&&xt(k,ee[1].CODE_INTERPRETER_JUPYTER_AUTH),ee[1].CODE_INTERPRETER_JUPYTER_AUTH?te?(te.p(ee,z),z&2&&G(te,1)):(te=lo(ee),te.c(),G(te,1),te.m(g,null)):te&&(wt(),W(te,1,1,()=>{te=null}),kt()),(!ae||z&4)&&F!==(F=ee[2].t("Code Execution Timeout")+"")&&K(J,F);const be={};z&4&&(be.content=ee[2].t("Enter timeout in seconds")),z&134217734&&(be.$$scope={dirty:z,ctx:ee}),ie.$set(be)},i(ee){ae||(G(te),G(ie.$$.fragment,ee),ae=!0)},o(ee){W(te),W(ie.$$.fragment,ee),ae=!1},d(ee){ee&&(c(e),c(E),c(g),c(U),c(B)),te&&te.d(),ve(ie),Q=!1,gl(Z)}}}function lo(l){let e,t,s,a,i;const n=[p1,h1],u=[];function f(h,E){return h[1].CODE_INTERPRETER_JUPYTER_AUTH==="password"?0:1}return s=f(l),a=u[s]=n[s](l),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var E=p(e);t=_(E,"DIV",{class:!0});var g=p(t);a.l(g),g.forEach(c),E.forEach(c),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex w-full gap-2")},m(h,E){H(h,e,E),r(e,t),u[s].m(t,null),i=!0},p(h,E){let g=s;s=f(h),s===g?u[s].p(h,E):(wt(),W(u[g],1,1,()=>{u[g]=null}),kt(),a=u[s],a?a.p(h,E):(a=u[s]=n[s](h),a.c()),G(a,1),a.m(t,null))},i(h){i||(G(a),i=!0)},o(h){W(a),i=!1},d(h){h&&c(e),u[s].d()}}}function h1(l){let e,t,s;function a(n){l[18](n)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Token"),autocomplete:"off"};return l[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN!==void 0&&(i.value=l[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN),e=new kl({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u&4&&(f.placeholder=n[2].t("Enter Jupyter Token")),!t&&u&2&&(t=!0,f.value=n[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function p1(l){let e,t,s;function a(n){l[17](n)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Password"),autocomplete:"off"};return l[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD!==void 0&&(i.value=l[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD),e=new kl({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u&4&&(f.placeholder=n[2].t("Enter Jupyter Password")),!t&&u&2&&(t=!0,f.value=n[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function v1(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(e,"type","number"),o(e,"placeholder",t=l[2].t("e.g. 60")),o(e,"autocomplete","off")},m(i,n){H(i,e,n),se(e,l[1].CODE_INTERPRETER_JUPYTER_TIMEOUT),s||(a=fe(e,"input",l[19]),s=!0)},p(i,n){n&4&&t!==(t=i[2].t("e.g. 60"))&&o(e,"placeholder",t),n&18&&Kl(e.value)!==i[1].CODE_INTERPRETER_JUPYTER_TIMEOUT&&se(e,i[1].CODE_INTERPRETER_JUPYTER_TIMEOUT)},d(i){i&&c(e),s=!1,a()}}}function m1(l){let e,t,s;function a(n){l[20](n)}let i={placeholder:l[2].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[1].CODE_INTERPRETER_PROMPT_TEMPLATE!==void 0&&(i.value=l[1].CODE_INTERPRETER_PROMPT_TEMPLATE),e=new Ks({props:i}),Xe.push(()=>lt(e,"value",a)),{c(){_e(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,u){pe(e,n,u),s=!0},p(n,u){const f={};u&4&&(f.placeholder=n[2].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&u&2&&(t=!0,f.value=n[1].CODE_INTERPRETER_PROMPT_TEMPLATE,tt(()=>t=!1)),e.$set(f)},i(n){s||(G(e.$$.fragment,n),s=!0)},o(n){W(e.$$.fragment,n),s=!1},d(n){ve(e,n)}}}function g1(l){let e,t,s,a,i,n=l[2].t("Save")+"",u,f,h,E,g=l[1]&&Fi(l);return{c(){e=d("form"),t=d("div"),g&&g.c(),s=A(),a=d("div"),i=d("button"),u=R(n),this.h()},l(v){e=_(v,"FORM",{class:!0});var m=p(e);t=_(m,"DIV",{class:!0});var b=p(t);g&&g.l(b),b.forEach(c),s=y(m),a=_(m,"DIV",{class:!0});var I=p(a);i=_(I,"BUTTON",{class:!0,type:!0});var T=p(i);u=C(T,n),T.forEach(c),I.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(v,m){H(v,e,m),r(e,t),g&&g.m(t,null),r(e,s),r(e,a),r(a,i),r(i,u),f=!0,h||(E=fe(e,"submit",vs(l[21])),h=!0)},p(v,[m]){v[1]?g?(g.p(v,m),m&2&&G(g,1)):(g=Fi(v),g.c(),G(g,1),g.m(t,null)):g&&(wt(),W(g,1,1,()=>{g=null}),kt()),(!f||m&4)&&n!==(n=v[2].t("Save")+"")&&K(u,n)},i(v){f||(G(g),f=!0)},o(v){W(g),f=!1},d(v){v&&c(e),g&&g.d(),h=!1,E()}}}function E1(l,e,t){let s;const a=Ml("i18n");el(l,a,V=>t(2,s=V));let{saveHandler:i}=e,n=null,u=["pyodide","jupyter"];const f=async()=>{await Qo(localStorage.token,n)};as(async()=>{const V=await Xo(localStorage.token);V&&t(1,n=V)});function h(V){l.$$.not_equal(n.ENABLE_CODE_EXECUTION,V)&&(n.ENABLE_CODE_EXECUTION=V,t(1,n))}function E(){n.CODE_EXECUTION_ENGINE=Pl(this),t(1,n),t(4,u)}function g(){n.CODE_EXECUTION_JUPYTER_URL=this.value,t(1,n),t(4,u)}function v(){n.CODE_EXECUTION_JUPYTER_AUTH=Pl(this),t(1,n),t(4,u)}function m(V){l.$$.not_equal(n.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD,V)&&(n.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD=V,t(1,n))}function b(V){l.$$.not_equal(n.CODE_EXECUTION_JUPYTER_AUTH_TOKEN,V)&&(n.CODE_EXECUTION_JUPYTER_AUTH_TOKEN=V,t(1,n))}function I(){n.CODE_EXECUTION_JUPYTER_TIMEOUT=Kl(this.value),t(1,n),t(4,u)}function T(V){l.$$.not_equal(n.ENABLE_CODE_INTERPRETER,V)&&(n.ENABLE_CODE_INTERPRETER=V,t(1,n))}function w(){n.CODE_INTERPRETER_ENGINE=Pl(this),t(1,n),t(4,u)}function k(){n.CODE_INTERPRETER_JUPYTER_URL=this.value,t(1,n),t(4,u)}function D(){n.CODE_INTERPRETER_JUPYTER_AUTH=Pl(this),t(1,n),t(4,u)}function $(V){l.$$.not_equal(n.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD,V)&&(n.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD=V,t(1,n))}function O(V){l.$$.not_equal(n.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN,V)&&(n.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN=V,t(1,n))}function P(){n.CODE_INTERPRETER_JUPYTER_TIMEOUT=Kl(this.value),t(1,n),t(4,u)}function M(V){l.$$.not_equal(n.CODE_INTERPRETER_PROMPT_TEMPLATE,V)&&(n.CODE_INTERPRETER_PROMPT_TEMPLATE=V,t(1,n))}const N=async()=>{await f(),i()};return l.$$set=V=>{"saveHandler"in V&&t(0,i=V.saveHandler)},[i,n,s,a,u,f,h,E,g,v,m,b,I,T,w,k,D,$,O,P,M,N]}class b1 extends $l{constructor(e){super(),Vl(this,e,E1,g1,yl,{saveHandler:0})}}function I1(l){let e,t;return e=new Of({props:{saveHandler:l[24]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[24]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function w1(l){let e,t;return e=new Wu({props:{saveHandler:l[23]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[23]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function k1(l){let e,t;return e=new oc({}),e.$on("save",l[22]),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function T1(l){let e,t;return e=new Ff({props:{saveHandler:l[21]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[21]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function D1(l){let e,t;return e=new bc({}),e.$on("save",l[20]),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function A1(l){let e,t;return e=new b1({props:{saveHandler:l[19]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[19]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function y1(l){let e,t;return e=new H_({props:{saveHandler:l[18]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[18]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function $1(l){let e,t;return e=new g_({}),e.$on("save",l[17]),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function V1(l){let e,t;return e=new f1({}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function N1(l){let e,t;return e=new Nd({}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function O1(l){let e,t;return e=new xd({}),e.$on("save",l[16]),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function P1(l){let e,t;return e=new af({props:{saveHandler:l[15]}}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[15]),e.$set(i)},i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function S1(l){let e,t,s,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',n,u,f=l[1].t("General")+"",h,E,g,v,m,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',I,T,w=l[1].t("Connections")+"",k,D,$,O,P,M='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',N,V,S=l[1].t("Models")+"",q,Y,L,U,B,j,F,J,X=l[1].t("Evaluations")+"",ne,ie,ae,Q,Z,te='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ee,z,be=l[1].t("Documents")+"",re,ue,oe,Te,ge,me='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',De,Se,ke=l[1].t("Web Search")+"",we,Ae,x,ce,Be,Ce='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2.22 1.97a.75.75 0 0 0 0 1.06l.97.97-.97.97a.75.75 0 1 0 1.06 1.06l1.5-1.5a.75.75 0 0 0 0-1.06l-1.5-1.5a.75.75 0 0 0-1.06 0ZM8.75 8.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z" clip-rule="evenodd"></path></svg>',le,de,$e=l[1].t("Code Execution")+"",Ne,Oe,He,We,Ze,je='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',Ie,ye,ht=l[1].t("Interface")+"",Je,pt,ze,ot,bt,Ve='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',dt,Et,ut=l[1].t("Audio")+"",mt,Tt,yt,_t,ct,vt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',Me,Ke,Nt=l[1].t("Images")+"",It,Re,Ge,ft,jt,Rt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',Gt,Le,Fe=l[1].t("Pipelines")+"",Ut,Dt,Ue,Ee,rt,Pt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Ct,$t,Mt=l[1].t("Database")+"",Lt,At,Ye,nt,Ot,Kt,st,sl,Wt;j=new K_({});const Xt=[P1,O1,N1,V1,$1,y1,A1,D1,T1,k1,w1,I1],zt=[];function al(it,St){return it[0]==="general"?0:it[0]==="connections"?1:it[0]==="models"?2:it[0]==="evaluations"?3:it[0]==="documents"?4:it[0]==="web"?5:it[0]==="code-execution"?6:it[0]==="interface"?7:it[0]==="audio"?8:it[0]==="images"?9:it[0]==="db"?10:it[0]==="pipelines"?11:-1}return~(Ot=al(l))&&(Kt=zt[Ot]=Xt[Ot](l)),{c(){e=d("div"),t=d("div"),s=d("button"),a=d("div"),a.innerHTML=i,n=A(),u=d("div"),h=R(f),g=A(),v=d("button"),m=d("div"),m.innerHTML=b,I=A(),T=d("div"),k=R(w),$=A(),O=d("button"),P=d("div"),P.innerHTML=M,N=A(),V=d("div"),q=R(S),L=A(),U=d("button"),B=d("div"),_e(j.$$.fragment),F=A(),J=d("div"),ne=R(X),ae=A(),Q=d("button"),Z=d("div"),Z.innerHTML=te,ee=A(),z=d("div"),re=R(be),oe=A(),Te=d("button"),ge=d("div"),ge.innerHTML=me,De=A(),Se=d("div"),we=R(ke),x=A(),ce=d("button"),Be=d("div"),Be.innerHTML=Ce,le=A(),de=d("div"),Ne=R($e),He=A(),We=d("button"),Ze=d("div"),Ze.innerHTML=je,Ie=A(),ye=d("div"),Je=R(ht),ze=A(),ot=d("button"),bt=d("div"),bt.innerHTML=Ve,dt=A(),Et=d("div"),mt=R(ut),yt=A(),_t=d("button"),ct=d("div"),ct.innerHTML=vt,Me=A(),Ke=d("div"),It=R(Nt),Ge=A(),ft=d("button"),jt=d("div"),jt.innerHTML=Rt,Gt=A(),Le=d("div"),Ut=R(Fe),Ue=A(),Ee=d("button"),rt=d("div"),rt.innerHTML=Pt,Ct=A(),$t=d("div"),Lt=R(Mt),Ye=A(),nt=d("div"),Kt&&Kt.c(),this.h()},l(it){e=_(it,"DIV",{class:!0});var St=p(e);t=_(St,"DIV",{id:!0,class:!0});var Bt=p(t);s=_(Bt,"BUTTON",{class:!0});var il=p(s);a=_(il,"DIV",{class:!0,"data-svelte-h":!0}),Qt(a)!=="svelte-1e9u9pw"&&(a.innerHTML=i),n=y(il),u=_(il,"DIV",{class:!0});var El=p(u);h=C(El,f),El.forEach(c),il.forEach(c),g=y(Bt),v=_(Bt,"BUTTON",{class:!0});var dl=p(v);m=_(dl,"DIV",{class:!0,"data-svelte-h":!0}),Qt(m)!=="svelte-1xixjje"&&(m.innerHTML=b),I=y(dl),T=_(dl,"DIV",{class:!0});var Il=p(T);k=C(Il,w),Il.forEach(c),dl.forEach(c),$=y(Bt),O=_(Bt,"BUTTON",{class:!0});var qt=p(O);P=_(qt,"DIV",{class:!0,"data-svelte-h":!0}),Qt(P)!=="svelte-17kkxfv"&&(P.innerHTML=M),N=y(qt),V=_(qt,"DIV",{class:!0});var tl=p(V);q=C(tl,S),tl.forEach(c),qt.forEach(c),L=y(Bt),U=_(Bt,"BUTTON",{class:!0});var Tl=p(U);B=_(Tl,"DIV",{class:!0});var Dl=p(B);he(j.$$.fragment,Dl),Dl.forEach(c),F=y(Tl),J=_(Tl,"DIV",{class:!0});var ol=p(J);ne=C(ol,X),ol.forEach(c),Tl.forEach(c),ae=y(Bt),Q=_(Bt,"BUTTON",{class:!0});var Al=p(Q);Z=_(Al,"DIV",{class:!0,"data-svelte-h":!0}),Qt(Z)!=="svelte-ofbvgh"&&(Z.innerHTML=te),ee=y(Al),z=_(Al,"DIV",{class:!0});var hl=p(z);re=C(hl,be),hl.forEach(c),Al.forEach(c),oe=y(Bt),Te=_(Bt,"BUTTON",{class:!0});var Nl=p(Te);ge=_(Nl,"DIV",{class:!0,"data-svelte-h":!0}),Qt(ge)!=="svelte-1t9ru36"&&(ge.innerHTML=me),De=y(Nl),Se=_(Nl,"DIV",{class:!0});var zl=p(Se);we=C(zl,ke),zl.forEach(c),Nl.forEach(c),x=y(Bt),ce=_(Bt,"BUTTON",{class:!0});var nl=p(ce);Be=_(nl,"DIV",{class:!0,"data-svelte-h":!0}),Qt(Be)!=="svelte-b77hoq"&&(Be.innerHTML=Ce),le=y(nl),de=_(nl,"DIV",{class:!0});var fs=p(de);Ne=C(fs,$e),fs.forEach(c),nl.forEach(c),He=y(Bt),We=_(Bt,"BUTTON",{class:!0});var Jt=p(We);Ze=_(Jt,"DIV",{class:!0,"data-svelte-h":!0}),Qt(Ze)!=="svelte-1i52rm6"&&(Ze.innerHTML=je),Ie=y(Jt),ye=_(Jt,"DIV",{class:!0});var Ft=p(ye);Je=C(Ft,ht),Ft.forEach(c),Jt.forEach(c),ze=y(Bt),ot=_(Bt,"BUTTON",{class:!0});var fl=p(ot);bt=_(fl,"DIV",{class:!0,"data-svelte-h":!0}),Qt(bt)!=="svelte-sf0iba"&&(bt.innerHTML=Ve),dt=y(fl),Et=_(fl,"DIV",{class:!0});var rs=p(Et);mt=C(rs,ut),rs.forEach(c),fl.forEach(c),yt=y(Bt),_t=_(Bt,"BUTTON",{class:!0});var Ql=p(_t);ct=_(Ql,"DIV",{class:!0,"data-svelte-h":!0}),Qt(ct)!=="svelte-1gc3odz"&&(ct.innerHTML=vt),Me=y(Ql),Ke=_(Ql,"DIV",{class:!0});var ns=p(Ke);It=C(ns,Nt),ns.forEach(c),Ql.forEach(c),Ge=y(Bt),ft=_(Bt,"BUTTON",{class:!0});var cl=p(ft);jt=_(cl,"DIV",{class:!0,"data-svelte-h":!0}),Qt(jt)!=="svelte-1q46caf"&&(jt.innerHTML=Rt),Gt=y(cl),Le=_(cl,"DIV",{class:!0});var qe=p(Le);Ut=C(qe,Fe),qe.forEach(c),cl.forEach(c),Ue=y(Bt),Ee=_(Bt,"BUTTON",{class:!0});var xe=p(Ee);rt=_(xe,"DIV",{class:!0,"data-svelte-h":!0}),Qt(rt)!=="svelte-35c53k"&&(rt.innerHTML=Pt),Ct=y(xe),$t=_(xe,"DIV",{class:!0});var xl=p($t);Lt=C(xl,Mt),xl.forEach(c),xe.forEach(c),Bt.forEach(c),Ye=y(St),nt=_(St,"DIV",{class:!0});var ul=p(nt);Kt&&Kt.l(ul),ul.forEach(c),St.forEach(c),this.h()},h(){o(a,"class","self-center mr-2"),o(u,"class","self-center"),o(s,"class",E="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(l[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(m,"class","self-center mr-2"),o(T,"class","self-center"),o(v,"class",D="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(P,"class","self-center mr-2"),o(V,"class","self-center"),o(O,"class",Y="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(B,"class","self-center mr-2"),o(J,"class","self-center"),o(U,"class",ie="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Z,"class","self-center mr-2"),o(z,"class","self-center"),o(Q,"class",ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(ge,"class","self-center mr-2"),o(Se,"class","self-center"),o(Te,"class",Ae="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Be,"class","self-center mr-2"),o(de,"class","self-center"),o(ce,"class",Oe="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="code-execution"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Ze,"class","self-center mr-2"),o(ye,"class","self-center"),o(We,"class",pt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(bt,"class","self-center mr-2"),o(Et,"class","self-center"),o(ot,"class",Tt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(ct,"class","self-center mr-2"),o(Ke,"class","self-center"),o(_t,"class",Re="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(jt,"class","self-center mr-2"),o(Le,"class","self-center"),o(ft,"class",Dt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(rt,"class","self-center mr-2"),o($t,"class","self-center"),o(Ee,"class",At="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(t,"id","admin-settings-tabs-container"),o(t,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),o(nt,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll pr-1 scrollbar-hidden"),o(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(it,St){H(it,e,St),r(e,t),r(t,s),r(s,a),r(s,n),r(s,u),r(u,h),r(t,g),r(t,v),r(v,m),r(v,I),r(v,T),r(T,k),r(t,$),r(t,O),r(O,P),r(O,N),r(O,V),r(V,q),r(t,L),r(t,U),r(U,B),pe(j,B,null),r(U,F),r(U,J),r(J,ne),r(t,ae),r(t,Q),r(Q,Z),r(Q,ee),r(Q,z),r(z,re),r(t,oe),r(t,Te),r(Te,ge),r(Te,De),r(Te,Se),r(Se,we),r(t,x),r(t,ce),r(ce,Be),r(ce,le),r(ce,de),r(de,Ne),r(t,He),r(t,We),r(We,Ze),r(We,Ie),r(We,ye),r(ye,Je),r(t,ze),r(t,ot),r(ot,bt),r(ot,dt),r(ot,Et),r(Et,mt),r(t,yt),r(t,_t),r(_t,ct),r(_t,Me),r(_t,Ke),r(Ke,It),r(t,Ge),r(t,ft),r(ft,jt),r(ft,Gt),r(ft,Le),r(Le,Ut),r(t,Ue),r(t,Ee),r(Ee,rt),r(Ee,Ct),r(Ee,$t),r($t,Lt),r(e,Ye),r(e,nt),~Ot&&zt[Ot].m(nt,null),st=!0,sl||(Wt=[fe(s,"click",l[3]),fe(v,"click",l[4]),fe(O,"click",l[5]),fe(U,"click",l[6]),fe(Q,"click",l[7]),fe(Te,"click",l[8]),fe(ce,"click",l[9]),fe(We,"click",l[10]),fe(ot,"click",l[11]),fe(_t,"click",l[12]),fe(ft,"click",l[13]),fe(Ee,"click",l[14])],sl=!0)},p(it,[St]){(!st||St&2)&&f!==(f=it[1].t("General")+"")&&K(h,f),(!st||St&1&&E!==(E="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(it[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(s,"class",E),(!st||St&2)&&w!==(w=it[1].t("Connections")+"")&&K(k,w),(!st||St&1&&D!==(D="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(v,"class",D),(!st||St&2)&&S!==(S=it[1].t("Models")+"")&&K(q,S),(!st||St&1&&Y!==(Y="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(O,"class",Y),(!st||St&2)&&X!==(X=it[1].t("Evaluations")+"")&&K(ne,X),(!st||St&1&&ie!==(ie="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(U,"class",ie),(!st||St&2)&&be!==(be=it[1].t("Documents")+"")&&K(re,be),(!st||St&1&&ue!==(ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Q,"class",ue),(!st||St&2)&&ke!==(ke=it[1].t("Web Search")+"")&&K(we,ke),(!st||St&1&&Ae!==(Ae="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Te,"class",Ae),(!st||St&2)&&$e!==($e=it[1].t("Code Execution")+"")&&K(Ne,$e),(!st||St&1&&Oe!==(Oe="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="code-execution"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(ce,"class",Oe),(!st||St&2)&&ht!==(ht=it[1].t("Interface")+"")&&K(Je,ht),(!st||St&1&&pt!==(pt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(We,"class",pt),(!st||St&2)&&ut!==(ut=it[1].t("Audio")+"")&&K(mt,ut),(!st||St&1&&Tt!==(Tt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(ot,"class",Tt),(!st||St&2)&&Nt!==(Nt=it[1].t("Images")+"")&&K(It,Nt),(!st||St&1&&Re!==(Re="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(_t,"class",Re),(!st||St&2)&&Fe!==(Fe=it[1].t("Pipelines")+"")&&K(Ut,Fe),(!st||St&1&&Dt!==(Dt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(ft,"class",Dt),(!st||St&2)&&Mt!==(Mt=it[1].t("Database")+"")&&K(Lt,Mt),(!st||St&1&&At!==(At="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Ee,"class",At);let Bt=Ot;Ot=al(it),Ot===Bt?~Ot&&zt[Ot].p(it,St):(Kt&&(wt(),W(zt[Bt],1,1,()=>{zt[Bt]=null}),kt()),~Ot?(Kt=zt[Ot],Kt?Kt.p(it,St):(Kt=zt[Ot]=Xt[Ot](it),Kt.c()),G(Kt,1),Kt.m(nt,null)):Kt=null)},i(it){st||(G(j.$$.fragment,it),G(Kt),st=!0)},o(it){W(j.$$.fragment,it),W(Kt),st=!1},d(it){it&&c(e),ve(j),~Ot&&zt[Ot].d(),sl=!1,gl(Wt)}}}function M1(l,e,t){let s;const a=Ml("i18n");el(l,a,Y=>t(1,s=Y));let i="general";return as(()=>{const Y=document.getElementById("admin-settings-tabs-container");Y&&Y.addEventListener("wheel",function(L){L.deltaY!==0&&(Y.scrollLeft+=L.deltaY)})}),[i,s,a,()=>{t(0,i="general")},()=>{t(0,i="connections")},()=>{t(0,i="models")},()=>{t(0,i="evaluations")},()=>{t(0,i="documents")},()=>{t(0,i="web")},()=>{t(0,i="code-execution")},()=>{t(0,i="interface")},()=>{t(0,i="audio")},()=>{t(0,i="images")},()=>{t(0,i="pipelines")},()=>{t(0,i="db")},async()=>{et.success(s.t("Settings saved successfully!")),await Zs(),await ss.set(await js())},()=>{et.success(s.t("Settings saved successfully!"))},async()=>{et.success(s.t("Settings saved successfully!")),await Zs(),await ss.set(await js())},async()=>{et.success(s.t("Settings saved successfully!")),await Zs(),await ss.set(await js())},async()=>{et.success(s.t("Settings saved successfully!")),await Zs(),await ss.set(await js())},()=>{et.success(s.t("Settings saved successfully!"))},()=>{et.success(s.t("Settings saved successfully!"))},()=>{et.success(s.t("Settings saved successfully!"))},()=>{et.success(s.t("Settings saved successfully!"))},()=>{et.success(s.t("Settings saved successfully!"))}]}class L1 extends $l{constructor(e){super(),Vl(this,e,M1,S1,yl,{})}}function R1(l){let e,t;return e=new L1({}),{c(){_e(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,a){pe(e,s,a),t=!0},p:gt,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}class Ih extends $l{constructor(e){super(),Vl(this,e,null,R1,yl,{})}}export{Ih as component};
//# sourceMappingURL=13.CHL_ecex.js.map
