import{s as Oe,D as qe,E as We,a as I,d as h,f as p,i as A,g as b,n as Ee,y as ze,A as bt,j as ae,p as wt,F as Tt,q as kt,k as H,o as R,e as $,c as V,r as Mt,v as Nt,w as Ot,x as zt,Q as De,t as J,b as K,h as te,B as Ne,u as oe,H as Bt,N as $e,a0 as Fe}from"../chunks/scheduler.u6_2Foza.js";import{S as Be,i as Se,f as yt,b as Q,d as X,m as x,t as N,a as S,e as ee,g as re,c as se}from"../chunks/index.TaJ1J9Bt.js";import{t as me}from"../chunks/apiInterceptor.ovEtsaVg.js";import{g as Et}from"../chunks/entry.CPHYM1w1.js";import{M as ye,a as Dt,c as $t,l as St,u as Vt,n as Ye,B as Ge,m as It,e as At}from"../chunks/index.Bn_1hBZy.js";import{c as Pt}from"../chunks/index.xnbdEWk_.js";import{s as Ct,k as Je}from"../chunks/index.BczdeOwI.js";import{e as ie}from"../chunks/each.CpR_wfW1.js";import"../chunks/updater.DMCgqkGV.js";import{M as jt,a as Lt,b as Ht}from"../chunks/menu-trigger.BlezJqHv.js";import{m as Ke}from"../chunks/marked.esm._0_gBwjO.js";import{F as Rt}from"../chunks/fuse.CU2r43ac.js";import{f as Ut}from"../chunks/index.BFuekP1B.js";import{C as Zt}from"../chunks/ChevronDown.BdfXPb0q.js";import{C as qt}from"../chunks/Check.DdGE4lbh.js";import{S as Wt}from"../chunks/Search.DyzposVs.js";import{g as Ft,p as Yt,d as Gt}from"../chunks/index.Dm7MFL02.js";import{g as Jt}from"../chunks/index.NocVRDio.js";import{T as he}from"../chunks/Tooltip.3kB_H6zI.js";import{S as Kt}from"../chunks/Switch.pLAWisIs.js";function Qt(a){let e,t;return{c(){e=qe("svg"),t=qe("path"),this.h()},l(l){e=We(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=I(e);t=We(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),I(t).forEach(h),r.forEach(h),this.h()},h(){p(t,"stroke-linecap","round"),p(t,"stroke-linejoin","round"),p(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width",a[1]),p(e,"stroke","currentColor"),p(e,"class",a[0])},m(l,r){A(l,e,r),b(e,t)},p(l,[r]){r&2&&p(e,"stroke-width",l[1]),r&1&&p(e,"class",l[0])},i:Ee,o:Ee,d(l){l&&h(e)}}}function Xt(a,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return a.$$set=o=>{"className"in o&&t(0,l=o.className),"strokeWidth"in o&&t(1,r=o.strokeWidth)},[l,r]}class xt extends Be{constructor(e){super(),Se(this,e,Xt,Qt,Oe,{className:0,strokeWidth:1})}}function Qe(a,e,t){const l=a.slice();return l[43]=e[t],l}function Xe(a,e,t){const l=a.slice();return l[46]=e[t],l[48]=t,l}function xe(a,e,t){const l=a.slice();return l[49]=e[t],l}function et(a,e,t){const l=a.slice();return l[49]=e[t],l}function tt(a,e,t){const l=a.slice();return l[49]=e[t],l}function el(a){let e;return{c(){e=J(a[2])},l(t){e=K(t,a[2])},m(t,l){A(t,e,l)},p(t,l){l[0]&4&&te(e,t[2])},d(t){t&&h(e)}}}function tl(a){let e=a[13].label+"",t;return{c(){t=J(e)},l(l){t=K(l,e)},m(l,r){A(l,t,r)},p(l,r){r[0]&8192&&e!==(e=l[13].label+"")&&te(t,e)},d(l){l&&h(t)}}}function ll(a){let e,t,l,r,o;function s(u,c){return u[13]?tl:el}let i=s(a),n=i(a);return l=new Zt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=$("div"),n.c(),t=H(),Q(l.$$.fragment),this.h()},l(u){e=V(u,"DIV",{class:!0});var c=I(e);n.l(c),t=R(c),X(l.$$.fragment,c),c.forEach(h),this.h()},h(){p(e,"class",r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+a[7]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(u,c){A(u,e,c),n.m(e,null),b(e,t),x(l,e,null),o=!0},p(u,c){i===(i=s(u))&&n?n.p(u,c):(n.d(1),n=i(u),n&&(n.c(),n.m(e,t))),(!o||c[0]&128&&r!==(r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+u[7]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&p(e,"class",r)},i(u){o||(N(l.$$.fragment,u),o=!0)},o(u){S(l.$$.fragment,u),o=!1},d(u){u&&h(e),n.d(),ee(l)}}}function lt(a){let e,t,l,r,o,s,i;return t=new Wt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=$("div"),Q(t.$$.fragment),l=H(),r=$("input"),this.h()},l(n){e=V(n,"DIV",{class:!0});var u=I(e);X(t.$$.fragment,u),l=R(u),r=V(u,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),u.forEach(h),this.h()},h(){p(r,"id","model-search-input"),p(r,"class","w-full text-sm bg-transparent outline-hidden"),p(r,"placeholder",a[4]),p(r,"autocomplete","off"),p(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(n,u){A(n,e,u),x(t,e,null),b(e,l),b(e,r),Ne(r,a[8]),o=!0,s||(i=[oe(r,"input",a[27]),oe(r,"keydown",a[28])],s=!0)},p(n,u){(!o||u[0]&16)&&p(r,"placeholder",n[4]),u[0]&256&&r.value!==n[8]&&Ne(r,n[8])},i(n){o||(N(t.$$.fragment,n),o=!0)},o(n){S(t.$$.fragment,n),o=!1},d(n){n&&h(e),ee(t),s=!1,Bt(i)}}}function at(a){let e,t,l,r=a[18].t("All")+"",o,s,i,n,u,c=ie(a[12]),v=[];for(let _=0;_<c.length;_+=1)v[_]=rt(tt(a,c,_));return{c(){e=$("div"),t=$("div"),l=$("button"),o=J(r),i=H();for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=V(_,"DIV",{class:!0});var E=I(e);t=V(E,"DIV",{class:!0});var w=I(t);l=V(w,"BUTTON",{class:!0});var C=I(l);o=K(C,r),C.forEach(h),i=R(w);for(let k=0;k<v.length;k+=1)v[k].l(w);w.forEach(h),E.forEach(h),this.h()},h(){p(l,"class",s="min-w-fit outline-none p-1.5 "+(a[9]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),p(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),p(e,"class","flex w-full sticky")},m(_,E){A(_,e,E),b(e,t),b(t,l),b(l,o),b(t,i);for(let w=0;w<v.length;w+=1)v[w]&&v[w].m(t,null);a[31](t),n||(u=oe(l,"click",a[29]),n=!0)},p(_,E){if(E[0]&262144&&r!==(r=_[18].t("All")+"")&&te(o,r),E[0]&512&&s!==(s="min-w-fit outline-none p-1.5 "+(_[9]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(l,"class",s),E[0]&4608){c=ie(_[12]);let w;for(w=0;w<c.length;w+=1){const C=tt(_,c,w);v[w]?v[w].p(C,E):(v[w]=rt(C),v[w].c(),v[w].m(t,null))}for(;w<v.length;w+=1)v[w].d(1);v.length=c.length}},d(_){_&&h(e),De(v,_),a[31](null),n=!1,u()}}}function rt(a){let e,t=a[49]+"",l,r,o,s,i;function n(){return a[30](a[49])}return{c(){e=$("button"),l=J(t),r=H(),this.h()},l(u){e=V(u,"BUTTON",{class:!0});var c=I(e);l=K(c,t),r=R(c),c.forEach(h),this.h()},h(){p(e,"class",o="min-w-fit outline-none p-1.5 "+(a[9]===a[49]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(u,c){A(u,e,c),b(e,l),b(e,r),s||(i=oe(e,"click",n),s=!0)},p(u,c){a=u,c[0]&4096&&t!==(t=a[49]+"")&&te(l,t),c[0]&4608&&o!==(o="min-w-fit outline-none p-1.5 "+(a[9]===a[49]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",o)},d(u){u&&h(e),s=!1,i()}}}function st(a){let e,t,l=a[18].t("No results found")+"",r;return{c(){e=$("div"),t=$("div"),r=J(l),this.h()},l(o){e=V(o,"DIV",{});var s=I(e);t=V(s,"DIV",{class:!0});var i=I(t);r=K(i,l),i.forEach(h),s.forEach(h),this.h()},h(){p(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(o,s){A(o,e,s),b(e,t),b(t,r)},p(o,s){s[0]&262144&&l!==(l=o[18].t("No results found")+"")&&te(r,l)},d(o){o&&h(e)}}}function ot(a){var r,o;let e,t=ie((o=(r=a[46].model)==null?void 0:r.info)==null?void 0:o.meta.tags),l=[];for(let s=0;s<t.length;s+=1)l[s]=nt(et(a,t,s));return{c(){e=$("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=V(s,"DIV",{class:!0});var i=I(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(h),this.h()},h(){p(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(s,i){A(s,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(s,i){var n,u;if(i[0]&65536){t=ie((u=(n=s[46].model)==null?void 0:n.info)==null?void 0:u.meta.tags);let c;for(c=0;c<t.length;c+=1){const v=et(s,t,c);l[c]?l[c].p(v,i):(l[c]=nt(v),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},d(s){s&&h(e),De(l,s)}}}function nt(a){let e,t=a[49].name+"",l,r;return{c(){e=$("div"),l=J(t),r=H(),this.h()},l(o){e=V(o,"DIV",{class:!0});var s=I(e);l=K(s,t),r=R(s),s.forEach(h),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(o,s){A(o,e,s),b(e,l),b(e,r)},p(o,s){s[0]&65536&&t!==(t=o[49].name+"")&&te(l,t)},d(o){o&&h(e)}}}function al(a){let e,t,l,r=a[46].label+"",o;return{c(){e=$("img"),l=H(),o=J(r),this.h()},l(s){e=V(s,"IMG",{src:!0,alt:!0,class:!0}),l=R(s),o=K(s,r),this.h()},h(){var s,i,n;Fe(e.src,t=((n=(i=(s=a[46].model)==null?void 0:s.info)==null?void 0:i.meta)==null?void 0:n.profile_image_url)??"/static/favicon.png")||p(e,"src",t),p(e,"alt","Model"),p(e,"class","rounded-full size-5 flex items-center mr-2")},m(s,i){A(s,e,i),A(s,l,i),A(s,o,i)},p(s,i){var n,u,c;i[0]&65536&&!Fe(e.src,t=((c=(u=(n=s[46].model)==null?void 0:n.info)==null?void 0:u.meta)==null?void 0:c.profile_image_url)??"/static/favicon.png")&&p(e,"src",t),i[0]&65536&&r!==(r=s[46].label+"")&&te(o,r)},d(s){s&&(h(e),h(l),h(o))}}}function it(a){var r,o,s,i,n,u;let e,t,l;return t=new he({props:{content:`${(o=(r=a[46].model.ollama)==null?void 0:r.details)!=null&&o.quantization_level?((i=(s=a[46].model.ollama)==null?void 0:s.details)==null?void 0:i.quantization_level)+" ":""}${(n=a[46].model.ollama)!=null&&n.size?`(${(((u=a[46].model.ollama)==null?void 0:u.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[rl]},$$scope:{ctx:a}}}),{c(){e=$("div"),Q(t.$$.fragment),this.h()},l(c){e=V(c,"DIV",{class:!0});var v=I(e);X(t.$$.fragment,v),v.forEach(h),this.h()},h(){p(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(c,v){A(c,e,v),x(t,e,null),l=!0},p(c,v){var E,w,C,k,L,T;const _={};v[0]&65536&&(_.content=`${(w=(E=c[46].model.ollama)==null?void 0:E.details)!=null&&w.quantization_level?((k=(C=c[46].model.ollama)==null?void 0:C.details)==null?void 0:k.quantization_level)+" ":""}${(L=c[46].model.ollama)!=null&&L.size?`(${(((T=c[46].model.ollama)==null?void 0:T.size)/1024**3).toFixed(1)}GB)`:""}`),v[0]&65536|v[1]&128&&(_.$$scope={dirty:v,ctx:c}),t.$set(_)},i(c){l||(N(t.$$.fragment,c),l=!0)},o(c){S(t.$$.fragment,c),l=!1},d(c){c&&h(e),ee(t)}}}function rl(a){var r,o;let e,t=(((o=(r=a[46].model.ollama)==null?void 0:r.details)==null?void 0:o.parameter_size)??"")+"",l;return{c(){e=$("span"),l=J(t),this.h()},l(s){e=V(s,"SPAN",{class:!0});var i=I(e);l=K(i,t),i.forEach(h),this.h()},h(){p(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(s,i){A(s,e,i),b(e,l)},p(s,i){var n,u;i[0]&65536&&t!==(t=(((u=(n=s[46].model.ollama)==null?void 0:n.details)==null?void 0:u.parameter_size)??"")+"")&&te(l,t)},d(s){s&&h(e)}}}function sl(a){let e,t;return e=new he({props:{content:"External",$$slots:{default:[nl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){x(e,l,r),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function ol(a){let e,t;return e=new he({props:{content:"Direct",$$slots:{default:[il]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){x(e,l,r),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function nl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=$("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,r){A(l,e,r)},p:Ee,d(l){l&&h(e)}}}function il(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=$("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,r){A(l,e,r)},p:Ee,d(l){l&&h(e)}}}function ft(a){var l,r,o;let e,t;return e=new he({props:{content:`${Ke.parse(Je((o=(r=(l=a[46].model)==null?void 0:l.info)==null?void 0:r.meta)==null?void 0:o.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[fl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,i){x(e,s,i),t=!0},p(s,i){var u,c,v;const n={};i[0]&65536&&(n.content=`${Ke.parse(Je((v=(c=(u=s[46].model)==null?void 0:u.info)==null?void 0:c.meta)==null?void 0:v.description).replaceAll(`
`,"<br>"))}`),i[1]&128&&(n.$$scope={dirty:i,ctx:s}),e.$set(n)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function fl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=$("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,r){A(l,e,r)},p:Ee,d(l){l&&h(e)}}}function ut(a){var s,i;let e,t,l=ie((i=(s=a[46].model)==null?void 0:s.info)==null?void 0:i.meta.tags),r=[];for(let n=0;n<l.length;n+=1)r[n]=ct(xe(a,l,n));const o=n=>S(r[n],1,1,()=>{r[n]=null});return{c(){e=$("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=V(n,"DIV",{class:!0});var u=I(e);for(let c=0;c<r.length;c+=1)r[c].l(u);u.forEach(h),this.h()},h(){p(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(n,u){A(n,e,u);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p(n,u){var c,v;if(u[0]&65536){l=ie((v=(c=n[46].model)==null?void 0:c.info)==null?void 0:v.meta.tags);let _;for(_=0;_<l.length;_+=1){const E=xe(n,l,_);r[_]?(r[_].p(E,u),N(r[_],1)):(r[_]=ct(E),r[_].c(),N(r[_],1),r[_].m(e,null))}for(re(),_=l.length;_<r.length;_+=1)o(_);se()}},i(n){if(!t){for(let u=0;u<l.length;u+=1)N(r[u]);t=!0}},o(n){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)S(r[u]);t=!1},d(n){n&&h(e),De(r,n)}}}function ul(a){let e,t=a[49].name+"",l,r;return{c(){e=$("div"),l=J(t),r=H(),this.h()},l(o){e=V(o,"DIV",{class:!0});var s=I(e);l=K(s,t),s.forEach(h),r=R(o),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(o,s){A(o,e,s),b(e,l),A(o,r,s)},p(o,s){s[0]&65536&&t!==(t=o[49].name+"")&&te(l,t)},d(o){o&&(h(e),h(r))}}}function ct(a){let e,t;return e=new he({props:{content:a[49].name,className:"flex-shrink-0",$$slots:{default:[ul]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){x(e,l,r),t=!0},p(l,r){const o={};r[0]&65536&&(o.content=l[49].name),r[0]&65536|r[1]&128&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function dt(a){let e,t,l;return t=new qt({}),{c(){e=$("div"),Q(t.$$.fragment),this.h()},l(r){e=V(r,"DIV",{class:!0});var o=I(e);X(t.$$.fragment,o),o.forEach(h),this.h()},h(){p(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(r,o){A(r,e,o),x(t,e,null),l=!0},i(r){l||(N(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&h(e),ee(t)}}}function mt(a){var q,le,fe,ue,_e,pe,ge,ve,be,we,Ve,Ie,Ce,Te,Me;let e,t,l,r,o,s,i,n,u,c,v,_,E,w,C,k,L,T,O,P,M=a[19]&&(((ue=(fe=(le=(q=a[46])==null?void 0:q.model)==null?void 0:le.info)==null?void 0:fe.meta)==null?void 0:ue.tags)??[]).length>0&&ot(a);n=new he({props:{content:((_e=a[20])==null?void 0:_e.role)==="admin"?((pe=a[46])==null?void 0:pe.value)??"":"",placement:"top-start",$$slots:{default:[al]},$$scope:{ctx:a}}});let j=a[46].model.owned_by==="ollama"&&(((ve=(ge=a[46].model.ollama)==null?void 0:ge.details)==null?void 0:ve.parameter_size)??"")!==""&&it(a);const y=[ol,sl],f=[];function g(d,B){var U;return(U=d[46].model)!=null&&U.direct?0:d[46].model.owned_by==="openai"?1:-1}~(v=g(a))&&(_=f[v]=y[v](a));let m=((Ve=(we=(be=a[46].model)==null?void 0:be.info)==null?void 0:we.meta)==null?void 0:Ve.description)&&ft(a),D=!a[19]&&(((Me=(Te=(Ce=(Ie=a[46])==null?void 0:Ie.model)==null?void 0:Ce.info)==null?void 0:Te.meta)==null?void 0:Me.tags)??[]).length>0&&ut(a),z=a[0]===a[46].value&&dt();function W(){return a[32](a[46],a[48])}return{c(){e=$("button"),t=$("div"),M&&M.c(),l=H(),r=$("div"),o=$("div"),s=$("div"),i=$("div"),Q(n.$$.fragment),u=H(),j&&j.c(),c=H(),_&&_.c(),E=H(),m&&m.c(),w=H(),D&&D.c(),C=H(),z&&z.c(),this.h()},l(d){e=V(d,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0});var B=I(e);t=V(B,"DIV",{class:!0});var U=I(t);M&&M.l(U),l=R(U),r=V(U,"DIV",{class:!0});var Z=I(r);o=V(Z,"DIV",{class:!0});var F=I(o);s=V(F,"DIV",{class:!0});var Y=I(s);i=V(Y,"DIV",{class:!0});var ne=I(i);X(n.$$.fragment,ne),ne.forEach(h),Y.forEach(h),u=R(F),j&&j.l(F),F.forEach(h),c=R(Z),_&&_.l(Z),E=R(Z),m&&m.l(Z),w=R(Z),D&&D.l(Z),Z.forEach(h),U.forEach(h),C=R(B),z&&z.l(B),B.forEach(h),this.h()},h(){p(i,"class","flex items-center min-w-fit"),p(s,"class","line-clamp-1"),p(o,"class","flex items-center min-w-fit"),p(r,"class","flex items-center gap-2"),p(t,"class","flex flex-col"),p(e,"aria-label","model-item"),p(e,"class",k="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[48]===a[15]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),p(e,"data-arrow-selected",L=a[48]===a[15])},m(d,B){A(d,e,B),b(e,t),M&&M.m(t,null),b(t,l),b(t,r),b(r,o),b(o,s),b(s,i),x(n,i,null),b(o,u),j&&j.m(o,null),b(r,c),~v&&f[v].m(r,null),b(r,E),m&&m.m(r,null),b(r,w),D&&D.m(r,null),b(e,C),z&&z.m(e,null),T=!0,O||(P=oe(e,"click",W),O=!0)},p(d,B){var F,Y,ne,ke,ce,G,de,Ae,Pe,je,Le,He,Re,Ue,Ze;a=d,a[19]&&(((ke=(ne=(Y=(F=a[46])==null?void 0:F.model)==null?void 0:Y.info)==null?void 0:ne.meta)==null?void 0:ke.tags)??[]).length>0?M?M.p(a,B):(M=ot(a),M.c(),M.m(t,l)):M&&(M.d(1),M=null);const U={};B[0]&1114112&&(U.content=((ce=a[20])==null?void 0:ce.role)==="admin"?((G=a[46])==null?void 0:G.value)??"":""),B[0]&65536|B[1]&128&&(U.$$scope={dirty:B,ctx:a}),n.$set(U),a[46].model.owned_by==="ollama"&&(((Ae=(de=a[46].model.ollama)==null?void 0:de.details)==null?void 0:Ae.parameter_size)??"")!==""?j?(j.p(a,B),B[0]&65536&&N(j,1)):(j=it(a),j.c(),N(j,1),j.m(o,null)):j&&(re(),S(j,1,1,()=>{j=null}),se());let Z=v;v=g(a),v!==Z&&(_&&(re(),S(f[Z],1,1,()=>{f[Z]=null}),se()),~v?(_=f[v],_||(_=f[v]=y[v](a),_.c()),N(_,1),_.m(r,E)):_=null),(Le=(je=(Pe=a[46].model)==null?void 0:Pe.info)==null?void 0:je.meta)!=null&&Le.description?m?(m.p(a,B),B[0]&65536&&N(m,1)):(m=ft(a),m.c(),N(m,1),m.m(r,w)):m&&(re(),S(m,1,1,()=>{m=null}),se()),!a[19]&&(((Ze=(Ue=(Re=(He=a[46])==null?void 0:He.model)==null?void 0:Re.info)==null?void 0:Ue.meta)==null?void 0:Ze.tags)??[]).length>0?D?(D.p(a,B),B[0]&589824&&N(D,1)):(D=ut(a),D.c(),N(D,1),D.m(r,null)):D&&(re(),S(D,1,1,()=>{D=null}),se()),a[0]===a[46].value?z?B[0]&65537&&N(z,1):(z=dt(),z.c(),N(z,1),z.m(e,null)):z&&(re(),S(z,1,1,()=>{z=null}),se()),(!T||B[0]&32768&&k!==(k="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[48]===a[15]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&p(e,"class",k),(!T||B[0]&32768&&L!==(L=a[48]===a[15]))&&p(e,"data-arrow-selected",L)},i(d){T||(N(n.$$.fragment,d),N(j),N(_),N(m),N(D),N(z),T=!0)},o(d){S(n.$$.fragment,d),S(j),S(_),S(m),S(D),S(z),T=!1},d(d){d&&h(e),M&&M.d(),ee(n),j&&j.d(),~v&&f[v].d(),m&&m.d(),D&&D.d(),z&&z.d(),O=!1,P()}}}function ht(a){let e,t;return e=new he({props:{content:a[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[8]}),placement:"top-start",$$slots:{default:[cl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){x(e,l,r),t=!0},p(l,r){const o={};r[0]&262400&&(o.content=l[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[8]})),r[0]&262400|r[1]&128&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function cl(a){let e,t,l=a[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[8]})+"",r,o,s;return{c(){e=$("button"),t=$("div"),r=J(l),this.h()},l(i){e=V(i,"BUTTON",{class:!0});var n=I(e);t=V(n,"DIV",{class:!0});var u=I(t);r=K(u,l),u.forEach(h),n.forEach(h),this.h()},h(){p(t,"class","truncate"),p(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(i,n){A(i,e,n),b(e,t),b(t,r),o||(s=oe(e,"click",a[33]),o=!0)},p(i,n){n[0]&262400&&l!==(l=i[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:i[8]})+"")&&te(r,l)},d(i){i&&h(e),o=!1,s()}}}function _t(a){let e,t=a[17][a[43]].digest+"",l;return{c(){e=$("div"),l=J(t),this.h()},l(r){e=V(r,"DIV",{class:!0});var o=I(e);l=K(o,t),o.forEach(h),this.h()},h(){p(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(r,o){A(r,e,o),b(e,l)},p(r,o){o[0]&131072&&t!==(t=r[17][r[43]].digest+"")&&te(l,t)},d(r){r&&h(e)}}}function dl(a){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function o(){return a[34](a[43])}return{c(){e=$("button"),e.innerHTML=t,this.h()},l(s){e=V(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){p(e,"class","text-gray-800 dark:text-gray-100")},m(s,i){A(s,e,i),l||(r=oe(e,"click",o),l=!0)},p(s,i){a=s},d(s){s&&h(e),l=!1,r()}}}function pt(a){let e,t,l,r=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,o,s,i,n,u,c=a[43]+"",v,_,E,w,C="pullProgress"in a[17][a[43]]?`(${a[17][a[43]].pullProgress}%)`:"",k,L,T,O,P,M,j,y="digest"in a[17][a[43]]&&a[17][a[43]].digest&&_t(a);return P=new he({props:{content:a[18].t("Cancel"),$$slots:{default:[dl]},$$scope:{ctx:a}}}),{c(){e=$("div"),t=$("div"),l=$("div"),l.innerHTML=r,o=H(),s=$("div"),i=$("div"),n=$("div"),u=J('Downloading "'),v=J(c),_=J('"'),E=H(),w=$("div"),k=J(C),L=H(),y&&y.c(),T=H(),O=$("div"),Q(P.$$.fragment),M=H(),this.h()},l(f){e=V(f,"DIV",{class:!0});var g=I(e);t=V(g,"DIV",{class:!0});var m=I(t);l=V(m,"DIV",{class:!0,"data-svelte-h":!0}),$e(l)!=="svelte-102rp4j"&&(l.innerHTML=r),o=R(m),s=V(m,"DIV",{class:!0});var D=I(s);i=V(D,"DIV",{class:!0});var z=I(i);n=V(z,"DIV",{class:!0});var W=I(n);u=K(W,'Downloading "'),v=K(W,c),_=K(W,'"'),W.forEach(h),E=R(z),w=V(z,"DIV",{class:!0});var q=I(w);k=K(q,C),q.forEach(h),z.forEach(h),L=R(D),y&&y.l(D),D.forEach(h),m.forEach(h),T=R(g),O=V(g,"DIV",{class:!0});var le=I(O);X(P.$$.fragment,le),le.forEach(h),M=R(g),g.forEach(h),this.h()},h(){p(l,"class","-ml-2 mr-2.5 translate-y-0.5"),p(n,"class","line-clamp-1"),p(w,"class","shrink-0"),p(i,"class","flex gap-1"),p(s,"class","flex flex-col self-start"),p(t,"class","flex"),p(O,"class","mr-2 ml-1 translate-y-0.5"),p(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(f,g){A(f,e,g),b(e,t),b(t,l),b(t,o),b(t,s),b(s,i),b(i,n),b(n,u),b(n,v),b(n,_),b(i,E),b(i,w),b(w,k),b(s,L),y&&y.m(s,null),b(e,T),b(e,O),x(P,O,null),b(e,M),j=!0},p(f,g){(!j||g[0]&131072)&&c!==(c=f[43]+"")&&te(v,c),(!j||g[0]&131072)&&C!==(C="pullProgress"in f[17][f[43]]?`(${f[17][f[43]].pullProgress}%)`:"")&&te(k,C),"digest"in f[17][f[43]]&&f[17][f[43]].digest?y?y.p(f,g):(y=_t(f),y.c(),y.m(s,null)):y&&(y.d(1),y=null);const m={};g[0]&262144&&(m.content=f[18].t("Cancel")),g[0]&131072|g[1]&128&&(m.$$scope={dirty:g,ctx:f}),P.$set(m)},i(f){j||(N(P.$$.fragment,f),j=!0)},o(f){S(P.$$.fragment,f),j=!1},d(f){f&&h(e),y&&y.d(),ee(P)}}}function gt(a){let e,t,l,r,o,s,i,n=a[18].t("Temporary Chat")+"",u,c,v,_,E,w,C;return s=new xt({props:{className:"size-4",strokeWidth:"2.5"}}),_=new Kt({props:{state:a[21]}}),{c(){e=$("hr"),t=H(),l=$("div"),r=$("button"),o=$("div"),Q(s.$$.fragment),i=H(),u=J(n),c=H(),v=$("div"),Q(_.$$.fragment),this.h()},l(k){e=V(k,"HR",{class:!0}),t=R(k),l=V(k,"DIV",{class:!0});var L=I(l);r=V(L,"BUTTON",{class:!0});var T=I(r);o=V(T,"DIV",{class:!0});var O=I(o);X(s.$$.fragment,O),i=R(O),u=K(O,n),O.forEach(h),c=R(T),v=V(T,"DIV",{});var P=I(v);X(_.$$.fragment,P),P.forEach(h),T.forEach(h),L.forEach(h),this.h()},h(){p(e,"class","border-gray-100 dark:border-gray-800"),p(o,"class","flex gap-2.5 items-center"),p(r,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),p(l,"class","flex items-center mx-2 my-2")},m(k,L){A(k,e,L),A(k,t,L),A(k,l,L),b(l,r),b(r,o),x(s,o,null),b(o,i),b(o,u),b(r,c),b(r,v),x(_,v,null),E=!0,w||(C=oe(r,"click",a[35]),w=!0)},p(k,L){(!E||L[0]&262144)&&n!==(n=k[18].t("Temporary Chat")+"")&&te(u,n);const T={};L[0]&2097152&&(T.state=k[21]),_.$set(T)},i(k){E||(N(s.$$.fragment,k),N(_.$$.fragment,k),E=!0)},o(k){S(s.$$.fragment,k),S(_.$$.fragment,k),E=!1},d(k){k&&(h(e),h(t),h(l)),ee(s),ee(_),w=!1,C()}}}function ml(a){let e,t,l,r,o=!(a[8].trim()in a[17])&&a[8]&&a[14]&&a[20].role==="admin",s,i,n,u,c,v,_,E=a[3]&&lt(a),w=a[12]&&at(a),C=ie(a[16]),k=[];for(let f=0;f<C.length;f+=1)k[f]=mt(Xe(a,C,f));const L=f=>S(k[f],1,1,()=>{k[f]=null});let T=null;C.length||(T=st(a));let O=o&&ht(a),P=ie(Object.keys(a[17])),M=[];for(let f=0;f<P.length;f+=1)M[f]=pt(Qe(a,P,f));const j=f=>S(M[f],1,1,()=>{M[f]=null});let y=a[5]&&gt(a);return{c(){E&&E.c(),e=H(),t=$("div"),w&&w.c(),l=H();for(let f=0;f<k.length;f+=1)k[f].c();T&&T.c(),r=H(),O&&O.c(),s=H();for(let f=0;f<M.length;f+=1)M[f].c();i=H(),y&&y.c(),n=H(),u=$("div"),c=H(),v=$("div"),this.h()},l(f){E&&E.l(f),e=R(f),t=V(f,"DIV",{class:!0});var g=I(t);w&&w.l(g),l=R(g);for(let m=0;m<k.length;m+=1)k[m].l(g);T&&T.l(g),r=R(g),O&&O.l(g),s=R(g);for(let m=0;m<M.length;m+=1)M[m].l(g);g.forEach(h),i=R(f),y&&y.l(f),n=R(f),u=V(f,"DIV",{class:!0}),I(u).forEach(h),c=R(f),v=V(f,"DIV",{class:!0}),I(v).forEach(h),this.h()},h(){p(t,"class","px-3 mb-2 max-h-64 overflow-y-auto scrollbar-hidden group relative"),p(u,"class","hidden w-[42rem]"),p(v,"class","hidden w-[32rem]")},m(f,g){E&&E.m(f,g),A(f,e,g),A(f,t,g),w&&w.m(t,null),b(t,l);for(let m=0;m<k.length;m+=1)k[m]&&k[m].m(t,null);T&&T.m(t,null),b(t,r),O&&O.m(t,null),b(t,s);for(let m=0;m<M.length;m+=1)M[m]&&M[m].m(t,null);A(f,i,g),y&&y.m(f,g),A(f,n,g),A(f,u,g),A(f,c,g),A(f,v,g),_=!0},p(f,g){if(f[3]?E?(E.p(f,g),g[0]&8&&N(E,1)):(E=lt(f),E.c(),N(E,1),E.m(e.parentNode,e)):E&&(re(),S(E,1,1,()=>{E=null}),se()),f[12]?w?w.p(f,g):(w=at(f),w.c(),w.m(t,l)):w&&(w.d(1),w=null),g[0]&1935361){C=ie(f[16]);let m;for(m=0;m<C.length;m+=1){const D=Xe(f,C,m);k[m]?(k[m].p(D,g),N(k[m],1)):(k[m]=mt(D),k[m].c(),N(k[m],1),k[m].m(t,r))}for(re(),m=C.length;m<k.length;m+=1)L(m);se(),!C.length&&T?T.p(f,g):C.length?T&&(T.d(1),T=null):(T=st(f),T.c(),T.m(t,r))}if(g[0]&1196288&&(o=!(f[8].trim()in f[17])&&f[8]&&f[14]&&f[20].role==="admin"),o?O?(O.p(f,g),g[0]&1196288&&N(O,1)):(O=ht(f),O.c(),N(O,1),O.m(t,s)):O&&(re(),S(O,1,1,()=>{O=null}),se()),g[0]&17170432){P=ie(Object.keys(f[17]));let m;for(m=0;m<P.length;m+=1){const D=Qe(f,P,m);M[m]?(M[m].p(D,g),N(M[m],1)):(M[m]=pt(D),M[m].c(),N(M[m],1),M[m].m(t,null))}for(re(),m=P.length;m<M.length;m+=1)j(m);se()}f[5]?y?(y.p(f,g),g[0]&32&&N(y,1)):(y=gt(f),y.c(),N(y,1),y.m(n.parentNode,n)):y&&(re(),S(y,1,1,()=>{y=null}),se())},i(f){if(!_){N(E);for(let g=0;g<C.length;g+=1)N(k[g]);N(O);for(let g=0;g<P.length;g+=1)N(M[g]);N(y),_=!0}},o(f){S(E),k=k.filter(Boolean);for(let g=0;g<k.length;g+=1)S(k[g]);S(O),M=M.filter(Boolean);for(let g=0;g<M.length;g+=1)S(M[g]);S(y),_=!1},d(f){f&&(h(e),h(t),h(i),h(n),h(u),h(c),h(v)),E&&E.d(f),w&&w.d(),De(k,f),T&&T.d(),O&&O.d(),De(M,f),y&&y.d(f)}}}function hl(a){let e;const t=a[26].default,l=Mt(t,a,a[38],null),r=l||ml(a);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,s){r&&r.m(o,s),e=!0},p(o,s){l?l.p&&(!e||s[1]&128)&&Nt(l,t,o,o[38],e?zt(t,o[38],s,null):Ot(o[38]),null):r&&r.p&&(!e||s[0]&4185913)&&r.p(o,e?s:[-1,-1])},i(o){e||(N(r,o),e=!0)},o(o){S(r,o),e=!1},d(o){r&&r.d(o)}}}function _l(a){let e,t,l,r;return e=new Lt({props:{class:"relative w-full font-primary","aria-label":a[2],id:"model-selector-"+a[1]+"-button",$$slots:{default:[ll]},$$scope:{ctx:a}}}),l=new Ht({props:{class:" z-40 "+(a[19]?"w-full":`${a[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Ut,side:a[19]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[hl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment),t=H(),Q(l.$$.fragment)},l(o){X(e.$$.fragment,o),t=R(o),X(l.$$.fragment,o)},m(o,s){x(e,o,s),A(o,t,s),x(l,o,s),r=!0},p(o,s){const i={};s[0]&4&&(i["aria-label"]=o[2]),s[0]&2&&(i.id="model-selector-"+o[1]+"-button"),s[0]&8324|s[1]&128&&(i.$$scope={dirty:s,ctx:o}),e.$set(i);const n={};s[0]&524352&&(n.class=" z-40 "+(o[19]?"w-full":`${o[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),s[0]&524288&&(n.side=o[19]?"bottom":"bottom-start"),s[0]&4185913|s[1]&128&&(n.$$scope={dirty:s,ctx:o}),l.$set(n)},i(o){r||(N(e.$$.fragment,o),N(l.$$.fragment,o),r=!0)},o(o){S(e.$$.fragment,o),S(l.$$.fragment,o),r=!1},d(o){o&&h(t),ee(e,o),ee(l,o)}}}function pl(a){let e,t,l;function r(s){a[37](s)}let o={onOpenChange:a[36],closeFocus:!1,$$slots:{default:[_l]},$$scope:{ctx:a}};return a[11]!==void 0&&(o.open=a[11]),e=new jt({props:o}),ze.push(()=>yt(e,"open",r)),{c(){Q(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,i){x(e,s,i),l=!0},p(s,i){const n={};i[0]&33024&&(n.onOpenChange=s[36]),i[0]&4194303|i[1]&128&&(n.$$scope={dirty:i,ctx:s}),!t&&i[0]&2048&&(t=!0,n.open=s[11],bt(()=>t=!1)),e.$set(n)},i(s){l||(N(e.$$.fragment,s),l=!0)},o(s){S(e.$$.fragment,s),l=!1},d(s){ee(e,s)}}}function gl(a,e,t){let l,r,o,s,i,n,u,c;ae(a,ye,d=>t(17,r=d)),ae(a,Dt,d=>t(39,s=d)),ae(a,$t,d=>t(40,i=d)),ae(a,St,d=>t(19,n=d)),ae(a,Vt,d=>t(20,u=d)),ae(a,Ye,d=>t(21,c=d));let{$$slots:v={},$$scope:_}=e;const E=wt("i18n");ae(a,E,d=>t(18,o=d)),Tt();let{id:w=""}=e,{value:C=Ge}=e,{placeholder:k="Select a model"}=e,{searchEnabled:L=!0}=e,{searchPlaceholder:T=o.t("Search a model")}=e,{showTemporaryChatControl:O=!1}=e,{items:P=[]}=e,{className:M="w-[32rem]"}=e,{triggerClassName:j="text-lg"}=e,y,f=!1,g=[],m="",D="",z="",W=null,q=0;const le=new Rt(P.map(d=>{var U,Z,F,Y,ne,ke,ce,G;return{...d,modelName:(U=d.model)==null?void 0:U.name,tags:(ne=(Y=(F=(Z=d.model)==null?void 0:Z.info)==null?void 0:F.meta)==null?void 0:Y.tags)==null?void 0:ne.map(de=>de.name).join(" "),desc:(G=(ce=(ke=d.model)==null?void 0:ke.info)==null?void 0:ce.meta)==null?void 0:G.description}}),{keys:["value","tags","modelName"],threshold:.4}),fe=async()=>{var Z;const d=D.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[d]){me.error(o.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:d}));return}if(Object.keys(r).length===3){me.error(o.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[B,U]=await Yt(localStorage.token,d,"0").catch(F=>(me.error(`${F}`),null));if(B){const F=B.body.pipeThrough(new TextDecoderStream).pipeThrough(Ct(`
`)).getReader();for(ye.set({...r,[d]:{...r[d],abortController:U,reader:F,done:!1}});;)try{const{value:Y,done:ne}=await F.read();if(ne)break;let ke=Y.split(`
`);for(const ce of ke)if(ce!==""){let G=JSON.parse(ce);if(console.log(G),G.error)throw G.error;if(G.detail)throw G.detail;if(G.status)if(G.digest){let de=0;G.completed?de=Math.round(G.completed/G.total*1e3)/10:de=100,ye.set({...r,[d]:{...r[d],pullProgress:de,digest:G.digest}})}else me.success(G.status),ye.set({...r,[d]:{...r[d],done:G.status==="success"}})}}catch(Y){console.log(Y),typeof Y!="string"&&(Y=Y.message),me.error(`${Y}`);break}r[d].done?(me.success(o.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:d})),It.set(await Jt(localStorage.token,((Z=i==null?void 0:i.features)==null?void 0:Z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))):me.error(o.t("Download canceled")),delete r[d],ye.set({...r})}};kt(async()=>{t(14,W=await Ft(localStorage.token).catch(d=>!1)),P&&(t(12,g=P.flatMap(d=>{var B,U,Z;return((Z=(U=(B=d.model)==null?void 0:B.info)==null?void 0:U.meta)==null?void 0:Z.tags)??[]}).map(d=>d.name)),t(12,g=Array.from(new Set(g)).sort((d,B)=>d.localeCompare(B))))});const ue=async d=>{const{reader:B,abortController:U}=r[d];U&&U.abort(),B&&(await B.cancel(),delete r[d],ye.set({...r}),await Gt(localStorage.token,d),me.success(`${d} download has been canceled`))};function _e(){D=this.value,t(8,D)}const pe=d=>{if(d.code==="Enter"&&l.length>0){t(0,C=l[q].value),t(11,f=!1);return}else d.code==="ArrowDown"?t(15,q=Math.min(q+1,l.length-1)):d.code==="ArrowUp"?t(15,q=Math.max(q-1,0)):t(15,q=0);const B=document.querySelector('[data-arrow-selected="true"]');B==null||B.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},ge=()=>{t(9,z="")},ve=d=>{t(9,z=d)};function be(d){ze[d?"unshift":"push"](()=>{y=d,t(10,y)})}const we=(d,B)=>{t(0,C=d.value),t(15,q=B),t(11,f=!1)},Ve=()=>{fe()},Ie=d=>{ue(d)},Ce=async()=>{Ye.set(!c),await Et("/");const d=document.getElementById("new-chat-button");setTimeout(()=>{d==null||d.click()},0),c?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(11,f=!1)},Te=async()=>{t(8,D=""),t(15,q=0),window.setTimeout(()=>{var d;return(d=document.getElementById("model-search-input"))==null?void 0:d.focus()},0)};function Me(d){f=d,t(11,f)}return a.$$set=d=>{"id"in d&&t(1,w=d.id),"value"in d&&t(0,C=d.value),"placeholder"in d&&t(2,k=d.placeholder),"searchEnabled"in d&&t(3,L=d.searchEnabled),"searchPlaceholder"in d&&t(4,T=d.searchPlaceholder),"showTemporaryChatControl"in d&&t(5,O=d.showTemporaryChatControl),"items"in d&&t(25,P=d.items),"className"in d&&t(6,M=d.className),"triggerClassName"in d&&t(7,j=d.triggerClassName),"$$scope"in d&&t(38,_=d.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&33554432&&t(13,m=P.find(d=>d.value===Ge)??""),a.$$.dirty[0]&33555200&&t(16,l=D?le.search(D).map(d=>d.item).filter(d=>{var B,U,Z,F;return z===""?!0:(F=(Z=(U=(B=d.model)==null?void 0:B.info)==null?void 0:U.meta)==null?void 0:Z.tags)==null?void 0:F.map(Y=>Y.name).includes(z)}):P.filter(d=>{var B,U,Z,F;return z===""?!0:(F=(Z=(U=(B=d.model)==null?void 0:B.info)==null?void 0:U.meta)==null?void 0:Z.tags)==null?void 0:F.map(Y=>Y.name).includes(z)}))},[C,w,k,L,T,O,M,j,D,z,y,f,g,m,W,q,l,r,o,n,u,c,E,fe,ue,P,v,_e,pe,ge,ve,be,we,Ve,Ie,Ce,Te,Me,_]}class vl extends Be{constructor(e){super(),Se(this,e,gl,pl,Oe,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:25,className:6,triggerClassName:7},null,[-1,-1])}}function bl(a){let e,t=a[5].t("Cancel")+"",l,r,o;return{c(){e=$("button"),l=J(t),this.h()},l(s){e=V(s,"BUTTON",{class:!0});var i=I(e);l=K(i,t),i.forEach(h),this.h()},h(){p(e,"class","px-3 py-1.5 text-sm font-medium bg-gray-300 text-black transition rounded-full")},m(s,i){A(s,e,i),b(e,l),r||(o=oe(e,"click",a[13]),r=!0)},p(s,i){i&32&&t!==(t=s[5].t("Cancel")+"")&&te(l,t)},d(s){s&&h(e),r=!1,o()}}}function wl(a){let e,t=a[5].t("Run")+"",l,r,o;return{c(){e=$("button"),l=J(t),this.h()},l(s){e=V(s,"BUTTON",{class:!0});var i=I(e);l=K(i,t),i.forEach(h),this.h()},h(){p(e,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full")},m(s,i){A(s,e,i),b(e,l),r||(o=oe(e,"click",a[12]),r=!0)},p(s,i){i&32&&t!==(t=s[5].t("Run")+"")&&te(l,t)},d(s){s&&h(e),r=!1,o()}}}function kl(a){let e,t,l,r,o,s,i,n,u,c,v,_,E,w,C,k,L,T,O,P,M;function j(D){a[9](D)}let y={placeholder:a[5].t("Select a model"),items:a[4].map(vt)};a[1]!==void 0&&(y.value=a[1]),u=new vl({props:y}),ze.push(()=>yt(u,"value",j));function f(D,z){return D[2]?bl:wl}let g=f(a),m=g(a);return{c(){e=$("div"),t=$("div"),l=$("div"),r=$("div"),o=$("div"),s=$("div"),i=$("div"),n=$("div"),Q(u.$$.fragment),v=H(),_=$("div"),E=$("div"),w=$("div"),C=$("textarea"),L=H(),T=$("div"),m.c(),this.h()},l(D){e=V(D,"DIV",{class:!0});var z=I(e);t=V(z,"DIV",{class:!0});var W=I(t);l=V(W,"DIV",{class:!0});var q=I(l);r=V(q,"DIV",{class:!0});var le=I(r);o=V(le,"DIV",{class:!0});var fe=I(o);s=V(fe,"DIV",{class:!0});var ue=I(s);i=V(ue,"DIV",{class:!0});var _e=I(i);n=V(_e,"DIV",{class:!0});var pe=I(n);X(u.$$.fragment,pe),pe.forEach(h),_e.forEach(h),ue.forEach(h),fe.forEach(h),le.forEach(h),v=R(q),_=V(q,"DIV",{class:!0,id:!0});var ge=I(_);E=V(ge,"DIV",{class:!0});var ve=I(E);w=V(ve,"DIV",{class:!0});var be=I(w);C=V(be,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),I(C).forEach(h),be.forEach(h),ve.forEach(h),ge.forEach(h),L=R(q),T=V(q,"DIV",{class:!0});var we=I(T);m.l(we),we.forEach(h),q.forEach(h),W.forEach(h),z.forEach(h),this.h()},h(){p(n,"class","max-w-full"),p(i,"class","overflow-hidden w-full"),p(s,"class","flex w-full"),p(o,"class","flex flex-col gap-1 w-full"),p(r,"class","flex flex-col justify-between mb-1 gap-1"),p(C,"id","text-completion-textarea"),p(C,"class","w-full h-full p-3 bg-transparent border border-gray-100 dark:border-gray-850 outline-hidden resize-none rounded-lg text-sm"),p(C,"placeholder",k=a[5].t("You're a helpful assistant.")),p(w,"class","flex-1"),p(E,"class","h-full w-full flex flex-col"),p(_,"class","pt-0.5 pb-2.5 flex flex-col justify-between w-full flex-auto overflow-auto h-0"),p(_,"id","messages-container"),p(T,"class","pb-3 flex justify-end"),p(l,"class","flex flex-col h-full px-4"),p(t,"class","mx-auto w-full md:px-0 h-full"),p(e,"class","flex flex-col justify-between w-full overflow-y-auto h-full")},m(D,z){A(D,e,z),b(e,t),b(t,l),b(l,r),b(r,o),b(o,s),b(s,i),b(i,n),x(u,n,null),b(l,v),b(l,_),b(_,E),b(E,w),b(w,C),a[10](C),Ne(C,a[0]),b(l,L),b(l,T),m.m(T,null),O=!0,P||(M=oe(C,"input",a[11]),P=!0)},p(D,[z]){const W={};z&32&&(W.placeholder=D[5].t("Select a model")),z&16&&(W.items=D[4].map(vt)),!c&&z&2&&(c=!0,W.value=D[1],bt(()=>c=!1)),u.$set(W),(!O||z&32&&k!==(k=D[5].t("You're a helpful assistant.")))&&p(C,"placeholder",k),z&1&&Ne(C,D[0]),g===(g=f(D))&&m?m.p(D,z):(m.d(1),m=g(D),m&&(m.c(),m.m(T,null)))},i(D){O||(N(u.$$.fragment,D),O=!0)},o(D){S(u.$$.fragment,D),O=!1},d(D){D&&h(e),ee(u),a[10](null),m.d(),P=!1,M()}}}const vt=a=>({value:a.id,label:a.name,model:a});function yl(a,e,t){let l,r,o,s,i;ae(a,$t,y=>t(16,l=y)),ae(a,Dt,y=>t(17,r=y)),ae(a,Vt,y=>t(18,o=y)),ae(a,It,y=>t(4,s=y));const n=wt("i18n");ae(a,n,y=>t(5,i=y));let u="",c="",v=!1,_=!1,E;const w=()=>{const y=E;y&&(y.scrollTop=y==null?void 0:y.scrollHeight)},C=()=>{_=!0,console.log("stopResponse")},k=async()=>{const y=s.find(m=>m.id===c),[f,g]=await Pt(localStorage.token,{model:y.id,stream:!0,messages:[{role:"assistant",content:u}]},`${At}/api`);if(f&&f.ok){const m=f.body.pipeThrough(new TextDecoderStream).pipeThrough(Ct(`
`)).getReader();for(;;){const{value:D,done:z}=await m.read();if(z||_){_&&g.abort("User: Stop Response");break}try{let W=D.split(`
`);for(const q of W)if(q!=="")if(q.includes("[DONE]"))console.log("done");else{let le=JSON.parse(q.replace(/^data: /,""));console.log(le),t(0,u+=le.choices[0].delta.content??"")}}catch(W){console.log(W)}w()}}},L=async()=>{c&&(t(2,v=!0),await k(),t(2,v=!1),_=!1)};kt(async()=>{(o==null?void 0:o.role)!=="admin"&&await Et("/"),r!=null&&r.models?t(1,c=r==null?void 0:r.models[0]):l!=null&&l.default_models?t(1,c=l==null?void 0:l.default_models.split(",")[0]):t(1,c="")});function T(y){c=y,t(1,c)}function O(y){ze[y?"unshift":"push"](()=>{E=y,t(3,E)})}function P(){u=this.value,t(0,u)}return[u,c,v,E,s,i,n,C,L,T,O,P,()=>{L()},()=>{C()}]}class El extends Be{constructor(e){super(),Se(this,e,yl,kl,Oe,{})}}function Dl(a){let e,t;return e=new El({}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,r){x(e,l,r),t=!0},p:Ee,i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}class Wl extends Be{constructor(e){super(),Se(this,e,null,Dl,Oe,{})}}export{Wl as component};
//# sourceMappingURL=19.-A8GW-f7.js.map
